(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{8924:function(e,t,n){"use strict";n.d(t,{z:function(){return y}});var r=n(7462),i=n(7294),o=n(9477),a=n(8803),l=n(1180),s=n(4360),u=n(7628);class c extends u.w{constructor(e,t="tDiffuse"){super(),(0,l.Z)(this,"textureID",void 0),(0,l.Z)(this,"uniforms",void 0),(0,l.Z)(this,"material",void 0),(0,l.Z)(this,"fsQuad",void 0),this.textureID=t,e instanceof o.ShaderMaterial?(this.uniforms=e.uniforms,this.material=e):(this.uniforms=o.UniformsUtils.clone(e.uniforms),this.material=new o.ShaderMaterial({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new u.T(this.material)}render(e,t,n){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}}class f extends u.w{constructor(e,t){super(),(0,l.Z)(this,"scene",void 0),(0,l.Z)(this,"camera",void 0),(0,l.Z)(this,"inverse",void 0),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,n){let r,i;let o=e.getContext(),a=e.state;a.buffers.color.setMask(!1),a.buffers.depth.setMask(!1),a.buffers.color.setLocked(!0),a.buffers.depth.setLocked(!0),this.inverse?(r=0,i=1):(r=1,i=0),a.buffers.stencil.setTest(!0),a.buffers.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),a.buffers.stencil.setFunc(o.ALWAYS,r,4294967295),a.buffers.stencil.setClear(i),a.buffers.stencil.setLocked(!0),e.setRenderTarget(n),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),a.buffers.color.setLocked(!1),a.buffers.depth.setLocked(!1),a.buffers.stencil.setLocked(!1),a.buffers.stencil.setFunc(o.EQUAL,1,4294967295),a.buffers.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),a.buffers.stencil.setLocked(!0)}}class d extends u.w{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class p{constructor(e,t){if((0,l.Z)(this,"renderer",void 0),(0,l.Z)(this,"_pixelRatio",void 0),(0,l.Z)(this,"_width",void 0),(0,l.Z)(this,"_height",void 0),(0,l.Z)(this,"renderTarget1",void 0),(0,l.Z)(this,"renderTarget2",void 0),(0,l.Z)(this,"writeBuffer",void 0),(0,l.Z)(this,"readBuffer",void 0),(0,l.Z)(this,"renderToScreen",void 0),(0,l.Z)(this,"passes",[]),(0,l.Z)(this,"copyPass",void 0),(0,l.Z)(this,"clock",void 0),this.renderer=e,void 0===t){let n={minFilter:o.LinearFilter,magFilter:o.LinearFilter,format:o.RGBAFormat},r=e.getSize(new o.Vector2);this._pixelRatio=e.getPixelRatio(),this._width=r.width,this._height=r.height,(t=new o.WebGLRenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,n)).texture.name="EffectComposer.rt1"}else this._pixelRatio=1,this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,void 0===s.C&&console.error("THREE.EffectComposer relies on CopyShader"),void 0===c&&console.error("THREE.EffectComposer relies on ShaderPass"),this.copyPass=new c(s.C),this.clock=new o.Clock}swapBuffers(){let e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){let t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){void 0===e&&(e=this.clock.getDelta());let t=this.renderer.getRenderTarget(),n=!1,r=this.passes.length;for(let i=0;i<r;i++){let o=this.passes[i];if(!1!==o.enabled){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(i),o.render(this.renderer,this.writeBuffer,this.readBuffer,e,n),o.needsSwap){if(n){let a=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),l.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==f&&(o instanceof f?n=!0:o instanceof d&&(n=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(void 0===e){let t=this.renderer.getSize(new o.Vector2);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;let n=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(n,r),this.renderTarget2.setSize(n,r);for(let i=0;i<this.passes.length;i++)this.passes[i].setSize(n,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}}class h extends u.w{constructor(e,t,n,r,i=0){super(),(0,l.Z)(this,"scene",void 0),(0,l.Z)(this,"camera",void 0),(0,l.Z)(this,"overrideMaterial",void 0),(0,l.Z)(this,"clearColor",void 0),(0,l.Z)(this,"clearAlpha",void 0),(0,l.Z)(this,"clearDepth",!1),(0,l.Z)(this,"_oldClearColor",new o.Color),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=r,this.clearAlpha=i,this.clear=!0,this.needsSwap=!1}render(e,t,n){let r,i=e.autoClear;e.autoClear=!1;let o=null;void 0!==this.overrideMaterial&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor&&(e.getClearColor(this._oldClearColor),r=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:n),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor&&e.setClearColor(this._oldClearColor,r),void 0!==this.overrideMaterial&&(this.scene.overrideMaterial=o),e.autoClear=i}}let m={uniforms:{tDiffuse:{value:null}},vertexShader:"varying vec2 vUv;\nvoid main() {\n	vUv = uv;\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nvarying vec2 vUv;\nvoid main() {\n	vec4 tex = texture2D( tDiffuse, vUv );\n	gl_FragColor = LinearTosRGB( tex );\n}"};var g=n(5878);let y=i.forwardRef(({children:e,multisamping:t=8,renderIndex:n=1,disableRender:l,disableGamma:s,disableRenderPass:u,depthBuffer:f=!0,stencilBuffer:d=!1,anisotropy:y=1,encoding:b,type:x,..._},w)=>{i.useMemo(()=>(0,a.e)({EffectComposer:p,RenderPass:h,ShaderPass:c}),[]);let S=i.useRef(),{scene:E,camera:C,gl:P,size:z,viewport:k}=(0,a.z)(),[O]=i.useState(()=>{let e=new o.WebGLRenderTarget(z.width,z.height,{type:x||o.HalfFloatType,format:o.RGBAFormat,encoding:b||P.outputEncoding,depthBuffer:f,stencilBuffer:d,anisotropy:y});return e.samples=t,e});i.useEffect(()=>{var e,t;null==(e=S.current)||e.setSize(z.width,z.height),null==(t=S.current)||t.setPixelRatio(k.dpr)},[P,z,k.dpr]),(0,a.A)(()=>{var e;l||null==(e=S.current)||e.render()},n);let M=[];return u||M.push(i.createElement("renderPass",{key:"renderpass",attach:`passes-${M.length}`,args:[E,C]})),s||M.push(i.createElement("shaderPass",{attach:`passes-${M.length}`,key:"gammapass",args:[m]})),i.Children.forEach(e,e=>{e&&M.push(i.cloneElement(e,{key:M.length,attach:`passes-${M.length}`}))}),i.createElement("effectComposer",(0,r.Z)({ref:(0,g.Z)([w,S]),args:[P,O]},_),M)})},8803:function(e,t,n){"use strict";let r,i,o;n.d(t,{A:function(){return ei},B:function(){return P},E:function(){return z},a:function(){return eh},b:function(){return E},c:function(){return V},d:function(){return ev},e:function(){return K},i:function(){return S},u:function(){return C},z:function(){return er}});var a,l,s=n(9477),u=n(7294),c=n(2576),f=n(4671),d=n(6525),p=n.n(d),h=n(3840);function m(e,t,n=(e,t)=>e===t){if(e===t)return!0;if(!e||!t)return!1;let r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}let g=[];function y(e,t,n=!1,r={}){for(let i of g)if(m(t,i.keys,i.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(i,"error"))throw i.error;if(Object.prototype.hasOwnProperty.call(i,"response"))return i.response;if(!n)throw i.promise}let o={keys:t,equal:r.equal,promise:e(...t).then(e=>o.response=e).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{let e=g.indexOf(o);-1!==e&&g.splice(e,1)},r.lifespan)}).catch(e=>o.error=e)};if(g.push(o),!n)throw o.promise}let b=(e,t,n)=>y(e,t,!1,n),x=(e,t,n)=>void y(e,t,!0,n),_=e=>{if(void 0===e||0===e.length)g.splice(0,g.length);else{let t=g.find(t=>m(e,t.keys,t.equal));if(t){let n=g.indexOf(t);-1!==n&&g.splice(n,1)}}},w=e=>e&&e.isOrthographicCamera,S=e=>e&&e.hasOwnProperty("current"),E="undefined"!=typeof window&&(null!=(a=window.document)&&a.createElement||(null==(l=window.navigator)?void 0:l.product)==="ReactNative")?u.useLayoutEffect:u.useEffect;function C(e){let t=u.useRef(e);return E(()=>void(t.current=e),[e]),t}function P({set:e}){return E(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null}class z extends u.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}z.getDerivedStateFromError=()=>({error:!0});let k="__default",O=e=>e&&!!e.memoized&&!!e.changes;function M(e){let t="undefined"!=typeof window?window.devicePixelRatio:1;return Array.isArray(e)?Math.min(Math.max(e[0],t),e[1]):e}let T=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()},j={obj:e=>e===Object(e)&&!j.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){let o;if(typeof e!=typeof t||!!e!=!!t)return!1;if(j.str(e)||j.num(e))return e===t;let a=j.obj(e);if(a&&"reference"===r)return e===t;let l=j.arr(e);if(l&&"reference"===n)return e===t;if((l||a)&&e===t)return!0;for(o in e)if(!(o in t))return!1;for(o in i?t:e)if(e[o]!==t[o])return!1;if(j.und(o)){if(l&&0===e.length&&0===t.length||a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function R(e,t){let n=e;return(null!=t&&t.primitive||!n.__r3f)&&(n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t}),e}function I(e,t){let n=e;if(!t.includes("-"))return{target:n,key:t};{let r=t.split("-"),i=r.pop();return n=r.reduce((e,t)=>e[t],e),{target:n,key:i}}}let A=/-\d+$/;function $(e,t,n){if(j.str(n)){if(A.test(n)){let r=n.replace(A,""),{target:i,key:o}=I(e,r);Array.isArray(i[o])||(i[o]=[])}let{target:a,key:l}=I(e,n);t.__r3f.previousAttach=a[l],a[l]=t}else t.__r3f.previousAttach=n(e,t)}function D(e,t,n){var r,i;if(j.str(n)){let{target:o,key:a}=I(e,n),l=t.__r3f.previousAttach;void 0===l?delete o[a]:o[a]=l}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function N(e,{children:t,key:n,ref:r,...i},{children:o,key:a,ref:l,...s}={},u=!1){var c;let f=null!=(c=null==e?void 0:e.__r3f)?c:{},d=Object.entries(i),p=[];if(u){let h=Object.keys(s);for(let m=0;m<h.length;m++)i.hasOwnProperty(h[m])||d.unshift([h[m],k+"remove"])}d.forEach(([t,n])=>{var r;if(null!=(r=e.__r3f)&&r.primitive&&"object"===t||j.equ(n,s[t]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(t))return p.push([t,n,!0,[]]);let o=[];for(let a in t.includes("-")&&(o=t.split("-")),p.push([t,n,!1,o]),i){let l=i[a];a.startsWith(`${t}-`)&&p.push([a,l,!1,a.split("-")])}});let g={...i};return f.memoizedProps&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:p}}function L(e,t){var n,r,i,o,a;let l=null!=(n=e.__r3f)?n:{},u=l.root,c=null!=(r=null==u?void 0:null==u.getState?void 0:u.getState())?r:{},{memoized:f,changes:d}=O(t)?t:N(e,t),p=l.eventCount;e.__r3f&&(e.__r3f.memoizedProps=f);for(let h=0;h<d.length;h++){let[m,g,y,b]=d[h],x=e,_=x[m];if(b.length&&!((_=b.reduce((e,t)=>e[t],e))&&_.set)){let[w,...S]=b.reverse();x=S.reverse().reduce((e,t)=>e[t],e),m=w}if(g===k+"remove"){if(_&&_.constructor)g=new _.constructor(...null!=(o=f.args)?o:[]);else if(x.constructor){let E=new x.constructor(...null!=(a=x.__r3f.memoizedProps.args)?a:[]);g=E[_],E.dispose&&E.dispose()}else g=0}if(y)g?l.handlers[m]=g:delete l.handlers[m],l.eventCount=Object.keys(l.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof s.Layers)){if(Array.isArray(g))_.fromArray?_.fromArray(g):_.set(...g);else if(_.copy&&g&&g.constructor&&_.constructor.name===g.constructor.name)_.copy(g);else if(void 0!==g){let C=_ instanceof s.Color;!C&&_.setScalar?_.setScalar(g):_ instanceof s.Layers&&g instanceof s.Layers?_.mask=g.mask:_.set(g)}}else x[m]=g,!c.linear&&x[m]instanceof s.Texture&&(x[m].encoding=s.sRGBEncoding);B(e)}if(l.parent&&c.internal&&e.raycast&&p!==l.eventCount){let P=c.internal.interaction.indexOf(e);P>-1&&c.internal.interaction.splice(P,1),l.eventCount&&c.internal.interaction.push(e)}return d.length&&null!=(i=e.__r3f)&&i.parent&&F(e),e}function B(e){var t,n;let r=null==(t=e.__r3f)?void 0:null==(n=t.root)?void 0:null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function F(e){null==e.onUpdate||e.onUpdate(e)}function U(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function H(e,t,n,r){let i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function V(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}function n(t){let{internal:n}=e.getState();for(let r of n.hovered.values())if(!t.length||!t.find(e=>e.object===r.object&&e.index===r.index&&e.instanceId===r.instanceId)){let i=r.eventObject,o=i.__r3f,a=null==o?void 0:o.handlers;if(n.hovered.delete(U(r)),null!=o&&o.eventCount){let l={...r,intersections:t};null==a.onPointerOut||a.onPointerOut(l),null==a.onPointerLeave||a.onPointerLeave(l)}}}function r(e,t){for(let n=0;n<t.length;n++){let r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{let{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))}}return function(o){let{onPointerMissed:a,internal:l}=e.getState();l.lastEvent.current=o;let u="onPointerMove"===i,c="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,f=function(t,n){let r=e.getState(),i=new Set,o=[],a=n?n(r.internal.interaction):r.internal.interaction;for(let l=0;l<a.length;l++){let s=T(a[l]);s&&(s.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let u=a.flatMap(function(e){let n=T(e);if(!n||!n.events.enabled||null===n.raycaster.camera)return[];if(void 0===n.raycaster.camera){var r;null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)}return n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]}).sort((e,t)=>{let n=T(e.object),r=T(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance}).filter(e=>{let t=U(e);return!i.has(t)&&(i.add(t),!0)});for(let c of(r.events.filter&&(u=r.events.filter(u,r)),u)){let f=c.object;for(;f;){var d;null!=(d=f.__r3f)&&d.eventCount&&o.push({...c,eventObject:f}),f=f.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let p of r.internal.capturedMap.get(t.pointerId).values())i.has(U(p.intersection))||o.push(p.intersection);return o}(o,u?t:void 0),d=c?function(t){let{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(o):0;"onPointerDown"===i&&(l.initialClick=[o.offsetX,o.offsetY],l.initialHits=f.map(e=>e.eventObject)),c&&!f.length&&d<=2&&(r(o,l.interaction),a&&a(o)),u&&n(f),function(t,r,i,o){let a=e.getState();if(t.length){let l={stopped:!1};for(let u of t){let c=T(u.object)||a,{raycaster:f,pointer:d,camera:p,internal:h}=c,m=new s.Vector3(d.x,d.y,0).unproject(p),g=e=>{var t,n;return null!=(t=null==(n=h.capturedMap.get(e))?void 0:n.has(u.eventObject))&&t},y=e=>{let t={intersection:u,target:r.target};h.capturedMap.has(e)?h.capturedMap.get(e).set(u.eventObject,t):h.capturedMap.set(e,new Map([[u.eventObject,t]])),r.target.setPointerCapture(e)},b=e=>{let t=h.capturedMap.get(e);t&&H(h.capturedMap,u.eventObject,t,e)},x={};for(let _ in r){let w=r[_];"function"!=typeof w&&(x[_]=w)}let S={...u,...x,pointer:d,intersections:t,stopped:l.stopped,delta:i,unprojectedPoint:m,ray:f.ray,camera:p,stopPropagation(){let e="pointerId"in r&&h.capturedMap.get(r.pointerId);if((!e||e.has(u.eventObject))&&(S.stopped=l.stopped=!0,h.hovered.size&&Array.from(h.hovered.values()).find(e=>e.eventObject===u.eventObject))){let i=t.slice(0,t.indexOf(u));n([...i,u])}},target:{hasPointerCapture:g,setPointerCapture:y,releasePointerCapture:b},currentTarget:{hasPointerCapture:g,setPointerCapture:y,releasePointerCapture:b},nativeEvent:r};if(o(S),!0===l.stopped)break}}}(f,o,d,function(e){let t=e.eventObject,n=t.__r3f,a=null==n?void 0:n.handlers;if(null!=n&&n.eventCount){if(u){if(a.onPointerOver||a.onPointerEnter||a.onPointerOut||a.onPointerLeave){let s=U(e),f=l.hovered.get(s);f?f.stopped&&e.stopPropagation():(l.hovered.set(s,e),null==a.onPointerOver||a.onPointerOver(e),null==a.onPointerEnter||a.onPointerEnter(e))}null==a.onPointerMove||a.onPointerMove(e)}else{let d=a[i];d?(!c||l.initialHits.includes(t))&&(r(o,l.interaction.filter(e=>!l.initialHits.includes(e))),d(e)):c&&l.initialHits.includes(t)&&r(o,l.interaction.filter(e=>!l.initialHits.includes(e)))}}})}}}}let W={},K=e=>void(W={...W,...e}),G=e=>!!(null!=e&&e.render),q=u.createContext(null),Y=(e,t)=>{let n=(0,f.Z)((n,r)=>{let i;let o=new s.Vector3,a=new s.Vector3,l=new s.Vector3;function c(e=r().camera,t=a,n=r().size){let{width:i,height:u,top:c,left:f}=n,d=i/u;t instanceof s.Vector3?l.copy(t):l.set(...t);let p=e.getWorldPosition(o).distanceTo(l);if(w(e))return{width:i/e.zoom,height:u/e.zoom,top:c,left:f,factor:1,distance:p,aspect:d};{let h=e.fov*Math.PI/180,m=2*Math.tan(h/2)*p,g=m*(i/u);return{width:g,height:m,top:c,left:f,factor:i/g,distance:p,aspect:d}}}let f=e=>n(t=>({performance:{...t.performance,current:e}})),d=new s.Vector2,p={set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(t=1)=>e(r(),t),advance:(e,n)=>t(e,n,r()),legacy:!1,linear:!1,flat:!1,scene:R(new s.Scene),controls:null,clock:new s.Clock,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress(){let e=r();i&&clearTimeout(i),e.performance.current!==e.performance.min&&f(e.performance.min),i=setTimeout(()=>f(r().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:c},setEvents:e=>n(t=>({...t,events:{...t.events,...e}})),setSize(e,t,i,o,l){let s=r().camera,u={width:e,height:t,top:o||0,left:l||0,updateStyle:i};n(e=>({size:u,viewport:{...e.viewport,...c(s,a,u)}}))},setDpr:e=>n(t=>{let n=M(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}}),setFrameloop(e="always"){let t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n(()=>({frameloop:e}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:u.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe(e,t,n){let i=r().internal;return i.priority=i.priority+(t>0?1:0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort((e,t)=>e.priority-t.priority),()=>{let n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter(t=>t.ref!==e))}}}};return p}),r=n.getState(),i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{let{camera:e,size:t,viewport:r,gl:l,set:s}=n.getState();if(t!==i||r.dpr!==o){var u;i=t,o=r.dpr,(u=e).manual||(w(u)?(u.left=-(t.width/2),u.right=t.width/2,u.top=t.height/2,u.bottom=-(t.height/2)):u.aspect=t.width/t.height,u.updateProjectionMatrix(),u.updateMatrixWorld()),l.setPixelRatio(r.dpr),l.setSize(t.width,t.height,t.updateStyle)}e!==a&&(a=e,s(t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}})))}),n.subscribe(t=>e(t)),n},Q=new Set,Z=new Set,X=new Set;function J(e,t){if(e.size)for(let{callback:n}of e.values())n(t)}function ee(e,t){switch(e){case"before":return J(Q,t);case"after":return J(Z,t);case"tail":return J(X,t)}}function et(e,t,n){let a=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(a=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),i=t.internal.subscribers,r=0;r<i.length;r++)(o=i[r]).ref.current(o.store.getState(),a,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function en(){let e=u.useContext(q);if(!e)throw Error("R3F: Hooks can only be used within the Canvas component!");return e}function er(e=e=>e,t){return en()(e,t)}function ei(e,t=0){let n=en(),r=n.getState().internal.subscribe,i=C(e);return E(()=>r(i,t,n),[t,r,n]),null}function eo(e,t){return function(n,...r){let i=new n;return e&&e(i),Promise.all(r.map(e=>new Promise((n,r)=>i.load(e,e=>{e.scene&&Object.assign(e,function(e){let t={nodes:{},materials:{}};return e&&e.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)}),t}(e.scene)),n(e)},t,t=>r(Error(`Could not load ${e}: ${t.message})`))))))}}function ea(e,t,n,r){let i=Array.isArray(t)?t:[t],o=b(eo(n,r),[e,...i],{equal:j.equ});return Array.isArray(t)?o:o[0]}ea.preload=function(e,t,n){let r=Array.isArray(t)?t:[t];return x(eo(n),[e,...r])},ea.clear=function(e,t){let n=Array.isArray(t)?t:[t];return _([e,...n])};let el=new Map,{invalidate:es,advance:eu}=function(e){let t,n,r,i=!1;function o(a){for(let l of(n=requestAnimationFrame(o),i=!0,t=0,ee("before",a),e.values())){var s;(r=l.store.getState()).internal.active&&("always"===r.frameloop||r.internal.frames>0)&&!(null!=(s=r.gl.xr)&&s.isPresenting)&&(t+=et(a,r))}if(ee("after",a),0===t)return ee("tail",a),i=!1,cancelAnimationFrame(n)}return{loop:o,invalidate:function t(n,r=1){var a;if(!n)return e.forEach(e=>t(e.store.getState()),r);null!=(a=n.gl.xr)&&a.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+r),i||(i=!0,requestAnimationFrame(o)))},advance:function(t,n=!0,r,i){if(n&&ee("before",t),r)et(t,r,i);else for(let o of e.values())et(t,o.store.getState());n&&ee("after",t)}}}(el),{reconciler:ec,applyProps:ef}=function(e,t){function n(e,{args:t=[],attach:n,...r},i){let o,a=`${e[0].toUpperCase()}${e.slice(1)}`;if("primitive"===e){if(void 0===r.object)throw Error("R3F: Primitives without 'object' are invalid!");let l=r.object;o=R(l,{type:e,root:i,attach:n,primitive:!0})}else{let u=W[a];if(!u)throw Error(`R3F: ${a} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(t))throw Error("R3F: The args prop must be an array!");o=R(new u(...t),{type:e,root:i,attach:n,memoizedProps:{args:t}})}return void 0===o.__r3f.attach&&(o instanceof s.BufferGeometry?o.__r3f.attach="geometry":o instanceof s.Material&&(o.__r3f.attach="material")),"inject"!==a&&L(o,r),o}function r(e,t){let n=!1;if(t){var r,i;null!=(r=t.__r3f)&&r.attach?$(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||R(t,{}),t.__r3f.parent=e,F(t),B(t)}}function i(e,t,n){let r=!1;if(t){var i,o;if(null!=(i=t.__r3f)&&i.attach)$(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});let a=e.children.filter(e=>e!==t),l=a.indexOf(n);e.children=[...a.slice(0,l),t,...a.slice(l)],r=!0}r||null==(o=e.__r3f)||o.objects.push(t),t.__r3f||R(t,{}),t.__r3f.parent=e,F(t),B(t)}}function o(e,t,n=!1){e&&[...e].forEach(e=>a(t,e,n))}function a(e,t,n){if(t){var r,i,a,l,s;t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter(e=>e!==t)),null!=(i=t.__r3f)&&i.attach?D(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.remove(t),null!=(l=t.__r3f)&&l.root&&function(e,t){let{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,r)=>{(e.eventObject===t||e.object===t)&&n.hovered.delete(r)}),n.capturedMap.forEach((e,r)=>{H(n.capturedMap,t,e,r)})}(t.__r3f.root,t));let u=null==(a=t.__r3f)?void 0:a.primitive,c=void 0===n?null!==t.dispose&&!u:n;u||(o(null==(s=t.__r3f)?void 0:s.objects,t,c),o(t.children,t,c)),t.__r3f&&(delete t.__r3f.root,delete t.__r3f.objects,delete t.__r3f.handlers,delete t.__r3f.memoizedProps,u||delete t.__r3f),c&&t.dispose&&"Scene"!==t.type&&(0,h.unstable_scheduleCallback)(h.unstable_IdlePriority,()=>{try{t.dispose()}catch(e){}}),B(e)}}let l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters."),u=p()({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer(e,t){if(!t)return;let n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))},removeChildFromContainer(e,t){t&&a(e.getState().scene,t)},insertInContainerBefore(e,t,n){if(!t||!n)return;let r=e.getState().scene;r.__r3f&&i(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;let n=null!=(t=null==e?void 0:e.__r3f)?t:{};return Boolean(n.handlers)},prepareUpdate(e,t,n,r){if(e.__r3f.primitive&&r.object&&r.object!==e)return[!0];{let{args:i=[],children:o,...a}=r,{args:l=[],children:s,...u}=n;if(!Array.isArray(i))throw Error("R3F: the args prop must be an array!");if(i.some((e,t)=>e!==l[t]))return[!0];let c=N(e,a,u,!0);return c.changes.length?[!1,c]:null}},commitUpdate(e,[t,i],o,l,s,u){t?function(e,t,i,o){var l;let s=null==(l=e.__r3f)?void 0:l.parent;if(!s)return;let u=n(t,i,e.__r3f.root);if(e.children){for(let c of e.children)c.__r3f&&r(u,c);e.children=e.children.filter(e=>!e.__r3f)}if(e.__r3f.objects.forEach(e=>r(u,e)),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||a(s,e),u.parent&&(u.__r3f.autoRemovedBeforeAppend=!0),r(s,u),u.raycast&&u.__r3f.eventCount){let f=u.__r3f.root.getState();f.internal.interaction.push(u)}[o,o.alternate].forEach(e=>{null!==e&&(e.stateNode=u,e.ref&&("function"==typeof e.ref?e.ref(u):e.ref.current=u))})}(e,o,s,u):L(e,i)},commitMount(e,t,n,r){var i;let o=null!=(i=e.__r3f)?i:{};e.raycast&&o.handlers&&o.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>R(e.getState().scene),resetAfterCommit(){},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;let{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&D(r,e,n),e.isObject3D&&(e.visible=!1),B(e)},unhideInstance(e,t){var n;let{attach:r,parent:i}=null!=(n=e.__r3f)?n:{};r&&i&&$(i,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),B(e)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>t?t():c.DefaultEventPriority,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},now:"undefined"!=typeof performance&&j.fun(performance.now)?performance.now:j.fun(Date.now)?Date.now:()=>0,scheduleTimeout:j.fun(setTimeout)?setTimeout:void 0,cancelTimeout:j.fun(clearTimeout)?clearTimeout:void 0});return{reconciler:u,applyProps:L}}(0,function(){var e;let t="undefined"!=typeof self&&self||"undefined"!=typeof window&&window;if(!t)return c.DefaultEventPriority;let n=null==(e=t.event)?void 0:e.type;switch(n){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return c.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return c.ContinuousEventPriority;default:return c.DefaultEventPriority}}),ed={objects:"shallow",strict:!1},ep=(e,t)=>{let n="function"==typeof e?e(t):e;return G(n)?n:new s.WebGLRenderer({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function eh(e){let t;let n=el.get(e),r=null==n?void 0:n.fiber,i=null==n?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");let o="function"==typeof reportError?reportError:console.error,a=i||Y(es,eu),l=r||ec.createContainer(a,c.ConcurrentRoot,null,!1,null,"",o,null);n||el.set(e,{fiber:l,store:a});let f=!1;return{configure(n={}){let{gl:r,size:i,events:o,onCreated:l,shadows:u=!1,linear:c=!1,flat:d=!1,legacy:p=!1,orthographic:h=!1,frameloop:m="always",dpr:g=[1,2],performance:y,raycaster:b,camera:x,onPointerMissed:_}=n,w=a.getState(),S=w.gl;w.gl||w.set({gl:S=ep(r,e)});let E=w.raycaster;E||w.set({raycaster:E=new s.Raycaster});let{params:C,...P}=b||{};if(j.equ(P,E,ed)||ef(E,{...P}),j.equ(C,E.params,ed)||ef(E,{params:{...E.params,...C}}),!w.camera){let z=x instanceof s.Camera,k=z?x:h?new s.OrthographicCamera(0,0,0,0,.1,1e3):new s.PerspectiveCamera(75,0,.1,1e3);z||(k.position.z=5,x&&ef(k,x),null!=x&&x.rotation||k.lookAt(0,0,0)),w.set({camera:k})}if(!w.xr){let O=(e,t)=>{let n=a.getState();"never"!==n.frameloop&&eu(e,!0,n,t)},T=()=>{let e=a.getState();e.gl.xr.enabled=e.gl.xr.isPresenting,e.gl.xr.setAnimationLoop(e.gl.xr.isPresenting?O:null),e.gl.xr.isPresenting||es(e)},R={connect(){let e=a.getState().gl;e.xr.addEventListener("sessionstart",T),e.xr.addEventListener("sessionend",T)},disconnect(){let e=a.getState().gl;e.xr.removeEventListener("sessionstart",T),e.xr.removeEventListener("sessionend",T)}};S.xr&&R.connect(),w.set({xr:R})}if(S.shadowMap){let I=S.shadowMap.enabled,A=S.shadowMap.type;if(S.shadowMap.enabled=!!u,j.boo(u))S.shadowMap.type=s.PCFSoftShadowMap;else if(j.str(u)){var $;let D={basic:s.BasicShadowMap,percentage:s.PCFShadowMap,soft:s.PCFSoftShadowMap,variance:s.VSMShadowMap};S.shadowMap.type=null!=($=D[u])?$:s.PCFSoftShadowMap}else j.obj(u)&&Object.assign(S.shadowMap,u);(I!==S.shadowMap.enabled||A!==S.shadowMap.type)&&(S.shadowMap.needsUpdate=!0)}!function(e,t,n){let r=n.pop(),i=n.reduce((e,t)=>e[t],e);i[r]=t}(s,p,["ColorManagement","legacyMode"]);let N=c?s.LinearEncoding:s.sRGBEncoding,L=d?s.NoToneMapping:s.ACESFilmicToneMapping;S.outputEncoding!==N&&(S.outputEncoding=N),S.toneMapping!==L&&(S.toneMapping=L),w.legacy!==p&&w.set(()=>({legacy:p})),w.linear!==c&&w.set(()=>({linear:c})),w.flat!==d&&w.set(()=>({flat:d})),!r||j.fun(r)||G(r)||j.equ(r,S,ed)||ef(S,r),o&&!w.events.handlers&&w.set({events:o(a)}),g&&w.viewport.dpr!==M(g)&&w.setDpr(g);let B=function(e,t){if(t)return t;if(e instanceof HTMLCanvasElement&&e.parentElement){let{width:n,height:r,top:i,left:o}=e.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:o}}return{width:0,height:0,top:0,left:0}}(e,i);return j.equ(B,w.size,ed)||w.setSize(B.width,B.height,B.updateStyle,B.top,B.left),w.frameloop!==m&&w.setFrameloop(m),w.onPointerMissed||w.set({onPointerMissed:_}),y&&!j.equ(y,w.performance,ed)&&w.set(e=>({performance:{...e.performance,...y}})),t=l,f=!0,this},render(n){return f||this.configure(),ec.updateContainer(u.createElement(em,{store:a,children:n,onCreated:t,rootElement:e}),l,null,()=>void 0),a},unmount(){ev(e)}}}function em({store:e,children:t,onCreated:n,rootElement:r}){return E(()=>{let t=e.getState();t.set(e=>({internal:{...e.internal,active:!0}})),n&&n(t),e.getState().events.connected||null==t.events.connect||t.events.connect(r)},[]),u.createElement(q.Provider,{value:e},t)}function ev(e,t){let n=el.get(e),r=null==n?void 0:n.fiber;if(r){let i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),ec.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var n,r,o,a;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(o=i.gl)||null==o.forceContextLoss||o.forceContextLoss(),null!=(a=i.gl)&&a.xr&&i.xr.disconnect(),function(e){for(let t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(i),el.delete(e),t&&t(e)}catch(l){}},500)})}}ec.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:u.version}),u.unstable_act},5029:function(e,t,n){"use strict";n.d(t,{Xz:function(){return O}});var r=n(8803),i=n(7462),o=n(7294),a=n(9477),l=n(296),s=n.n(l);let u=["x","y","top","bottom","left","right","width","height"],c=(e,t)=>u.every(n=>e[n]===t[n]);var f=Object.defineProperty,d=Object.defineProperties,p=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,y=(e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&y(e,n,t[n]);if(h)for(var n of h(t))g.call(t,n)&&y(e,n,t[n]);return e},x=(e,t)=>d(e,p(t));function _(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}let w=_(o.createContext(null));class S extends o.Component{render(){return o.createElement(w.Provider,{value:this._reactInternals},this.props.children)}}let{ReactCurrentOwner:E,ReactCurrentDispatcher:C}=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;n(2576),n(6525),n(3840);let P={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function z(e){let{handlePointer:t}=(0,r.c)(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-(2*(e.offsetY/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(P).reduce((e,n)=>({...e,[n]:t(n)}),{}),connect(t){var n;let{set:r,events:i}=e.getState();null==i.disconnect||i.disconnect(),r(e=>({events:{...e.events,connected:t}})),Object.entries(null!=(n=i.handlers)?n:[]).forEach(([e,n])=>{let[r,i]=P[e];t.addEventListener(r,n,{passive:i})})},disconnect(){let{set:t,events:n}=e.getState();if(n.connected){var r;Object.entries(null!=(r=n.handlers)?r:[]).forEach(([e,t])=>{if(n&&n.connected instanceof HTMLElement){let[r]=P[e];n.connected.removeEventListener(r,t)}}),t(e=>({events:{...e.events,connected:void 0}}))}}}}let k=o.forwardRef(function({children:e,fallback:t,resize:n,style:l,gl:u,events:f=z,eventSource:d,eventPrefix:p,shadows:h,linear:m,flat:g,legacy:y,orthographic:P,frameloop:k,dpr:O,performance:M,raycaster:T,camera:j,onPointerMissed:R,onCreated:I,...A},$){o.useMemo(()=>(0,r.e)(a),[]);let D=function(){var e,t;let n=function(){let e=o.useContext(w);if(!e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=o.useId(),n=o.useMemo(()=>{var n;return null!=(n=E.current)?n:function e(t,n,r){if(!t)return;if(!0===r(t))return t;let i=n?t.return:t.child;for(;i;){let o=e(i,n,r);if(o)return o;i=n?null:i.sibling}}(e,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}})},[e,t]);return n}(),[r]=o.useState(()=>new Map);r.clear();let i=n;for(;i;){let a=null==(e=i.type)?void 0:e._context;a&&a!==w&&!r.has(a)&&r.set(a,null==(t=C.current)?void 0:t.readContext(_(a))),i=i.return}return o.useMemo(()=>Array.from(r.keys()).reduce((e,t)=>n=>o.createElement(e,null,o.createElement(t.Provider,x(b({},n),{value:r.get(t)}))),e=>o.createElement(S,b({},e))),[r])}(),[N,L]=function(e){var t;let{debounce:n,scroll:r,polyfill:i,offsetSize:a}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,l=i||("undefined"==typeof window?class{}:window.ResizeObserver);if(!l)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[u,f]=(0,o.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),d=(0,o.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:u}),p=n?"number"==typeof n?n:n.scroll:null,h=n?"number"==typeof n?n:n.resize:null,m=(0,o.useRef)(!1);(0,o.useEffect)(()=>(m.current=!0,()=>void(m.current=!1)));let[g,y,b]=(0,o.useMemo)(()=>{let e=()=>{if(!d.current.element)return;let{left:e,top:t,width:n,height:r,bottom:i,right:o,x:l,y:s}=d.current.element.getBoundingClientRect(),u={left:e,top:t,width:n,height:r,bottom:i,right:o,x:l,y:s};d.current.element instanceof HTMLElement&&a&&(u.height=d.current.element.offsetHeight,u.width=d.current.element.offsetWidth),Object.freeze(u),m.current&&!c(d.current.lastBounds,u)&&f(d.current.lastBounds=u)};return[e,h?s()(e,h):e,p?s()(e,p):e]},[f,a,p,h]);function x(){d.current.scrollContainers&&(d.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",b,!0)),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null)}function _(){d.current.element&&(d.current.resizeObserver=new l(b),d.current.resizeObserver.observe(d.current.element),r&&d.current.scrollContainers&&d.current.scrollContainers.forEach(e=>e.addEventListener("scroll",b,{capture:!0,passive:!0})))}let w=e=>{e&&e!==d.current.element&&(x(),d.current.element=e,d.current.scrollContainers=function e(t){let n=[];if(!t||t===document.body)return n;let{overflow:r,overflowX:i,overflowY:o}=window.getComputedStyle(t);return[r,i,o].some(e=>"auto"===e||"scroll"===e)&&n.push(t),[...n,...e(t.parentElement)]}(e),_())};return t=Boolean(r),(0,o.useEffect)(()=>{if(t)return window.addEventListener("scroll",b,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",b,!0)},[b,t]),(0,o.useEffect)(()=>(window.addEventListener("resize",y),()=>void window.removeEventListener("resize",y)),[y]),(0,o.useEffect)(()=>{x(),_()},[r,b,y]),(0,o.useEffect)(()=>x,[]),[w,u,g]}({scroll:!0,debounce:{scroll:50,resize:0},...n}),B=o.useRef(null),F=o.useRef(null),[U,H]=o.useState(null);o.useImperativeHandle($,()=>B.current);let V=(0,r.u)(R),[W,K]=o.useState(!1),[G,q]=o.useState(!1);if(W)throw W;if(G)throw G;let Y=o.useRef(null);return L.width>0&&L.height>0&&U&&(Y.current||(Y.current=(0,r.a)(U)),Y.current.configure({gl:u,events:f,shadows:h,linear:m,flat:g,legacy:y,orthographic:P,frameloop:k,dpr:O,performance:M,raycaster:T,camera:j,size:L,onPointerMissed:(...e)=>null==V.current?void 0:V.current(...e),onCreated(e){null==e.events.connect||e.events.connect(d?(0,r.i)(d)?d.current:d:F.current),p&&e.setEvents({compute(e,t){let n=e[p+"X"],r=e[p+"Y"];t.pointer.set(n/t.size.width*2-1,-(2*(r/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==I||I(e)}}),Y.current.render(o.createElement(D,null,o.createElement(r.E,{set:q},o.createElement(o.Suspense,{fallback:o.createElement(r.B,{set:K})},e))))),(0,r.b)(()=>{H(B.current)},[]),o.useEffect(()=>{if(U)return()=>(0,r.d)(U)},[U]),o.createElement("div",(0,i.Z)({ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:d?"none":"auto",...l}},A),o.createElement("div",{ref:N,style:{width:"100%",height:"100%"}},o.createElement("canvas",{ref:B,style:{display:"block"}},t)))}),O=o.forwardRef(function(e,t){return o.createElement(S,null,o.createElement(k,(0,i.Z)({},e,{ref:t})))})},1052:function(e){"use strict";/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */ e.exports=function(e,t){if(null==e)throw TypeError("expected first argument to be an object.");if(void 0===t||"undefined"==typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return e;for(var n=Object.prototype.propertyIsEnumerable,r=Object(e),i=arguments.length,o=0;++o<i;)for(var a=Object(arguments[o]),l=Object.getOwnPropertySymbols(a),s=0;s<l.length;s++){var u=l[s];n.call(a,u)&&(r[u]=a[u])}return r}},8363:function(e,t){"use strict";t.Z=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?o===t.replace(/\/.*$/,""):i===t})}return!0}},296:function(e){function t(e,t,n){function r(){var u=Date.now()-l;u<t&&u>=0?i=setTimeout(r,t-u):(i=null,n||(s=e.apply(a,o),a=o=null))}null==t&&(t=100);var i,o,a,l,s,u=function(){a=this,o=arguments,l=Date.now();var u=n&&!i;return i||(i=setTimeout(r,t)),u&&(s=e.apply(a,o),a=o=null),s};return u.clear=function(){i&&(clearTimeout(i),i=null)},u.flush=function(){i&&(s=e.apply(a,o),a=o=null,clearTimeout(i),i=null)},u}t.debounce=t,e.exports=t},6919:function(e,t,n){"use strict";var r=n(6104);e.exports=function(e){r(e)||(e={});for(var t=arguments.length,n=1;n<t;n++){var i=arguments[n];r(i)&&function(e,t){for(var n in t){var r;r=n,Object.prototype.hasOwnProperty.call(t,r)&&(e[n]=t[n])}}(e,i)}return e}},6104:function(e){"use strict";/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */ e.exports=function(e){return null!=e&&("object"==typeof e||"function"==typeof e)}},2561:function(e){"use strict";/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */ e.exports=function(e,t,n){for(var r in e)if(!1===t.call(n,e[r],r,e))break}},3735:function(e,t,n){"use strict";function r(e){return e}function i(e,t,n,r,i,o,a,l,s){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return i(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return o(i(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return a(o(i(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return l(a(o(i(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return s(l(a(o(i(r(n(t(e.apply(this,arguments)))))))))}}}function o(e,t,n,r,i,o,a,l,s){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return i(r(n(t(e))));case 6:return o(i(r(n(t(e)))));case 7:return a(o(i(r(n(t(e))))));case 8:return l(a(o(i(r(n(t(e)))))));case 9:return s(l(a(o(i(r(n(t(e))))))));default:for(var u=arguments[0],c=1;c<arguments.length;c++)u=arguments[c](u);return u}}n.d(t,{ls:function(){return i},yR:function(){return r},zG:function(){return o}})},3200:function(e){/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */ e.exports=function(e,n,r,i,o){var a;if(!(null!==(a=e)&&("object"==typeof a||"function"==typeof a))||!n)return e;if(n=t(n),r&&(n+="."+t(r)),i&&(n+="."+t(i)),o&&(n+="."+t(o)),n in e)return e[n];for(var l=n.split("."),s=l.length,u=-1;e&&++u<s;){for(var c=l[u];"\\"===c[c.length-1];)c=c.slice(0,-1)+"."+l[++u];e=e[c]}return e};function t(e){return e?Array.isArray(e)?e.join("."):e:""}},9640:function(e){e.exports={"<<=":!0,">>=":!0,"++":!0,"--":!0,"+=":!0,"-=":!0,"*=":!0,"/=":!0,"%=":!0,"&=":!0,"^=":!0,"|=":!0,"=":!0}},1917:function(e){e.exports={precision:!0,highp:!0,mediump:!0,lowp:!0,attribute:!0,const:!0,uniform:!0,varying:!0,break:!0,continue:!0,do:!0,for:!0,while:!0,if:!0,else:!0,in:!0,out:!0,inout:!0,true:!0,false:!0,return:!0}},8004:function(e,t,n){var r=n(9640),i=n(1917);e.exports=function(e){for(var t=0,n=0;n<e.length;n++){var o=e[n],a=o.type;o.assignment=!1,o.declaration=!1,("ident"===a||"builtin"===a)&&(t=n+1,u(1),"operator"===e[t].type&&r[e[t].data]&&(o.assignment=!0))}for(var n=0;n<e.length;n++){var l=e[n],a=l.type,s=l.data;if(l.declaration=!1,"keyword"===a){if(i[s])continue}else if("ident"!==a)continue;if(t=n+1,c(),"ident"===e[t].type){if(e[t++].declaration=!0,c(),"("===e[t].data){for(t++,u(1);e[t]&&")"!==e[t].data&&("keyword"===e[t].type||"ident"===e[t].type);)t++,u(1),"ident"===e[t].type&&(e[t++].declaration=!0,u(1),c(),u(1),","===e[t].data&&(t++,u(1)));n=t;continue}for(;e[t]&&";"!==e[t].data;)","===e[t].data?(t++,u(1),(e[t].declaration="ident"===e[t].type)&&t++):(u(1),function(){if(e[t]&&"("===e[t].data){var n=0;do{if(";"===e[t].data)break;"("===e[t].data&&n++,")"===e[t].data&&n--}while(n&&e[++t])}}(),u(1),t++);n=t}}for(var n=0;n<e.length;n++){var o=e[n];if("keyword"===o.type&&"struct"===o.data&&(t=n+1,u(1),"ident"===e[t].type)&&(t++,u(1),"{"===e[t++].data)){for(u(1);"ident"===e[t].type||"keyword"===e[t].type;){do t++,u(1),e[t].structMember=!0,e[t].declaration=!1,t++,c();while(","===e[t].data);";"===e[t].data&&t++,u()}if(t++,u(1),"ident"===e[t].type)for(e[t].declaration=!0,u(1);","===e[++t].data;)u(1),t++,u(1),"ident"===e[t].type&&(e[t].declaration=!0),u(1)}}return e;function u(n){for(;e[t]&&"whitespace"===e[t].type;)t++}function c(){for(;e[t]&&("integer"===e[t].type||"["===e[t].data||"]"===e[t].data||"whitespace"===e[t].type);)t++}}},8549:function(e){e.exports=function(e){for(var t=!1,n=0,r=0;r<e.length;r++)switch(t=t||"keyword"===e[r].type&&"for"===e[r].data,e[r].data){case"(":e[r].depth=t?n++:n;break;case"{":e[r].depth=t?n:n++,t=!1;break;case"}":e[r].depth=--n;break;default:e[r].depth=n}for(var r=0;r<e.length;r++){var i=e[r],o=r+1;if(("ident"===i.type||"keyword"===i.type)&&(a(),"ident"===e[o].type&&(a(),"("===e[++o].data))){for(;e[o]&&";"!==e[o].data&&"{"!==e[o].data;)e[o++].depth++;e[o]&&"{"===e[o].data&&e[o].depth++}}return e;function a(){for(;e[o]&&("whitespace"===e[o].type||"["===e[o].data||"]"===e[o].data||"integer"===e[o].data);)o++}}},3815:function(e,t,n){e.exports=function(e,t){var r;n(8549)(e),n(9527)(e),n(2826)(e),n(8004)(e);for(var i=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];r.declaration&&(t[r.scope]=t[r.scope]||{},t[r.scope][r.data]=r)}return t}(e),o=t||(r=0,function(e){return e+"_"+(r++).toString(36)}),a={},l=0;l<e.length;l++){var s=e[l],u=s.stack,c=s.data;if(s.descoped=!1,"ident"===s.type&&!s.property&&!s.structMember){for(var f=!1,d=u.length-1;d>=0;d--){var p=i[u[d]];if(p&&p[c]){if(f=!0,d)break;s.descoped=s.data,s.data=a[c]=a[c]||o(c,s)||s.data}}f||(s.descoped=s.data,s.data=a[c]=a[c]||o(c,s)||s.data)}}return e}},1386:function(e){function t(e){return function(t){return"operator"===t.type&&(!e||t.data===e)}}function n(e){return"whitespace"!==e.type}e.exports=function(e){var r,i,o,a=null,l=null,s=0,u=0,c=0,f=0,d=0,p=[];for(r=0;r<e.length;r++)if("{"===(o=e[r]).data){if(s&&s++||(i=m(r,t(")"),t()))<0||(f=i,(i=m(i,t("("),t(")")))<0)||(d=i,(i=m(i,n))<0||"ident"!==e[i].type)||(l=e[i].data,(i=m(i,n))<0))continue;s=1,u=r,a=e[i].data,c=i;var h=m(i,n);switch(e[h]&&e[h].data){case"lowp":case"highp":case"mediump":c=h}}else if(s&&"}"===o.data){if(--s)continue;p.push({name:l,type:a,body:[u+1,r],args:[d,f+1],outer:[c,r+1]})}for(r=0;r<e.length;r++)if(";"===(o=e[r]).data){if((i=m(r,t(")"),t()))<0||(f=i,(i=m(i,t("("),t(")")))<0)||(d=i,(i=m(i,n))<0||"ident"!==e[i].type)||(l=e[i].data,(i=m(i,n))<0||"operator"===e[i].type||"return"===e[i].data))continue;a=e[i].data,p.push({name:l,type:a,body:!1,args:[d,f+1],outer:[i,r+1]})}return p.sort(function(e,t){return e.outer[0]-t.outer[0]});function m(t,n,r){for(var i=t-1;i>=0;i--){if(n(e[i]))return i;if(r&&r(e[i]))break}return -1}}},2826:function(e){e.exports=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.property=!1,"ident"===n.type){for(var r=t;e[--r]&&"whitespace"===e[r].type;);e[r]&&"operator"===e[r].type&&"."===e[r].data&&(n.property=!0)}}return e}},9527:function(e){e.exports=function(e){var t=[0],n=t[0],r=0;if(!e||!e.length)return e;if(!("depth"in e[0]))throw Error("glsl-token-scope: No scope depth defined on tokens! Use glsl-token-depth on these tokens first");for(var i=0;i<e.length;i++){var o=e[i],a=o.depth;a>r?t.push(++n):a<r&&t.splice(-1,1),o.scope=t[t.length-1],o.stack=t.slice(),r=o.depth}return e}},1818:function(e){e.exports=function(e){for(var t=[],n=0;n<e.length;n++)"eof"!==e[n].type&&t.push(e[n].data);return t.join("")}},8460:function(e,t,n){e.exports=function(e){var t,n,u,c=0,f=0,d=999,p=[],h=[],m=1,g=0,y=0,b=!1,x=!1,_="",w=o,S=r;"300 es"===(e=e||{}).version&&(w=l,S=a);for(var E={},C={},c=0;c<w.length;c++)E[w[c]]=!0;for(var c=0;c<S.length;c++)C[S[c]]=!0;return function(e){return(h=[],null!==e)?function(e){var r;for(c=0,e.toString&&(e=e.toString()),_+=e.replace(/\r\n/g,"\n"),u=_.length;t=_[c],c<u;){switch(r=c,d){case 0:c="/"===t&&"*"===n?(p.push(t),P(p.join("")),d=999,c+1):(p.push(t),n=t,c+1);break;case 1:case 2:c=function(){return("\r"===t||"\n"===t)&&"\\"!==n?(P(p.join("")),d=999,c):(p.push(t),n=t,c+1)}();break;case 3:c=function(){if("."===n&&/\d/.test(t))return d=5,c;if("/"===n&&"*"===t)return d=0,c;if("/"===n&&"/"===t)return d=1,c;if("."===t&&p.length){for(;z(p););return d=5,c}if(";"===t||")"===t||"("===t){if(p.length)for(;z(p););return P(t),d=999,c+1}var e=2===p.length&&"="!==t;if(/[\w_\d\s]/.test(t)||e){for(;z(p););return d=999,c}return p.push(t),n=t,c+1}();break;case 4:c="."===t||/[eE]/.test(t)?(p.push(t),d=5,n=t,c+1):"x"===t&&1===p.length&&"0"===p[0]?(d=11,p.push(t),n=t,c+1):/[^\d]/.test(t)?(P(p.join("")),d=999,c):(p.push(t),n=t,c+1);break;case 11:c=/[^a-fA-F0-9]/.test(t)?(P(p.join("")),d=999,c):(p.push(t),n=t,c+1);break;case 5:"f"===t&&(p.push(t),n=t,c+=1),c=/[eE]/.test(t)||("-"===t||"+"===t)&&/[eE]/.test(n)?(p.push(t),n=t,c+1):/[^\d]/.test(t)?(P(p.join("")),d=999,c):(p.push(t),n=t,c+1);break;case 9999:c=function(){if(/[^\d\w_]/.test(t)){var e=p.join("");return d=C[e]?8:E[e]?7:6,P(p.join("")),d=999,c}return p.push(t),n=t,c+1}();break;case 9:c=/[^\s]/g.test(t)?(P(p.join("")),d=999,c):(p.push(t),n=t,c+1);break;case 999:p=p.length?[]:p,c="/"===n&&"*"===t?(y=f+c-1,d=0,n=t,c+1):"/"===n&&"/"===t?(y=f+c-1,d=1,n=t,c+1):"#"===t?(d=2,y=f+c,c):/\s/.test(t)?(d=9,y=f+c,c):(b=/\d/.test(t),x=/[^\w_]/.test(t),y=f+c,d=b?4:x?3:9999,c)}r!==c&&("\n"===_[r]?(g=0,++m):++g)}return f+=c,_=_.slice(c),h}(e):(p.length&&P(p.join("")),d=10,P("(eof)"),h)};function P(e){e.length&&h.push({type:s[d],data:e,position:y,line:m,column:g})}function z(e){for(var t,n,r=0;;){if(n=i[t=i.indexOf(e.slice(0,e.length+r).join(""))],-1===t){if(r--+e.length>0)continue;n=e.slice(0,1).join("")}return P(n),y+=n.length,(p=p.slice(n.length)).length}}};var r=n(7529),i=n(7679),o=n(2222),a=n(2914),l=n(9537),s=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},9537:function(e,t,n){var r=n(2222);r=r.slice().filter(function(e){return!/^(gl\_|texture)/.test(e)}),e.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},2222:function(e){e.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},2914:function(e,t,n){var r=n(7529);e.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},7529:function(e){e.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},7679:function(e){e.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},9932:function(e,t,n){var r=n(8460);e.exports=function(e,t){var n=r(t),i=[];return(i=i.concat(n(e))).concat(n(null))}},1833:function(e,t,n){"use strict";/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */ var r=n(5299);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},5299:function(e,t,n){"use strict";/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */ var r=n(7798);function i(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==i(e)&&"function"==typeof(t=e.constructor)&&!1!==i(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")}},7798:function(e){"use strict";/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */ e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},9657:function(e,t,n){"use strict";n.d(t,{Il:function(){return N}});var r=n(7462),i=n(8803),o=n(7294),a=n(9477),l=n(9932),s=n.n(l),u=n(3815),c=n.n(u),f=n(1818),d=n.n(f),p=n(1386),h=n.n(p),m=n(4074);function g(e){return"string"==typeof e?new a.Color(e).convertLinearToSRGB():e}function y(e){return e instanceof a.Vector3||e instanceof a.Vector2||e instanceof a.Vector4||e instanceof a.Matrix3||e instanceof a.Matrix4}function b(e){return y(e)?e.toArray():e instanceof a.Color?"#"+e.clone().convertLinearToSRGB().getHexString():e instanceof a.Texture?e.image.src:e}n(745),n(9714);let x={normal:"normal",add:"add",subtract:"subtract",multiply:"multiply",lighten:"lighten",darken:"darken",divide:"divide",overlay:"overlay",screen:"screen",softlight:"softlight",negation:"negation",reflect:"reflect"},_={perlin:"perlin",simplex:"simplex",cell:"cell",curl:"curl",white:"white"},w={local:"local",world:"world",uv:"uv"},S={phong:a.MeshPhongMaterial,physical:a.MeshPhysicalMaterial,toon:a.MeshToonMaterial,basic:a.MeshBasicMaterial,lambert:a.MeshLambertMaterial,standard:a.MeshStandardMaterial};class E{constructor(e,t,n){this.uuid=a.MathUtils.generateUUID().replace(/-/g,"_"),this.name="LayerMaterial",this.mode="normal",this.visible=!0;let r=Object.getOwnPropertyNames(e).filter(e=>e.startsWith("u_")),i=r.reduce((t,n)=>{var r;let i=null==(r=Object.getOwnPropertyDescriptor(e,n))?void 0:r.value;return(y(i)||i instanceof a.Color)&&(i=i.clone()),{...t,[n.slice(1)]:i}},{});for(let o in i){let l=o.split("_")[1];(null==t?void 0:t[l])!==void 0&&(i[o]=t[l])}t&&Object.keys(t).map(e=>{void 0!==t[e]&&(this[e]=t[e])}),this.uniforms={},this.schema=[];let s={};Object.keys(i).map(e=>{let t=e.split("_")[1];this.uniforms[`u_${this.uuid}_${t}`]={value:g(i[e])},this.schema.push({value:i[e],label:t}),s[t]={set:e=>{this.uniforms[`u_${this.uuid}_${t}`].value=g(e)},get:()=>this.uniforms[`u_${this.uuid}_${t}`].value}}),null!=t&&t.name&&(this.name=t.name),null!=t&&t.mode&&(this.mode=t.mode),null!=t&&t.visible&&(this.visible=t.visible),Object.defineProperties(this,s),this.vertexShader="",this.fragmentShader="",this.vertexVariables="",this.fragmentVariables="",this.onParse=n,this.buildShaders(e),this.schema.push({value:this.mode,label:"mode",options:Object.values(x)}),this.schema.push({value:this.visible,label:"visible"})}buildShaders(e){var t;let n=Object.getOwnPropertyNames(e).filter(e=>"fragmentShader"===e||"vertexShader"===e).reduce((t,n)=>{var r;return{...t,[n]:null==(r=Object.getOwnPropertyDescriptor(e,n))?void 0:r.value}},{}),r={vert:s()(n.vertexShader||""),frag:s()(n.fragmentShader||"")},i={vert:c()(r.vert,this.renameTokens.bind(this)),frag:c()(r.frag,this.renameTokens.bind(this))},o={vert:h()(i.vert),frag:h()(i.frag)},a={vert:o.vert.map(e=>e.name).indexOf("main"),frag:o.frag.map(e=>e.name).indexOf("main")},l={vert:a.vert>=0?d()(i.vert.slice(0,o.vert[a.vert].outer[0])):"",frag:a.frag>=0?d()(i.frag.slice(0,o.frag[a.frag].outer[0])):""},u={vert:a.vert>=0?this.getShaderFromIndex(i.vert,o.vert[a.vert].body):"",frag:a.frag>=0?this.getShaderFromIndex(i.frag,o.frag[a.frag].body):""};this.vertexShader=this.processFinal(u.vert,!0),this.fragmentShader=this.processFinal(u.frag),this.vertexVariables=l.vert,this.fragmentVariables=l.frag,null==(t=this.onParse)||t.call(this,this),this.schema=this.schema.filter((e,t)=>{let n=e.label;return t===this.schema.findIndex(e=>e.label===n)})}renameTokens(e){if(e.startsWith("u_")){let t=e.slice(2);return`u_${this.uuid}_${t}`}if(e.startsWith("v_")){let n=e.slice(2);return`v_${this.uuid}_${n}`}if(!e.startsWith("f_"))return e;{let r=e.slice(2);return`f_${this.uuid}_${r}`}}processFinal(e,t){let n=e.replace(/\sf_/gm,` f_${this.uuid}_`).replace(/\(f_/gm,`(f_${this.uuid}_`),r=n.match(/^.*return.*$/gm),i=n.replace(/^.*return.*$/gm,"");if(null!=r&&r[0]){let o=r[0].replace("return","").trim().replace(";",""),a=this.getBlendMode(o,"lamina_finalColor");i+=t?`lamina_finalPosition = ${o};`:`lamina_finalColor = ${a};`}return i}getShaderFromIndex(e,t){return d()(e.slice(t[0],t[1]))}getBlendMode(e,t){switch(this.mode){default:case"normal":return`lamina_blend_alpha(${t}, ${e}, ${e}.a)`;case"add":return`lamina_blend_add(${t}, ${e}, ${e}.a)`;case"subtract":return`lamina_blend_subtract(${t}, ${e}, ${e}.a)`;case"multiply":return`lamina_blend_multiply(${t}, ${e}, ${e}.a)`;case"lighten":return`lamina_blend_lighten(${t}, ${e}, ${e}.a)`;case"darken":return`lamina_blend_darken(${t}, ${e}, ${e}.a)`;case"divide":return`lamina_blend_divide(${t}, ${e}, ${e}.a)`;case"overlay":return`lamina_blend_overlay(${t}, ${e}, ${e}.a)`;case"screen":return`lamina_blend_screen(${t}, ${e}, ${e}.a)`;case"softlight":return`lamina_blend_softlight(${t}, ${e}, ${e}.a)`;case"reflect":return`lamina_blend_reflect(${t}, ${e}, ${e}.a)`;case"negation":return`lamina_blend_negation(${t}, ${e}, ${e}.a)`}}getSchema(){let e=this.schema.map(({label:e,options:t,...n})=>({label:e,options:t,...function(e){switch(e){case"alpha":return{min:0,max:1};case"scale":return{min:0};case"map":return{image:void 0};default:return{}}}(e),...n,value:b(this[e])}));return e}serialize(){let e=this.constructor.name.split("$")[0],t=Object.keys(this);t=t.filter(e=>!["uuid","uniforms","schema","fragmentShader","vertexShader","fragmentVariables","vertexVariables","attribs","events","__r3f","onParse"].includes(e));let n={};t.forEach(e=>{n[e]=this[e]});let r={};for(let i in this.uniforms){let o=i.replace(`u_${this.uuid}_`,"");r[o]=b(this.uniforms[i].value)}return{constructor:e,properties:{...r,...n}}}}class C extends E{constructor(e){super(C,{name:"Depth",...e},e=>{e.schema.push({value:e.mapping,label:"mapping",options:["vector","world","camera"]});let t=C.getMapping(e.uuid,e.mapping);e.fragmentShader=e.fragmentShader.replace("lamina_mapping_template",t)}),this.mapping="vector"}static getMapping(e,t){switch(t){default:case"vector":return`length(v_${e}_worldPosition - u_${e}_origin)`;case"world":return`length(v_${e}_position - vec3(0.))`;case"camera":return`length(v_${e}_worldPosition - cameraPosition)`}}}C.u_near=2,C.u_far=10,C.u_origin=new a.Vector3(0,0,0),C.u_colorA="white",C.u_colorB="black",C.u_alpha=1,C.vertexShader=`
  varying vec3 v_worldPosition;
  varying vec3 v_position;

  void main() {
    v_worldPosition = (vec4(position, 1.0) * modelMatrix).xyz;
    v_position = position;
  }
  `,C.fragmentShader=`   
    uniform float u_alpha;
    uniform float u_near;
    uniform float u_far;
    uniform float u_isVector;
    uniform vec3 u_origin;
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;

    varying vec3 v_worldPosition;
    varying vec3 v_position;

    void main() {
      float f_dist = lamina_mapping_template;
      float f_depth = (f_dist - u_near) / (u_far - u_near);
			vec3 f_depthColor =  mix(u_colorB, u_colorA, 1.0 - clamp(f_depth, 0., 1.));
  
  
      return vec4(f_depthColor, u_alpha);
    }
  `;class P extends E{constructor(e){super(P,{name:"Color",...e})}}P.u_color="red",P.u_alpha=1,P.fragmentShader=`   
    uniform vec3 u_color;
    uniform float u_alpha;

    void main() {
      return vec4(u_color, u_alpha);
    }
  `;class z extends E{constructor(e){super(z,{name:"noise",...e},e=>{e.schema.push({value:e.type,label:"type",options:Object.values(_)}),e.schema.push({value:e.mapping,label:"mapping",options:Object.values(w)});let t=z.getNoiseFunction(e.type),n=z.getMapping(e.mapping);e.vertexShader=e.vertexShader.replace("lamina_mapping_template",n),e.fragmentShader=e.fragmentShader.replace("lamina_noise_template",t)}),this.type="perlin",this.mapping="local"}static getNoiseFunction(e){switch(e){default:case"perlin":return"lamina_noise_perlin";case"simplex":return"lamina_noise_simplex";case"cell":return"lamina_noise_worley";case"white":return"lamina_noise_white";case"curl":return"lamina_noise_swirl"}}static getMapping(e){switch(e){default:case"local":return"position";case"world":return"(modelMatrix * vec4(position,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}z.u_colorA="#666666",z.u_colorB="#666666",z.u_colorC="#FFFFFF",z.u_colorD="#FFFFFF",z.u_alpha=1,z.u_scale=1,z.u_offset=new a.Vector3(0,0,0),z.vertexShader=`
    varying vec3 v_position;

    void main() {
        v_position = lamina_mapping_template;
    }
  `,z.fragmentShader=`   
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;
    uniform vec3 u_colorC;
    uniform vec3 u_colorD;
    uniform vec3 u_offset;

    uniform float u_alpha;
    uniform float u_scale;

    varying vec3 v_position;


    void main() {
        float f_n = lamina_noise_template((v_position + u_offset) * u_scale);

        float f_step1 = 0.;
        float f_step2 = 0.2;
        float f_step3 = 0.6;
        float f_step4 = 1.;

        vec3 f_color = mix(u_colorA, u_colorB, smoothstep(f_step1, f_step2, f_n));
        f_color = mix(f_color, u_colorC, smoothstep(f_step2, f_step3, f_n));
        f_color = mix(f_color, u_colorD, smoothstep(f_step3, f_step4, f_n));

        return vec4(f_color, u_alpha);
    }
  `;class k extends E{constructor(e){super(k,{name:"Fresnel",...e})}}k.u_color="white",k.u_alpha=1,k.u_bias=0,k.u_intensity=1,k.u_power=2,k.u_factor=1,k.vertexShader=`
    varying vec3 v_worldPosition;
    varying vec3 v_worldNormal;

    void main() {
        v_worldPosition = vec3(-viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2]);
        v_worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );
        
    }
  `,k.fragmentShader=`   
    uniform vec3 u_color;
    uniform float u_alpha;
    uniform float u_bias;
    uniform float u_intensity;
    uniform float u_power;
    uniform float u_factor;

    varying vec3 v_worldPosition;
    varying vec3 v_worldNormal;

    void main() {
        float f_a = (u_factor  + dot(v_worldPosition, v_worldNormal));
        float f_fresnel = u_bias + u_intensity * pow(abs(f_a), u_power);

        f_fresnel = clamp(f_fresnel, 0.0, 1.0);
        return vec4(f_fresnel * u_color, u_alpha);
    }
  `;class O extends E{constructor(e){super(O,{name:"Gradient",...e},e=>{e.schema.push({value:e.axes,label:"axes",options:["x","y","z"]}),e.schema.push({value:e.mapping,label:"mapping",options:Object.values(w)});let t=O.getMapping(e.mapping);e.vertexShader=e.vertexShader.replace("lamina_mapping_template",t||"local"),e.fragmentShader=e.fragmentShader.replace("axes_template",e.axes||"x")}),this.axes="x",this.mapping="local"}static getMapping(e){switch(e){default:case"local":return"position";case"world":return"(modelMatrix * vec4(position,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}O.u_colorA="white",O.u_colorB="black",O.u_alpha=1,O.u_start=1,O.u_end=-1,O.u_contrast=1,O.vertexShader=`
		varying vec3 v_position;

		vod main() {
      v_position = lamina_mapping_template;
		}
  `,O.fragmentShader=`   
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;
    uniform vec3 u_axis;
    uniform float u_alpha;
    uniform float u_start;
    uniform float u_end;
    uniform float u_contrast;

		varying vec3 v_position;

    void main() {

      float f_step = smoothstep(u_start, u_end, v_position.axes_template * u_contrast);
      vec3 f_color = mix(u_colorA, u_colorB, f_step);

      return vec4(f_color, u_alpha);
    }
  `;class M extends E{constructor(e){super(M,{name:"Matcap",...e})}}M.u_alpha=1,M.u_map=void 0,M.vertexShader=`
    varying vec3 v_position;
    varying vec3 v_normal;
    
    void main() {
      v_position = normalize( vec3( modelViewMatrix * vec4( position, 1.0 ) ) );
      v_normal = normalize( normalMatrix * normal );
    }
    `,M.fragmentShader=` 
		uniform sampler2D u_map;  
		uniform float u_alpha;  
		varying vec3 v_position;
		varying vec3 v_normal;

		
    void main() {
			vec3 f_r = reflect( v_position, v_normal );
			float f_m = 2. * sqrt( pow( f_r.x, 2. ) + pow( f_r.y, 2. ) + pow( f_r.z + 1., 2. ) );
			vec2 f_vN = f_r.xy / f_m + .5;

			vec3 f_base = texture2D(u_map, f_vN).rgb;

      return vec4(f_base, u_alpha);
    }
  `;class T extends E{constructor(e){super(T,{name:"Texture",...e})}}T.u_alpha=1,T.u_map=void 0,T.vertexShader=`
    varying vec2 v_uv;
    
    void main() {
        v_uv = uv;
    }
    `,T.fragmentShader=` 
		uniform sampler2D u_map;  
		uniform float u_alpha;  
		varying vec2 v_uv;

    void main() {
			vec4 f_color = texture2D(u_map, v_uv);
      return vec4(f_color.rgb, f_color.a * u_alpha);
    }
  `;class j extends E{constructor(e){super(j,{name:"Displace",...e},e=>{e.schema.push({value:e.type,label:"type",options:Object.values(_)}),e.schema.push({value:e.mapping,label:"mapping",options:Object.values(w)});let t=j.getNoiseFunction(e.type),n=j.getMapping(e.mapping);e.vertexVariables=e.vertexVariables.replace("lamina_mapping_template",n),e.vertexVariables=e.vertexVariables.replace("lamina_noise_template",t)}),this.type="perlin",this.mapping="local"}static getNoiseFunction(e){switch(e){default:case"perlin":return"lamina_noise_perlin";case"simplex":return"lamina_noise_simplex";case"cell":return"lamina_noise_worley";case"white":return"lamina_noise_white";case"curl":return"lamina_noise_swirl"}}static getMapping(e){switch(e){default:case"local":return"p";case"world":return"(modelMatrix * vec4(p,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}j.u_strength=1,j.u_scale=1,j.u_offset=new a.Vector3(0,0,0),j.vertexShader=`
       
      uniform float u_strength;
      uniform float u_scale;
      uniform vec3 u_offset;

      vec3 displace(vec3 p) {
				vec3 f_position = lamina_mapping_template;
        float f_n = lamina_noise_template((f_position + u_offset) * u_scale) * u_strength;
        vec3 f_newPosition = p + (f_n * normal);

				return f_newPosition;
      }

      
			vec3 orthogonal(vec3 v) {
  		  return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0)
  		  : vec3(0.0, -v.z, v.y));
  		}
  		vec3 recalcNormals(vec3 newPos) {
  		  float offset = 0.001;
  		  vec3 tangent = orthogonal(normal);
  		  vec3 bitangent = normalize(cross(normal, tangent));
  		  vec3 neighbour1 = position + tangent * offset;
  		  vec3 neighbour2 = position + bitangent * offset;
  		  vec3 displacedNeighbour1 = displace(neighbour1);
  		  vec3 displacedNeighbour2 = displace(neighbour2);
  		  vec3 displacedTangent = displacedNeighbour1 - newPos;
  		  vec3 displacedBitangent = displacedNeighbour2 - newPos;
  		  return normalize(cross(displacedTangent, displacedBitangent));
  		}
  
  
      void main() {
       
				vec3 f_newPosition = displace(position);
        lamina_finalNormal = recalcNormals(f_newPosition);

        return f_newPosition;
      }
    `;class R extends E{constructor(e){super(R,{name:"Normal",...e})}}R.u_alpha=1,R.u_direction=new a.Vector3(1,1,1),R.vertexShader=`   
  varying vec3 v_normals; 

  void main() {
    v_normals = normal;
  }
`,R.fragmentShader=`   
  	uniform float u_alpha;
  	uniform vec3 u_color;
  	uniform vec3 u_direction;

		varying vec3 v_normals;

    void main() {
			vec3 f_normalColor = vec3(1.);
      f_normalColor.x = v_normals.x * u_direction.x;
      f_normalColor.y = v_normals.y * u_direction.y;
      f_normalColor.z = v_normals.z * u_direction.z;

      return vec4(f_normalColor, u_alpha);
    }
  `;var I=`
vec4 lamina_blend_add(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(min(x.xyz + y.xyz, 1.0) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec3 lamina_blend_alpha(const in vec3 x, const in vec3 y, const in float opacity) {

	return y * opacity + x * (1.0 - opacity);

}

vec4 lamina_blend_alpha(const in vec4 x, const in vec4 y, const in float opacity) {

	float a = min(y.a, opacity);

	return vec4(lamina_blend_alpha(x.rgb, y.rgb, a), x.a);

}
vec4 lamina_blend_average(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((x.xyz + y.xyz) * 0.5 * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_color_burn(const in float x, const in float y) {

	return (y == 0.0) ? y : max(1.0 - (1.0 - x) / y, 0.0);

}

vec4 lamina_blend_color_burn(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_color_burn(x.r, y.r),
		lamina_blend_color_burn(x.g, y.g),
		lamina_blend_color_burn(x.b, y.b),
		lamina_blend_color_burn(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_color_dodge(const in float x, const in float y) {

	return (y == 1.0) ? y : min(x / (1.0 - y), 1.0);

}

vec4 lamina_blend_color_dodge(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_color_dodge(x.r, y.r),
		lamina_blend_color_dodge(x.g, y.g),
		lamina_blend_color_dodge(x.b, y.b),
		lamina_blend_color_dodge(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_darken(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(min(x.xyz, y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_difference(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(abs(x.xyz - y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_divide(const in float x, const in float y) {

	return (y > 0.0) ? min(x / y, 1.0) : 1.0;

}

vec4 lamina_blend_divide(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_divide(x.r, y.r),
		lamina_blend_divide(x.g, y.g),
		lamina_blend_divide(x.b, y.b),
		lamina_blend_divide(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_exclusion(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((x.xyz + y.xyz - 2.0 * x.xyz * y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_lighten(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(max(x.xyz, y.xyz) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_multiply(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4( x.xyz * y.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_negation(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((1.0 - abs(1.0 - x.xyz - y.xyz)) * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_normal(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(y.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_overlay(const in float x, const in float y) {

	return (x < 0.5) ? (2.0 * x * y) : (1.0 - 2.0 * (1.0 - x) * (1.0 - y));

}

vec4 lamina_blend_overlay(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_overlay(x.r, y.r),
		lamina_blend_overlay(x.g, y.g),
		lamina_blend_overlay(x.b, y.b),
		lamina_blend_overlay(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_reflect(const in float x, const in float y) {

	return (y == 1.0) ? y : min(x * x / (1.0 - y), 1.0);

}

vec4 lamina_blend_reflect(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_reflect(x.r, y.r),
		lamina_blend_reflect(x.g, y.g),
		lamina_blend_reflect(x.b, y.b),
		lamina_blend_reflect(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_screen(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4((1.0 - (1.0 - x.xyz) * (1.0 - y.xyz)) * opacity + x.xyz * (1.0 - opacity), x.a);

}
float lamina_blend_softlight(const in float x, const in float y) {

	return (y < 0.5) ?
		(2.0 * x * y + x * x * (1.0 - 2.0 * y)) :
		(sqrt(x) * (2.0 * y - 1.0) + 2.0 * x * (1.0 - y));

}

vec4 lamina_blend_softlight(const in vec4 x, const in vec4 y, const in float opacity) {

	vec4 z = vec4(
		lamina_blend_softlight(x.r, y.r),
		lamina_blend_softlight(x.g, y.g),
		lamina_blend_softlight(x.b, y.b),
		lamina_blend_softlight(x.a, y.a)
	);

	return vec4(z.xyz * opacity + x.xyz * (1.0 - opacity), x.a);

}
vec4 lamina_blend_subtract(const in vec4 x, const in vec4 y, const in float opacity) {

	return vec4(max(x.xyz + y.xyz - 1.0, 0.0) * opacity + x.xyz * (1.0 - opacity), x.a);

}

`,A=`

// From: https://gist.github.com/patriciogonzalezvivo/670c22f3966e662d2f83
// Huge thanks to the creators of these algorithms

float lamina_noise_mod289(float x){return x - floor(x * (1.0 / 289.0)) * 289.0;}
vec4 lamina_noise_mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}
vec4 lamina_noise_perm(vec4 x){return lamina_noise_mod289(((x * 34.0) + 1.0) * x);}
vec4 lamina_noise_permute(vec4 x) { return mod(((x * 34.0) + 1.0) * x, 289.0); }
vec4 lamina_noise_taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }


float lamina_noise_white(vec2 p) {
  return fract(1e4 * sin(17.0 * p.x + p.y * 0.1) *
               (0.1 + abs(sin(p.y * 13.0 + p.x))));
}

float lamina_noise_white(vec3 p) {
  return lamina_noise_white(p.xy);
}


vec3 lamina_noise_fade(vec3 t) { return t * t * t * (t * (t * 6.0 - 15.0) + 10.0); }

float lamina_noise_perlin(vec3 P) {
  vec3 Pi0 = floor(P);        // Integer part for indexing
  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1
  Pi0 = mod(Pi0, 289.0);
  Pi1 = mod(Pi1, 289.0);
  vec3 Pf0 = fract(P);        // Fractional part for interpolation
  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
  vec4 iy = vec4(Pi0.yy, Pi1.yy);
  vec4 iz0 = Pi0.zzzz;
  vec4 iz1 = Pi1.zzzz;

  vec4 ixy = lamina_noise_permute(lamina_noise_permute(ix) + iy);
  vec4 ixy0 = lamina_noise_permute(ixy + iz0);
  vec4 ixy1 = lamina_noise_permute(ixy + iz1);

  vec4 gx0 = ixy0 / 7.0;
  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
  gx0 = fract(gx0);
  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
  vec4 sz0 = step(gz0, vec4(0.0));
  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
  gy0 -= sz0 * (step(0.0, gy0) - 0.5);

  vec4 gx1 = ixy1 / 7.0;
  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
  gx1 = fract(gx1);
  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
  vec4 sz1 = step(gz1, vec4(0.0));
  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
  gy1 -= sz1 * (step(0.0, gy1) - 0.5);

  vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
  vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
  vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
  vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
  vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
  vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
  vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
  vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);

  vec4 norm0 = lamina_noise_taylorInvSqrt(
      vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
  g000 *= norm0.x;
  g010 *= norm0.y;
  g100 *= norm0.z;
  g110 *= norm0.w;
  vec4 norm1 = lamina_noise_taylorInvSqrt(
      vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
  g001 *= norm1.x;
  g011 *= norm1.y;
  g101 *= norm1.z;
  g111 *= norm1.w;

  float n000 = dot(g000, Pf0);
  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
  float n111 = dot(g111, Pf1);

  vec3 fade_xyz = lamina_noise_fade(Pf0);
  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111),
                 fade_xyz.z);
  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
  return lamina_normalize(2.2 * n_xyz);
}

float lamina_noise_simplex(vec3 v) {
  const vec2 C = vec2(1.0 / 6.0, 1.0 / 3.0);
  const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);

  // First corner
  vec3 i = floor(v + dot(v, C.yyy));
  vec3 x0 = v - i + dot(i, C.xxx);

  // Other corners
  vec3 g = step(x0.yzx, x0.xyz);
  vec3 l = 1.0 - g;
  vec3 i1 = min(g.xyz, l.zxy);
  vec3 i2 = max(g.xyz, l.zxy);

  //  x0 = x0 - 0. + 0.0 * C
  vec3 x1 = x0 - i1 + 1.0 * C.xxx;
  vec3 x2 = x0 - i2 + 2.0 * C.xxx;
  vec3 x3 = x0 - 1. + 3.0 * C.xxx;

  // Permutations
  i = mod(i, 289.0);
  vec4 p = lamina_noise_permute(lamina_noise_permute(lamina_noise_permute(i.z + vec4(0.0, i1.z, i2.z, 1.0)) + i.y +
                             vec4(0.0, i1.y, i2.y, 1.0)) +
                    i.x + vec4(0.0, i1.x, i2.x, 1.0));

  // Gradients
  // ( N*N points uniformly over a square, mapped onto an octahedron.)
  float n_ = 1.0 / 7.0; // N=7
  vec3 ns = n_ * D.wyz - D.xzx;

  vec4 j = p - 49.0 * floor(p * ns.z * ns.z); //  mod(p,N*N)

  vec4 x_ = floor(j * ns.z);
  vec4 y_ = floor(j - 7.0 * x_); // mod(j,N)

  vec4 x = x_ * ns.x + ns.yyyy;
  vec4 y = y_ * ns.x + ns.yyyy;
  vec4 h = 1.0 - abs(x) - abs(y);

  vec4 b0 = vec4(x.xy, y.xy);
  vec4 b1 = vec4(x.zw, y.zw);

  vec4 s0 = floor(b0) * 2.0 + 1.0;
  vec4 s1 = floor(b1) * 2.0 + 1.0;
  vec4 sh = -step(h, vec4(0.0));

  vec4 a0 = b0.xzyw + s0.xzyw * sh.xxyy;
  vec4 a1 = b1.xzyw + s1.xzyw * sh.zzww;

  vec3 p0 = vec3(a0.xy, h.x);
  vec3 p1 = vec3(a0.zw, h.y);
  vec3 p2 = vec3(a1.xy, h.z);
  vec3 p3 = vec3(a1.zw, h.w);

  // Normalise gradients
  vec4 norm =
      lamina_noise_taylorInvSqrt(vec4(dot(p0, p0), dot(p1, p1), dot(p2, p2), dot(p3, p3)));
  p0 *= norm.x;
  p1 *= norm.y;
  p2 *= norm.z;
  p3 *= norm.w;

  // Mix final noise value
  vec4 m =
      max(0.6 - vec4(dot(x0, x0), dot(x1, x1), dot(x2, x2), dot(x3, x3)), 0.0);
  m = m * m;
  return lamina_normalize(42.0 *
         dot(m * m, vec4(dot(p0, x0), dot(p1, x1), dot(p2, x2), dot(p3, x3))));
}

vec3 lamina_noise_simplex3(vec3 x) {
  float s = lamina_noise_simplex(vec3(x));
  float s1 = lamina_noise_simplex(vec3(x.y - 19.1, x.z + 33.4, x.x + 47.2));
  float s2 = lamina_noise_simplex(vec3(x.z + 74.2, x.x - 124.5, x.y + 99.4));
  vec3 c = vec3(s, s1, s2);
  return c;
}

vec3 lamina_noise_curl(vec3 p) {
  const float e = .1;
  vec3 dx = vec3(e, 0.0, 0.0);
  vec3 dy = vec3(0.0, e, 0.0);
  vec3 dz = vec3(0.0, 0.0, e);

  vec3 p_x0 = lamina_noise_simplex3(p - dx);
  vec3 p_x1 = lamina_noise_simplex3(p + dx);
  vec3 p_y0 = lamina_noise_simplex3(p - dy);
  vec3 p_y1 = lamina_noise_simplex3(p + dy);
  vec3 p_z0 = lamina_noise_simplex3(p - dz);
  vec3 p_z1 = lamina_noise_simplex3(p + dz);

  float x = p_y1.z - p_y0.z - p_z1.y + p_z0.y;
  float y = p_z1.x - p_z0.x - p_x1.z + p_x0.z;
  float z = p_x1.y - p_x0.y - p_y1.x + p_y0.x;

  const float divisor = 1.0 / (2.0 * e);
  return normalize(vec3(x, y, z) * divisor);
}

vec3 lamina_permute(vec3 x) {
  return mod((34.0 * x + 1.0) * x, 289.0);
}

vec3 lamina_dist(vec3 x, vec3 y, vec3 z,  bool manhattanDistance) {
  return manhattanDistance ?  abs(x) + abs(y) + abs(z) :  (x * x + y * y + z * z);
}

// From: https://github.com/Erkaman/glsl-worley
float lamina_noise_worley(vec3 P) {
  float jitter = 1.;
  bool manhattanDistance = false; 

  float K = 0.142857142857; // 1/7
  float Ko = 0.428571428571; // 1/2-K/2
  float  K2 = 0.020408163265306; // 1/(7*7)
  float Kz = 0.166666666667; // 1/6
  float Kzo = 0.416666666667; // 1/2-1/6*2

	vec3 Pi = mod(floor(P), 289.0);
 	vec3 Pf = fract(P) - 0.5;

	vec3 Pfx = Pf.x + vec3(1.0, 0.0, -1.0);
	vec3 Pfy = Pf.y + vec3(1.0, 0.0, -1.0);
	vec3 Pfz = Pf.z + vec3(1.0, 0.0, -1.0);

	vec3 p = lamina_permute(Pi.x + vec3(-1.0, 0.0, 1.0));
	vec3 p1 = lamina_permute(p + Pi.y - 1.0);
	vec3 p2 = lamina_permute(p + Pi.y);
	vec3 p3 = lamina_permute(p + Pi.y + 1.0);

	vec3 p11 = lamina_permute(p1 + Pi.z - 1.0);
	vec3 p12 = lamina_permute(p1 + Pi.z);
	vec3 p13 = lamina_permute(p1 + Pi.z + 1.0);

	vec3 p21 = lamina_permute(p2 + Pi.z - 1.0);
	vec3 p22 = lamina_permute(p2 + Pi.z);
	vec3 p23 = lamina_permute(p2 + Pi.z + 1.0);

	vec3 p31 = lamina_permute(p3 + Pi.z - 1.0);
	vec3 p32 = lamina_permute(p3 + Pi.z);
	vec3 p33 = lamina_permute(p3 + Pi.z + 1.0);

	vec3 ox11 = fract(p11*K) - Ko;
	vec3 oy11 = mod(floor(p11*K), 7.0)*K - Ko;
	vec3 oz11 = floor(p11*K2)*Kz - Kzo; // p11 < 289 guaranteed

	vec3 ox12 = fract(p12*K) - Ko;
	vec3 oy12 = mod(floor(p12*K), 7.0)*K - Ko;
	vec3 oz12 = floor(p12*K2)*Kz - Kzo;

	vec3 ox13 = fract(p13*K) - Ko;
	vec3 oy13 = mod(floor(p13*K), 7.0)*K - Ko;
	vec3 oz13 = floor(p13*K2)*Kz - Kzo;

	vec3 ox21 = fract(p21*K) - Ko;
	vec3 oy21 = mod(floor(p21*K), 7.0)*K - Ko;
	vec3 oz21 = floor(p21*K2)*Kz - Kzo;

	vec3 ox22 = fract(p22*K) - Ko;
	vec3 oy22 = mod(floor(p22*K), 7.0)*K - Ko;
	vec3 oz22 = floor(p22*K2)*Kz - Kzo;

	vec3 ox23 = fract(p23*K) - Ko;
	vec3 oy23 = mod(floor(p23*K), 7.0)*K - Ko;
	vec3 oz23 = floor(p23*K2)*Kz - Kzo;

	vec3 ox31 = fract(p31*K) - Ko;
	vec3 oy31 = mod(floor(p31*K), 7.0)*K - Ko;
	vec3 oz31 = floor(p31*K2)*Kz - Kzo;

	vec3 ox32 = fract(p32*K) - Ko;
	vec3 oy32 = mod(floor(p32*K), 7.0)*K - Ko;
	vec3 oz32 = floor(p32*K2)*Kz - Kzo;

	vec3 ox33 = fract(p33*K) - Ko;
	vec3 oy33 = mod(floor(p33*K), 7.0)*K - Ko;
	vec3 oz33 = floor(p33*K2)*Kz - Kzo;

	vec3 dx11 = Pfx + jitter*ox11;
	vec3 dy11 = Pfy.x + jitter*oy11;
	vec3 dz11 = Pfz.x + jitter*oz11;

	vec3 dx12 = Pfx + jitter*ox12;
	vec3 dy12 = Pfy.x + jitter*oy12;
	vec3 dz12 = Pfz.y + jitter*oz12;

	vec3 dx13 = Pfx + jitter*ox13;
	vec3 dy13 = Pfy.x + jitter*oy13;
	vec3 dz13 = Pfz.z + jitter*oz13;

	vec3 dx21 = Pfx + jitter*ox21;
	vec3 dy21 = Pfy.y + jitter*oy21;
	vec3 dz21 = Pfz.x + jitter*oz21;

	vec3 dx22 = Pfx + jitter*ox22;
	vec3 dy22 = Pfy.y + jitter*oy22;
	vec3 dz22 = Pfz.y + jitter*oz22;

	vec3 dx23 = Pfx + jitter*ox23;
	vec3 dy23 = Pfy.y + jitter*oy23;
	vec3 dz23 = Pfz.z + jitter*oz23;

	vec3 dx31 = Pfx + jitter*ox31;
	vec3 dy31 = Pfy.z + jitter*oy31;
	vec3 dz31 = Pfz.x + jitter*oz31;

	vec3 dx32 = Pfx + jitter*ox32;
	vec3 dy32 = Pfy.z + jitter*oy32;
	vec3 dz32 = Pfz.y + jitter*oz32;

	vec3 dx33 = Pfx + jitter*ox33;
	vec3 dy33 = Pfy.z + jitter*oy33;
	vec3 dz33 = Pfz.z + jitter*oz33;

	vec3 d11 = lamina_dist(dx11, dy11, dz11, manhattanDistance);
	vec3 d12 = lamina_dist(dx12, dy12, dz12, manhattanDistance);
	vec3 d13 = lamina_dist(dx13, dy13, dz13, manhattanDistance);
	vec3 d21 = lamina_dist(dx21, dy21, dz21, manhattanDistance);
	vec3 d22 = lamina_dist(dx22, dy22, dz22, manhattanDistance);
	vec3 d23 = lamina_dist(dx23, dy23, dz23, manhattanDistance);
	vec3 d31 = lamina_dist(dx31, dy31, dz31, manhattanDistance);
	vec3 d32 = lamina_dist(dx32, dy32, dz32, manhattanDistance);
	vec3 d33 = lamina_dist(dx33, dy33, dz33, manhattanDistance);

	vec3 d1a = min(d11, d12);
	d12 = max(d11, d12);
	d11 = min(d1a, d13); // Smallest now not in d12 or d13
	d13 = max(d1a, d13);
	d12 = min(d12, d13); // 2nd smallest now not in d13
	vec3 d2a = min(d21, d22);
	d22 = max(d21, d22);
	d21 = min(d2a, d23); // Smallest now not in d22 or d23
	d23 = max(d2a, d23);
	d22 = min(d22, d23); // 2nd smallest now not in d23
	vec3 d3a = min(d31, d32);
	d32 = max(d31, d32);
	d31 = min(d3a, d33); // Smallest now not in d32 or d33
	d33 = max(d3a, d33);
	d32 = min(d32, d33); // 2nd smallest now not in d33
	vec3 da = min(d11, d21);
	d21 = max(d11, d21);
	d11 = min(da, d31); // Smallest now in d11
	d31 = max(da, d31); // 2nd smallest now not in d31
	d11.xy = (d11.x < d11.y) ? d11.xy : d11.yx;
	d11.xz = (d11.x < d11.z) ? d11.xz : d11.zx; // d11.x now smallest
	d12 = min(d12, d21); // 2nd smallest now not in d21
	d12 = min(d12, d22); // nor in d22
	d12 = min(d12, d31); // nor in d31
	d12 = min(d12, d32); // nor in d32
	d11.yz = min(d11.yz,d12.xy); // nor in d12.yz
	d11.y = min(d11.y,d12.z); // Only two more to go
	d11.y = min(d11.y,d11.z); // Done! (Phew!)

  vec2 F = sqrt(d11.xy);
	return F.x; // F1, F2

}

float lamina_noise_swirl(vec3 position) {
    float scale = 0.1;
    float freq = 4. * scale;
    float t = 1.;

    vec3 pos = (position * scale) + lamina_noise_curl(position * 7. * scale);

    float worley1 = 1. - lamina_noise_worley((pos * (freq * 2.)) +  (t * 2.));
    float worley2 = 1. - lamina_noise_worley((pos * (freq * 4.)) +  (t * 4.));
    float worley3 = 1. - lamina_noise_worley((pos * (freq * 8.)) +  (t * 8.));
    float worley4 = 1. - lamina_noise_worley((pos * (freq * 16.)) +  (t * 16.));
    
    float fbm1 = worley1 * .625 + worley2 * .25 + worley3 * .125;
    float fbm2 = worley2 * .625 + worley3 * .25 + worley4 * .125;
    float fbm3 = worley3 * .75 + worley4 * .25;

    vec3 curlWorleyFbm = vec3(fbm1, fbm2, fbm3);
    float curlWorley = curlWorleyFbm.r * .625 + curlWorleyFbm.g * .25 + 
        curlWorleyFbm.b * .125;

    return curlWorley;
}
  
  
`,$=`

float lamina_map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

float lamina_normalize(float v) { return lamina_map(v, -1.0, 1.0, 0.0, 1.0); }
`;class D extends m.Z{constructor({color:e,alpha:t,lighting:n,layers:r,name:i,...o}={}){super({baseMaterial:S[n||"basic"],...o}),this.name="LayerMaterial",this.layers=[],this.lighting="basic";let l=e||"white";this.uniforms={u_lamina_color:{value:"string"==typeof l?new a.Color(l).convertSRGBToLinear():l},u_lamina_alpha:{value:null!=t?t:1}},this.layers=r||this.layers,this.lighting=n||this.lighting,this.name=i||this.name,this.refresh()}genShaders(){let e="",t="",n="",r="",i={};return this.layers.filter(e=>e.visible).forEach(o=>{e+=o.vertexVariables+"\n",t+=o.fragmentVariables+"\n",n+=o.vertexShader+"\n",r+=o.fragmentShader+"\n",i={...i,...o.uniforms}}),i={...i,...this.uniforms},{uniforms:i,vertexShader:`
        ${$}
        ${A}
        ${e}

        void main() {
          vec3 lamina_finalPosition = position;
          vec3 lamina_finalNormal = normal;

          ${n}

          csm_Position = lamina_finalPosition;
          csm_Normal = lamina_finalNormal;
        }
        `,fragmentShader:`
        ${$}
        ${A}
        ${I}
        ${t}

        uniform vec3 u_lamina_color;
        uniform float u_lamina_alpha;

        void main() {
          vec4 lamina_finalColor = vec4(u_lamina_color, u_lamina_alpha);

          ${r}

          csm_DiffuseColor = lamina_finalColor;
         
        }
        `}}refresh(){let{uniforms:e,fragmentShader:t,vertexShader:n}=this.genShaders();super.update({fragmentShader:t,vertexShader:n,uniforms:e})}serialize(){return{constructor:"LayerMaterial",properties:{color:this.color,alpha:this.alpha,name:this.name,lighting:this.lighting}}}set color(e){var t,n;null!=(t=this.uniforms)&&null!=(n=t.u_lamina_color)&&n.value&&(this.uniforms.u_lamina_color.value="string"==typeof e?new a.Color(e).convertSRGBToLinear():e)}get color(){var e,t;return null==(e=this.uniforms)?void 0:null==(t=e.u_lamina_color)?void 0:t.value}set alpha(e){this.uniforms.u_lamina_alpha.value=e}get alpha(){return this.uniforms.u_lamina_alpha.value}}(0,i.e)({LayerMaterial:D}),(0,i.e)({LayerMaterial:D,Depth_:C,Color_:P,Noise_:z,Fresnel_:k,Gradient_:O,Matcap_:M,Texture_:T,Displace_:j,Normal_:R});let N=o.forwardRef((e,t)=>o.createElement("color_",(0,r.Z)({ref:t,args:[{mode:null==e?void 0:e.mode,visible:null==e?void 0:e.visible,type:null==e?void 0:e.type,mapping:null==e?void 0:e.mapping,map:null==e?void 0:e.map,axes:null==e?void 0:e.axes}]},e)))},4074:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(9477),i=n(705),o=n.n(i),a=n(9932),l=n.n(a),s=n(1818),u=n.n(s),c=n(1386),f=n.n(c),d={position:"csm_Position",positionRaw:"csm_PositionRaw",pointSize:"csm_PointSize",fragColor:"csm_FragColor",diffuseColor:"csm_DiffuseColor",normal:"csm_Normal",roughness:"csm_Roughness",metalness:"csm_Metalness",emissive:"csm_Emissive"};let p={[`${d.normal}`]:{"#include <beginnormal_vertex>":`
    vec3 objectNormal = ${d.normal};
    #ifdef USE_TANGENT
	    vec3 objectTangent = vec3( tangent.xyz );
    #endif
    `},[`${d.position}`]:{"#include <begin_vertex>":`
    vec3 transformed = ${d.position};
  `},[`${d.positionRaw}`]:{"#include <begin_vertex>":`
    vec4 csm_positionUnprojected = ${d.positionRaw};
    mat4x4 csm_unprojectMatrix = projectionMatrix * modelViewMatrix;
    #ifdef USE_INSTANCING
      csm_unprojectMatrix = csm_unprojectMatrix * instanceMatrix;
    #endif
    csm_positionUnprojected = inverse(csm_unprojectMatrix) * csm_positionUnprojected;
    vec3 transformed = csm_positionUnprojected.xyz;
  `},[`${d.pointSize}`]:{"gl_PointSize = size;":`
    gl_PointSize = ${d.pointSize};
    `},[`${d.diffuseColor}`]:{"#include <color_fragment>":`
    #include <color_fragment>
    diffuseColor = ${d.diffuseColor};
  `},[`${d.fragColor}`]:{"#include <dithering_fragment>":`
    #include <dithering_fragment>
    gl_FragColor  = ${d.fragColor};
  `},[`${d.emissive}`]:{"vec3 totalEmissiveRadiance = emissive;":`
    vec3 totalEmissiveRadiance = ${d.emissive};
    `},[`${d.roughness}`]:{"#include <roughnessmap_fragment>":`
    #include <roughnessmap_fragment>
    roughnessFactor = ${d.roughness};
    `},[`${d.metalness}`]:{"#include <metalnessmap_fragment>":`
    #include <metalnessmap_fragment>
    metalnessFactor = ${d.metalness};
    `}},h={[`${d.position}`]:{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = projectionMatrix * modelViewMatrix * vec4( ${d.position}, 1.0 );
  `},[`${d.positionRaw}`]:{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":`
    gl_Position = ${d.position};
  `},[`${d.diffuseColor}`]:{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = ${d.diffuseColor};
  `},[`${d.fragColor}`]:{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":`
    gl_FragColor = ${d.fragColor};
  `}},m=`

#ifdef IS_VERTEX
    vec3 csm_Position = position;
    vec4 csm_PositionRaw = projectionMatrix * modelViewMatrix * vec4(position, 1.);
    vec3 csm_Normal = normal;
#else
    #if defined IS_SHADERMATERIAL || defined IS_MESHDEPTHMATERIAL || defined IS_MESHNORMALMATERIAL
        vec4 csm_DiffuseColor = vec4(1., 0., 1., 1.);
        vec4 csm_FragColor = vec4(1., 0., 1., 1.);
    #else
        #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL
            vec3 csm_Emissive = emissive;
            float csm_Roughness = roughness;
            float csm_Metalness = metalness;
        #endif
        
        #ifdef USE_MAP
            vec4 _csm_sampledDiffuseColor = texture2D(map, vUv);

            #ifdef DECODE_VIDEO_TEXTURE
            // inline sRGB decode (TODO: Remove this code when https://crbug.com/1256340 is solved)
            _csm_sampledDiffuseColor = vec4(mix(pow(_csm_sampledDiffuseColor.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), _csm_sampledDiffuseColor.rgb * 0.0773993808, vec3(lessThanEqual(_csm_sampledDiffuseColor.rgb, vec3(0.04045)))), _csm_sampledDiffuseColor.w);
            #endif

            vec4 csm_DiffuseColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
            vec4 csm_FragColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;
        #else
            vec4 csm_DiffuseColor = vec4(diffuse, opacity);
            vec4 csm_FragColor = vec4(diffuse, opacity);
        #endif
    #endif
#endif
`,g=(e,t,n)=>e.split(t).join(n),y=(e,t)=>RegExp(`\\b${t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}\\b`).test(e);class b extends r.Material{constructor({baseMaterial:e,fragmentShader:t,vertexShader:n,uniforms:i,patchMap:o,cacheKey:a,...l}){let s;if(!function(e){try{new e}catch(t){if(t.message.indexOf("is not a constructor")>=0)return!1}return!0}(e)?Object.assign(s=e,l):s=new e(l),"RawShaderMaterial"===s.type)throw Error("CustomShaderMaterial does not support RawShaderMaterial");for(let u in super(),this.uniforms=i||{},this._customPatchMap=o||{},this._fs=t||"",this._vs=n||"",this._cacheKey=a,this._base=e,this._type=s.type,this._instanceID=r.MathUtils.generateUUID(),s){let c=u;u.startsWith("_")&&(c=u.split("_")[1]),void 0===this[c]&&(this[c]=0),this[c]=s[c]}this.update({fragmentShader:t,vertexShader:n,uniforms:i,cacheKey:a})}update(e){let t=(null==e?void 0:e.uniforms)||{},n=(null==e?void 0:e.fragmentShader)||this._fs,r=(null==e?void 0:e.vertexShader)||this._vs,i=Object.values(t).reduce((e,{value:t})=>e+JSON.stringify(t),"");this.uuid=(null==e?void 0:null==e.cacheKey?void 0:e.cacheKey())||o()([n,r,i,this._instanceID]),this.generateMaterial({fragmentShader:n,vertexShader:r,uniforms:t})}clone(){let e=new this.constructor({baseMaterial:this._base,fragmentShader:this._fs,vertexShader:this._vs,patchMap:this._customPatchMap,uniforms:this.uniforms,cacheKey:this._cacheKey});for(let t in this)"uuid"!==t&&(e[t]=this[t]);return e}generateMaterial({fragmentShader:e,vertexShader:t,uniforms:n}){let r=this.parseShader(e),i=this.parseShader(t);this.uniforms=n||{},this.customProgramCacheKey=()=>this.uuid,this.onBeforeCompile=e=>{if(r){let t=this.patchShader(r,e.fragmentShader);e.fragmentShader=this.getMaterialDefine()+t}if(i){let n=this.patchShader(i,e.vertexShader);e.vertexShader="#define IS_VERTEX;\n"+n,e.vertexShader=this.getMaterialDefine()+e.vertexShader}e.uniforms={...e.uniforms,...this.uniforms},this.uniforms=e.uniforms},this.needsUpdate=!0}getMaterialDefine(){return`#define IS_${this._type.toUpperCase()};
`}getPatchMapForMaterial(){return"ShaderMaterial"===this._type?h:p}patchShader(e,t){let n=t,r={...this.getPatchMapForMaterial(),...this._customPatchMap};return Object.keys(r).forEach(t=>{Object.keys(r[t]).forEach(i=>{y(e.main,t)&&(n=g(n,i,r[t][i]))})}),n=n.replace("void main() {",`
          ${e.header}
          void main() {
            ${m}
            ${e.main}
          `),n=e.defines+n}parseShader(e){if(!e)return;let t=e.replace(/\/\*\*(.*?)\*\/|\/\/(.*?)\n/gm,""),n=l()(t),r=f()(n),i=r.map(e=>e.name).indexOf("main"),o=u()(n.slice(0,i>=0?r[i].outer[0]:void 0)),a=i>=0?this.getShaderFromIndex(n,r[i].body):"";return{defines:"",header:o,main:a}}getShaderFromIndex(e,t){return u()(e.slice(t[0],t[1]))}}},5711:function(e,t,n){"use strict";n.d(t,{$p:function(){return b}});var r=n(9477),i=n(9932),o=n.n(i),a=n(3815),l=n.n(a),s=n(1818),u=n.n(s),c=n(1386),f=n.n(c);function d(e){return"string"==typeof e?new r.Color(e).convertLinearToSRGB():e}function p(e){return e instanceof r.Vector3||e instanceof r.Vector2||e instanceof r.Vector4||e instanceof r.Matrix3||e instanceof r.Matrix4}function h(e){return p(e)?e.toArray():e instanceof r.Color?"#"+e.clone().convertLinearToSRGB().getHexString():e instanceof r.Texture?e.image.src:e}n(4074);let m={normal:"normal",add:"add",subtract:"subtract",multiply:"multiply",lighten:"lighten",darken:"darken",divide:"divide",overlay:"overlay",screen:"screen",softlight:"softlight",negation:"negation",reflect:"reflect"},g={perlin:"perlin",simplex:"simplex",cell:"cell",curl:"curl",white:"white"},y={local:"local",world:"world",uv:"uv"};r.MeshPhongMaterial,r.MeshPhysicalMaterial,r.MeshToonMaterial,r.MeshBasicMaterial,r.MeshLambertMaterial,r.MeshStandardMaterial;class b{constructor(e,t,n){this.uuid=r.MathUtils.generateUUID().replace(/-/g,"_"),this.name="LayerMaterial",this.mode="normal",this.visible=!0;let i=Object.getOwnPropertyNames(e).filter(e=>e.startsWith("u_")),o=i.reduce((t,n)=>{var i;let o=null==(i=Object.getOwnPropertyDescriptor(e,n))?void 0:i.value;return(p(o)||o instanceof r.Color)&&(o=o.clone()),{...t,[n.slice(1)]:o}},{});for(let a in o){let l=a.split("_")[1];(null==t?void 0:t[l])!==void 0&&(o[a]=t[l])}t&&Object.keys(t).map(e=>{void 0!==t[e]&&(this[e]=t[e])}),this.uniforms={},this.schema=[];let s={};Object.keys(o).map(e=>{let t=e.split("_")[1];this.uniforms[`u_${this.uuid}_${t}`]={value:d(o[e])},this.schema.push({value:o[e],label:t}),s[t]={set:e=>{this.uniforms[`u_${this.uuid}_${t}`].value=d(e)},get:()=>this.uniforms[`u_${this.uuid}_${t}`].value}}),null!=t&&t.name&&(this.name=t.name),null!=t&&t.mode&&(this.mode=t.mode),null!=t&&t.visible&&(this.visible=t.visible),Object.defineProperties(this,s),this.vertexShader="",this.fragmentShader="",this.vertexVariables="",this.fragmentVariables="",this.onParse=n,this.buildShaders(e),this.schema.push({value:this.mode,label:"mode",options:Object.values(m)}),this.schema.push({value:this.visible,label:"visible"})}buildShaders(e){var t;let n=Object.getOwnPropertyNames(e).filter(e=>"fragmentShader"===e||"vertexShader"===e).reduce((t,n)=>{var r;return{...t,[n]:null==(r=Object.getOwnPropertyDescriptor(e,n))?void 0:r.value}},{}),r={vert:o()(n.vertexShader||""),frag:o()(n.fragmentShader||"")},i={vert:l()(r.vert,this.renameTokens.bind(this)),frag:l()(r.frag,this.renameTokens.bind(this))},a={vert:f()(i.vert),frag:f()(i.frag)},s={vert:a.vert.map(e=>e.name).indexOf("main"),frag:a.frag.map(e=>e.name).indexOf("main")},c={vert:s.vert>=0?u()(i.vert.slice(0,a.vert[s.vert].outer[0])):"",frag:s.frag>=0?u()(i.frag.slice(0,a.frag[s.frag].outer[0])):""},d={vert:s.vert>=0?this.getShaderFromIndex(i.vert,a.vert[s.vert].body):"",frag:s.frag>=0?this.getShaderFromIndex(i.frag,a.frag[s.frag].body):""};this.vertexShader=this.processFinal(d.vert,!0),this.fragmentShader=this.processFinal(d.frag),this.vertexVariables=c.vert,this.fragmentVariables=c.frag,null==(t=this.onParse)||t.call(this,this),this.schema=this.schema.filter((e,t)=>{let n=e.label;return t===this.schema.findIndex(e=>e.label===n)})}renameTokens(e){if(e.startsWith("u_")){let t=e.slice(2);return`u_${this.uuid}_${t}`}if(e.startsWith("v_")){let n=e.slice(2);return`v_${this.uuid}_${n}`}if(!e.startsWith("f_"))return e;{let r=e.slice(2);return`f_${this.uuid}_${r}`}}processFinal(e,t){let n=e.replace(/\sf_/gm,` f_${this.uuid}_`).replace(/\(f_/gm,`(f_${this.uuid}_`),r=n.match(/^.*return.*$/gm),i=n.replace(/^.*return.*$/gm,"");if(null!=r&&r[0]){let o=r[0].replace("return","").trim().replace(";",""),a=this.getBlendMode(o,"lamina_finalColor");i+=t?`lamina_finalPosition = ${o};`:`lamina_finalColor = ${a};`}return i}getShaderFromIndex(e,t){return u()(e.slice(t[0],t[1]))}getBlendMode(e,t){switch(this.mode){default:case"normal":return`lamina_blend_alpha(${t}, ${e}, ${e}.a)`;case"add":return`lamina_blend_add(${t}, ${e}, ${e}.a)`;case"subtract":return`lamina_blend_subtract(${t}, ${e}, ${e}.a)`;case"multiply":return`lamina_blend_multiply(${t}, ${e}, ${e}.a)`;case"lighten":return`lamina_blend_lighten(${t}, ${e}, ${e}.a)`;case"darken":return`lamina_blend_darken(${t}, ${e}, ${e}.a)`;case"divide":return`lamina_blend_divide(${t}, ${e}, ${e}.a)`;case"overlay":return`lamina_blend_overlay(${t}, ${e}, ${e}.a)`;case"screen":return`lamina_blend_screen(${t}, ${e}, ${e}.a)`;case"softlight":return`lamina_blend_softlight(${t}, ${e}, ${e}.a)`;case"reflect":return`lamina_blend_reflect(${t}, ${e}, ${e}.a)`;case"negation":return`lamina_blend_negation(${t}, ${e}, ${e}.a)`}}getSchema(){let e=this.schema.map(({label:e,options:t,...n})=>({label:e,options:t,...function(e){switch(e){case"alpha":return{min:0,max:1};case"scale":return{min:0};case"map":return{image:void 0};default:return{}}}(e),...n,value:h(this[e])}));return e}serialize(){let e=this.constructor.name.split("$")[0],t=Object.keys(this);t=t.filter(e=>!["uuid","uniforms","schema","fragmentShader","vertexShader","fragmentVariables","vertexVariables","attribs","events","__r3f","onParse"].includes(e));let n={};t.forEach(e=>{n[e]=this[e]});let r={};for(let i in this.uniforms){let o=i.replace(`u_${this.uuid}_`,"");r[o]=h(this.uniforms[i].value)}return{constructor:e,properties:{...r,...n}}}}class x extends b{constructor(e){super(x,{name:"Depth",...e},e=>{e.schema.push({value:e.mapping,label:"mapping",options:["vector","world","camera"]});let t=x.getMapping(e.uuid,e.mapping);e.fragmentShader=e.fragmentShader.replace("lamina_mapping_template",t)}),this.mapping="vector"}static getMapping(e,t){switch(t){default:case"vector":return`length(v_${e}_worldPosition - u_${e}_origin)`;case"world":return`length(v_${e}_position - vec3(0.))`;case"camera":return`length(v_${e}_worldPosition - cameraPosition)`}}}x.u_near=2,x.u_far=10,x.u_origin=new r.Vector3(0,0,0),x.u_colorA="white",x.u_colorB="black",x.u_alpha=1,x.vertexShader=`
  varying vec3 v_worldPosition;
  varying vec3 v_position;

  void main() {
    v_worldPosition = (vec4(position, 1.0) * modelMatrix).xyz;
    v_position = position;
  }
  `,x.fragmentShader=`   
    uniform float u_alpha;
    uniform float u_near;
    uniform float u_far;
    uniform float u_isVector;
    uniform vec3 u_origin;
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;

    varying vec3 v_worldPosition;
    varying vec3 v_position;

    void main() {
      float f_dist = lamina_mapping_template;
      float f_depth = (f_dist - u_near) / (u_far - u_near);
			vec3 f_depthColor =  mix(u_colorB, u_colorA, 1.0 - clamp(f_depth, 0., 1.));
  
  
      return vec4(f_depthColor, u_alpha);
    }
  `;class _ extends b{constructor(e){super(_,{name:"Color",...e})}}_.u_color="red",_.u_alpha=1,_.fragmentShader=`   
    uniform vec3 u_color;
    uniform float u_alpha;

    void main() {
      return vec4(u_color, u_alpha);
    }
  `;class w extends b{constructor(e){super(w,{name:"noise",...e},e=>{e.schema.push({value:e.type,label:"type",options:Object.values(g)}),e.schema.push({value:e.mapping,label:"mapping",options:Object.values(y)});let t=w.getNoiseFunction(e.type),n=w.getMapping(e.mapping);e.vertexShader=e.vertexShader.replace("lamina_mapping_template",n),e.fragmentShader=e.fragmentShader.replace("lamina_noise_template",t)}),this.type="perlin",this.mapping="local"}static getNoiseFunction(e){switch(e){default:case"perlin":return"lamina_noise_perlin";case"simplex":return"lamina_noise_simplex";case"cell":return"lamina_noise_worley";case"white":return"lamina_noise_white";case"curl":return"lamina_noise_swirl"}}static getMapping(e){switch(e){default:case"local":return"position";case"world":return"(modelMatrix * vec4(position,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}w.u_colorA="#666666",w.u_colorB="#666666",w.u_colorC="#FFFFFF",w.u_colorD="#FFFFFF",w.u_alpha=1,w.u_scale=1,w.u_offset=new r.Vector3(0,0,0),w.vertexShader=`
    varying vec3 v_position;

    void main() {
        v_position = lamina_mapping_template;
    }
  `,w.fragmentShader=`   
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;
    uniform vec3 u_colorC;
    uniform vec3 u_colorD;
    uniform vec3 u_offset;

    uniform float u_alpha;
    uniform float u_scale;

    varying vec3 v_position;


    void main() {
        float f_n = lamina_noise_template((v_position + u_offset) * u_scale);

        float f_step1 = 0.;
        float f_step2 = 0.2;
        float f_step3 = 0.6;
        float f_step4 = 1.;

        vec3 f_color = mix(u_colorA, u_colorB, smoothstep(f_step1, f_step2, f_n));
        f_color = mix(f_color, u_colorC, smoothstep(f_step2, f_step3, f_n));
        f_color = mix(f_color, u_colorD, smoothstep(f_step3, f_step4, f_n));

        return vec4(f_color, u_alpha);
    }
  `;class S extends b{constructor(e){super(S,{name:"Fresnel",...e})}}S.u_color="white",S.u_alpha=1,S.u_bias=0,S.u_intensity=1,S.u_power=2,S.u_factor=1,S.vertexShader=`
    varying vec3 v_worldPosition;
    varying vec3 v_worldNormal;

    void main() {
        v_worldPosition = vec3(-viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2]);
        v_worldNormal = normalize( mat3( modelMatrix[0].xyz, modelMatrix[1].xyz, modelMatrix[2].xyz ) * normal );
        
    }
  `,S.fragmentShader=`   
    uniform vec3 u_color;
    uniform float u_alpha;
    uniform float u_bias;
    uniform float u_intensity;
    uniform float u_power;
    uniform float u_factor;

    varying vec3 v_worldPosition;
    varying vec3 v_worldNormal;

    void main() {
        float f_a = (u_factor  + dot(v_worldPosition, v_worldNormal));
        float f_fresnel = u_bias + u_intensity * pow(abs(f_a), u_power);

        f_fresnel = clamp(f_fresnel, 0.0, 1.0);
        return vec4(f_fresnel * u_color, u_alpha);
    }
  `;class E extends b{constructor(e){super(E,{name:"Gradient",...e},e=>{e.schema.push({value:e.axes,label:"axes",options:["x","y","z"]}),e.schema.push({value:e.mapping,label:"mapping",options:Object.values(y)});let t=E.getMapping(e.mapping);e.vertexShader=e.vertexShader.replace("lamina_mapping_template",t||"local"),e.fragmentShader=e.fragmentShader.replace("axes_template",e.axes||"x")}),this.axes="x",this.mapping="local"}static getMapping(e){switch(e){default:case"local":return"position";case"world":return"(modelMatrix * vec4(position,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}E.u_colorA="white",E.u_colorB="black",E.u_alpha=1,E.u_start=1,E.u_end=-1,E.u_contrast=1,E.vertexShader=`
		varying vec3 v_position;

		vod main() {
      v_position = lamina_mapping_template;
		}
  `,E.fragmentShader=`   
    uniform vec3 u_colorA;
    uniform vec3 u_colorB;
    uniform vec3 u_axis;
    uniform float u_alpha;
    uniform float u_start;
    uniform float u_end;
    uniform float u_contrast;

		varying vec3 v_position;

    void main() {

      float f_step = smoothstep(u_start, u_end, v_position.axes_template * u_contrast);
      vec3 f_color = mix(u_colorA, u_colorB, f_step);

      return vec4(f_color, u_alpha);
    }
  `;class C extends b{constructor(e){super(C,{name:"Matcap",...e})}}C.u_alpha=1,C.u_map=void 0,C.vertexShader=`
    varying vec3 v_position;
    varying vec3 v_normal;
    
    void main() {
      v_position = normalize( vec3( modelViewMatrix * vec4( position, 1.0 ) ) );
      v_normal = normalize( normalMatrix * normal );
    }
    `,C.fragmentShader=` 
		uniform sampler2D u_map;  
		uniform float u_alpha;  
		varying vec3 v_position;
		varying vec3 v_normal;

		
    void main() {
			vec3 f_r = reflect( v_position, v_normal );
			float f_m = 2. * sqrt( pow( f_r.x, 2. ) + pow( f_r.y, 2. ) + pow( f_r.z + 1., 2. ) );
			vec2 f_vN = f_r.xy / f_m + .5;

			vec3 f_base = texture2D(u_map, f_vN).rgb;

      return vec4(f_base, u_alpha);
    }
  `;class P extends b{constructor(e){super(P,{name:"Texture",...e})}}P.u_alpha=1,P.u_map=void 0,P.vertexShader=`
    varying vec2 v_uv;
    
    void main() {
        v_uv = uv;
    }
    `,P.fragmentShader=` 
		uniform sampler2D u_map;  
		uniform float u_alpha;  
		varying vec2 v_uv;

    void main() {
			vec4 f_color = texture2D(u_map, v_uv);
      return vec4(f_color.rgb, f_color.a * u_alpha);
    }
  `;class z extends b{constructor(e){super(z,{name:"Displace",...e},e=>{e.schema.push({value:e.type,label:"type",options:Object.values(g)}),e.schema.push({value:e.mapping,label:"mapping",options:Object.values(y)});let t=z.getNoiseFunction(e.type),n=z.getMapping(e.mapping);e.vertexVariables=e.vertexVariables.replace("lamina_mapping_template",n),e.vertexVariables=e.vertexVariables.replace("lamina_noise_template",t)}),this.type="perlin",this.mapping="local"}static getNoiseFunction(e){switch(e){default:case"perlin":return"lamina_noise_perlin";case"simplex":return"lamina_noise_simplex";case"cell":return"lamina_noise_worley";case"white":return"lamina_noise_white";case"curl":return"lamina_noise_swirl"}}static getMapping(e){switch(e){default:case"local":return"p";case"world":return"(modelMatrix * vec4(p,1.0)).xyz";case"uv":return"vec3(uv, 0.)"}}}z.u_strength=1,z.u_scale=1,z.u_offset=new r.Vector3(0,0,0),z.vertexShader=`
       
      uniform float u_strength;
      uniform float u_scale;
      uniform vec3 u_offset;

      vec3 displace(vec3 p) {
				vec3 f_position = lamina_mapping_template;
        float f_n = lamina_noise_template((f_position + u_offset) * u_scale) * u_strength;
        vec3 f_newPosition = p + (f_n * normal);

				return f_newPosition;
      }

      
			vec3 orthogonal(vec3 v) {
  		  return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0)
  		  : vec3(0.0, -v.z, v.y));
  		}
  		vec3 recalcNormals(vec3 newPos) {
  		  float offset = 0.001;
  		  vec3 tangent = orthogonal(normal);
  		  vec3 bitangent = normalize(cross(normal, tangent));
  		  vec3 neighbour1 = position + tangent * offset;
  		  vec3 neighbour2 = position + bitangent * offset;
  		  vec3 displacedNeighbour1 = displace(neighbour1);
  		  vec3 displacedNeighbour2 = displace(neighbour2);
  		  vec3 displacedTangent = displacedNeighbour1 - newPos;
  		  vec3 displacedBitangent = displacedNeighbour2 - newPos;
  		  return normalize(cross(displacedTangent, displacedBitangent));
  		}
  
  
      void main() {
       
				vec3 f_newPosition = displace(position);
        lamina_finalNormal = recalcNormals(f_newPosition);

        return f_newPosition;
      }
    `;class k extends b{constructor(e){super(k,{name:"Normal",...e})}}k.u_alpha=1,k.u_direction=new r.Vector3(1,1,1),k.vertexShader=`   
  varying vec3 v_normals; 

  void main() {
    v_normals = normal;
  }
`,k.fragmentShader=`   
  	uniform float u_alpha;
  	uniform vec3 u_color;
  	uniform vec3 u_direction;

		varying vec3 v_normals;

    void main() {
			vec3 f_normalColor = vec3(1.);
      f_normalColor.x = v_normals.x * u_direction.x;
      f_normalColor.y = v_normals.y * u_direction.y;
      f_normalColor.z = v_normals.z * u_direction.z;

      return vec4(f_normalColor, u_alpha);
    }
  `},9714:function(e,t,n){"use strict";let r,i,o,a;n.d(t,{M4:function(){return lC}});var l=n(3935),s=n(7294),u=n.t(s,2);function c(...e){return t=>e.forEach(e=>{var n;"function"==typeof(n=e)?n(t):null!=n&&(n.current=t)})}function f(...e){return s.useCallback(c(...e),e)}var d=n(7462);let p=s.forwardRef((e,t)=>{let{children:n,...r}=e;return s.Children.toArray(n).some(g)?s.createElement(s.Fragment,null,s.Children.map(n,e=>g(e)?s.createElement(h,(0,d.Z)({},r,{ref:t}),e.props.children):e)):s.createElement(h,(0,d.Z)({},r,{ref:t}),n)});p.displayName="Slot";let h=s.forwardRef((e,t)=>{let{children:n,...r}=e;return s.isValidElement(n)?s.cloneElement(n,{...function(e,t){let n={...t};for(let r in t){let i=e[r],o=t[r];/^on[A-Z]/.test(r)?n[r]=(...e)=>{null==o||o(...e),null==i||i(...e)}:"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props),ref:c(t,n.ref)}):s.Children.count(n)>1?s.Children.only(null):null});h.displayName="SlotClone";let m=({children:e})=>s.createElement(s.Fragment,null,e);function g(e){return s.isValidElement(e)&&e.type===m}let y=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>({...e,[t]:s.forwardRef((e,n)=>{let{asChild:r,...i}=e,o=r?p:t;return s.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),s.createElement(o,(0,d.Z)({},i,{ref:n}))})}),{}),b=Boolean(null==globalThis?void 0:globalThis.document)?s.useLayoutEffect:()=>{},x=s.forwardRef((e,t)=>{var n,r;let{containerRef:i,style:o,...a}=e,u=null!==(n=null==i?void 0:i.current)&&void 0!==n?n:null==globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body,[,c]=s.useState({});return b(()=>{c({})},[]),u?l.createPortal(s.createElement(y.div,(0,d.Z)({"data-radix-portal":""},a,{ref:t,style:u===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...o}:void 0})),u):null});var _=Object.prototype.hasOwnProperty;function w(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&w(e[r],t[r]););return -1===r}if(!n||"object"==typeof e){for(n in r=0,e)if(_.call(e,n)&&++r&&!_.call(t,n)||!(n in t)||!w(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!=e&&t!=t}function S(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}var E=function(e,t,n,r){this.name=e,this.fn=t,this.args=n,this.modifiers=r};function C(e,t){return void 0===t&&(t="simple"),"object"==typeof e?e[t]:e}function P(e,t,n){if(!e.length)return C(t);var r=e.shift(),i=P(e,t,n);return r.perform(i,n)}E.prototype._test=function(e){var t=this.fn;try{P(this.modifiers.slice(),t,this)(e)}catch(n){t=function(){return!1}}try{return P(this.modifiers.slice(),t,this)(e)}catch(r){return!1}},E.prototype._check=function(e){try{P(this.modifiers.slice(),this.fn,this)(e)}catch(t){if(P(this.modifiers.slice(),function(e){return e},this)(!1))return}if(!P(this.modifiers.slice(),this.fn,this)(e))throw null},E.prototype._testAsync=function(e){var t=this;return new Promise(function(n,r){(function e(t,n,r){if(!t.length)return function(e){return Promise.resolve(C(n,"async")(e))};var i=t.shift(),o=e(t,n,r);return i.performAsync(o,r)})(t.modifiers.slice(),t.fn,t)(e).then(function(t){t?n(e):r(null)}).catch(function(e){return r(e)})})};var z=function(e,t,n){this.name=e,this.perform=t,this.performAsync=n},k=function(e){function t(n,r,i,o){for(var a=[],l=arguments.length-4;l-- >0;)a[l]=arguments[l+4];e.call(this,a),e.captureStackTrace&&e.captureStackTrace(this,t),this.rule=n,this.value=r,this.cause=i,this.target=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),O=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]),this.chain=e,this.nextRuleModifiers=t};O.prototype._applyRule=function(e,t){var n=this;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return n.chain.push(new E(t,e.apply(n,r),r,n.nextRuleModifiers)),n.nextRuleModifiers=[],n}},O.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new z(t,e.simple,e.async)),this},O.prototype._clone=function(){return new O(this.chain.slice(),this.nextRuleModifiers.slice())},O.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})},O.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(n){try{n._check(e)}catch(r){t.push(new k(n,e,r))}}),t},O.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(n){throw new k(t,e,n)}})},O.prototype.testAsync=function(e){var t=this;return new Promise(function(n,r){(function e(t,n,r,i){if(n.length){var o=n.shift();o._testAsync(t).then(function(){e(t,n,r,i)},function(e){i(new k(o,t,e))})}else r(t)})(e,t.chain.slice(),n,r)})};var M=function(e,t){return!!t&&"string"==typeof e&&0===e.trim().length||null==e};function T(){return"undefined"!=typeof Proxy?function e(t){return new Proxy(t,{get:function(n,r){if(r in n)return n[r];var i=e(t._clone());return r in R?i._applyModifier(R[r],r):r in j?i._applyRule(j[r],r):r in $?i._applyRule($[r],r):void 0}})}(new O):function e(t){var n=function(t,n){return Object.keys(t).forEach(function(r){n[r]=function(){for(var i=[],o=arguments.length;o--;)i[o]=arguments[o];return e(n._clone())._applyRule(t[r],r).apply(void 0,i)}}),n},r=n($,t),i=n(j,r);return Object.keys(R).forEach(function(t){Object.defineProperty(i,t,{get:function(){return e(i._clone())._applyModifier(R[t],t)}})}),i}(new O)}var j={};T.extend=function(e){Object.assign(j,e)},T.clearCustomRules=function(){j={}};var R={not:{simple:function(e){return function(t){return!e(t)}},async:function(e){return function(t){return Promise.resolve(e(t)).then(function(e){return!e}).catch(function(){return!0})}}},some:{simple:function(e){return function(t){return A(t).some(function(t){try{return e(t)}catch(n){return!1}})}},async:function(e){return function(t){return Promise.all(A(t).map(function(t){try{return e(t).catch(function(){return!1})}catch(n){return!1}})).then(function(e){return e.some(Boolean)})}}},every:{simple:function(e){return function(t){return!1!==t&&A(t).every(e)}},async:function(e){return function(t){return Promise.all(A(t).map(e)).then(function(e){return e.every(Boolean)})}}},strict:{simple:function(e,t){return function(n){return I(t)&&n&&"object"==typeof n?Object.keys(t.args[0]).length===Object.keys(n).length&&e(n):e(n)}},async:function(e,t){return function(n){return Promise.resolve(e(n)).then(function(e){return I(t)&&n&&"object"==typeof n?Object.keys(t.args[0]).length===Object.keys(n).length&&e:e}).catch(function(){return!1})}}}};function I(e){return e&&"schema"===e.name&&e.args.length>0&&"object"==typeof e.args[0]}function A(e){return"string"==typeof e?e.split(""):e}var $={equal:function(e){return function(t){return t==e}},exact:function(e){return function(t){return t===e}},number:function(e){return void 0===e&&(e=!0),function(t){return"number"==typeof t&&(e||isFinite(t))}},integer:function(){return function(e){return(Number.isInteger||N)(e)}},numeric:function(){return function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},string:function(){return D("string")},boolean:function(){return D("boolean")},undefined:function(){return D("undefined")},null:function(){return D("null")},array:function(){return D("array")},object:function(){return D("object")},instanceOf:function(e){return function(t){return t instanceof e}},pattern:function(e){return function(t){return e.test(t)}},lowercase:function(){return function(e){return"boolean"==typeof e||e===e.toLowerCase()&&""!==e.trim()}},uppercase:function(){return function(e){return e===e.toUpperCase()&&""!==e.trim()}},vowel:function(){return function(e){return/^[aeiou]+$/i.test(e)}},consonant:function(){return function(e){return/^(?=[^aeiou])([a-z]+)$/i.test(e)}},first:function(e){return function(t){return t[0]==e}},last:function(e){return function(t){return t[t.length-1]==e}},empty:function(){return function(e){return 0===e.length}},length:function(e,t){return function(n){return n.length>=e&&n.length<=(t||e)}},minLength:function(e){return function(t){return t.length>=e}},maxLength:function(e){return function(t){return t.length<=e}},negative:function(){return function(e){return e<0}},positive:function(){return function(e){return e>=0}},between:function(e,t){return function(n){return n>=e&&n<=t}},range:function(e,t){return function(n){return n>=e&&n<=t}},lessThan:function(e){return function(t){return t<e}},lessThanOrEqual:function(e){return function(t){return t<=e}},greaterThan:function(e){return function(t){return t>e}},greaterThanOrEqual:function(e){return function(t){return t>=e}},even:function(){return function(e){return e%2==0}},odd:function(){return function(e){return e%2!=0}},includes:function(e){return function(t){return~t.indexOf(e)}},schema:function(e){return{simple:function(t){var n=[];if(Object.keys(e).forEach(function(r){var i=e[r];try{i.check((t||{})[r])}catch(o){o.target=r,n.push(o)}}),n.length>0)throw n;return!0},async:function(t){var n=[];return Promise.all(Object.keys(e).map(function(r){return e[r].testAsync((t||{})[r]).catch(function(e){e.target=r,n.push(e)})})).then(function(){if(n.length>0)throw n;return!0})}}},passesAnyOf:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t){return e.some(function(e){return e.test(t)})}},optional:function(e,t){return void 0===t&&(t=!1),{simple:function(n){return M(n,t)||void 0===e.check(n)},async:function(n){return M(n,t)||e.testAsync(n)}}}};function D(e){return function(t){return Array.isArray(t)&&"array"===e||null===t&&"null"===e||typeof t===e}}function N(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}var L="colors",B="sizes",F="space",U={gap:F,gridGap:F,columnGap:F,gridColumnGap:F,rowGap:F,gridRowGap:F,inset:F,insetBlock:F,insetBlockEnd:F,insetBlockStart:F,insetInline:F,insetInlineEnd:F,insetInlineStart:F,margin:F,marginTop:F,marginRight:F,marginBottom:F,marginLeft:F,marginBlock:F,marginBlockEnd:F,marginBlockStart:F,marginInline:F,marginInlineEnd:F,marginInlineStart:F,padding:F,paddingTop:F,paddingRight:F,paddingBottom:F,paddingLeft:F,paddingBlock:F,paddingBlockEnd:F,paddingBlockStart:F,paddingInline:F,paddingInlineEnd:F,paddingInlineStart:F,top:F,right:F,bottom:F,left:F,scrollMargin:F,scrollMarginTop:F,scrollMarginRight:F,scrollMarginBottom:F,scrollMarginLeft:F,scrollMarginX:F,scrollMarginY:F,scrollMarginBlock:F,scrollMarginBlockEnd:F,scrollMarginBlockStart:F,scrollMarginInline:F,scrollMarginInlineEnd:F,scrollMarginInlineStart:F,scrollPadding:F,scrollPaddingTop:F,scrollPaddingRight:F,scrollPaddingBottom:F,scrollPaddingLeft:F,scrollPaddingX:F,scrollPaddingY:F,scrollPaddingBlock:F,scrollPaddingBlockEnd:F,scrollPaddingBlockStart:F,scrollPaddingInline:F,scrollPaddingInlineEnd:F,scrollPaddingInlineStart:F,fontSize:"fontSizes",background:L,backgroundColor:L,backgroundImage:L,borderImage:L,border:L,borderBlock:L,borderBlockEnd:L,borderBlockStart:L,borderBottom:L,borderBottomColor:L,borderColor:L,borderInline:L,borderInlineEnd:L,borderInlineStart:L,borderLeft:L,borderLeftColor:L,borderRight:L,borderRightColor:L,borderTop:L,borderTopColor:L,caretColor:L,color:L,columnRuleColor:L,fill:L,outline:L,outlineColor:L,stroke:L,textDecorationColor:L,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:B,minBlockSize:B,maxBlockSize:B,inlineSize:B,minInlineSize:B,maxInlineSize:B,width:B,minWidth:B,maxWidth:B,height:B,minHeight:B,maxHeight:B,flexBasis:B,gridTemplateColumns:B,gridTemplateRows:B,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},H=(e,t)=>"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t,V=()=>{let e=Object.create(null);return(t,n,...r)=>{let i=JSON.stringify(t,H);return i in e?e[i]:e[i]=n(t,...r)}},W=Symbol.for("sxs.internal"),K=(e,t)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)),G=e=>{for(let t in e)return!0;return!1},{hasOwnProperty:q}=Object.prototype,Y=e=>e.includes("-")?e:e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Q=/\s+(?![^()]*\))/,Z=e=>t=>e(..."string"==typeof t?String(t).split(Q):[t]),X={appearance:e=>({WebkitAppearance:e,appearance:e}),backfaceVisibility:e=>({WebkitBackfaceVisibility:e,backfaceVisibility:e}),backdropFilter:e=>({WebkitBackdropFilter:e,backdropFilter:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e}),boxDecorationBreak:e=>({WebkitBoxDecorationBreak:e,boxDecorationBreak:e}),clipPath:e=>({WebkitClipPath:e,clipPath:e}),content:e=>({content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:`"${e}"`}),hyphens:e=>({WebkitHyphens:e,hyphens:e}),maskImage:e=>({WebkitMaskImage:e,maskImage:e}),maskSize:e=>({WebkitMaskSize:e,maskSize:e}),tabSize:e=>({MozTabSize:e,tabSize:e}),textSizeAdjust:e=>({WebkitTextSizeAdjust:e,textSizeAdjust:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),marginBlock:Z((e,t)=>({marginBlockStart:e,marginBlockEnd:t||e})),marginInline:Z((e,t)=>({marginInlineStart:e,marginInlineEnd:t||e})),maxSize:Z((e,t)=>({maxBlockSize:e,maxInlineSize:t||e})),minSize:Z((e,t)=>({minBlockSize:e,minInlineSize:t||e})),paddingBlock:Z((e,t)=>({paddingBlockStart:e,paddingBlockEnd:t||e})),paddingInline:Z((e,t)=>({paddingInlineStart:e,paddingInlineEnd:t||e}))},J=/([\d.]+)([^]*)/,ee=(e,t)=>e.length?e.reduce((e,n)=>(e.push(...t.map(e=>e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(e)?`:is(${n})`:n):n+" "+e)),e),[]):t,et=(e,t)=>e in en&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,n,r,i)=>n+("stretch"===r?`-moz-available${i};${Y(e)}:${n}-webkit-fill-available`:`-moz-fit-content${i};${Y(e)}:${n}fit-content`)+i):String(t),en={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},er=e=>e?e+"-":"",ei=(e,t,n)=>e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(e,r,i,o,a)=>"$"==o==!!i?e:(r||"--"==o?"calc(":"")+"var(--"+("$"===o?er(t)+(a.includes("$")?"":er(n))+a.replace(/\$/g,"-"):a)+")"+(r||"--"==o?"*"+(r||"")+(i||"1")+")":"")),eo=/\s*,\s*(?![^()]*\))/,ea=Object.prototype.toString,el=(e,t,n,r,i)=>{let o,a,l;let s=(e,t,n)=>{let u,c;let f=e=>{var d;for(u in e){let p=64===u.charCodeAt(0),h=p&&Array.isArray(e[u])?e[u]:[e[u]];for(c of h){let m=/[A-Z]/.test(d=u)?d:d.replace(/-[^]/g,e=>e[1].toUpperCase()),g="object"==typeof c&&c&&c.toString===ea&&(!r.utils[m]||!t.length);if(m in r.utils&&!g){let y=r.utils[m];if(y!==a){a=y,f(y(c)),a=null;continue}}else if(m in X){let b=X[m];if(b!==l){l=b,f(b(c)),l=null;continue}}if(p&&(u=(u.slice(1) in r.media?"@media "+r.media[u.slice(1)]:u).replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(e,t,n,r,i,o)=>{let a=J.test(t),l=.0625*(a?-1:1),[s,u]=a?[r,t]:[t,r];return"("+("="===n[0]?"":">"===n[0]===a?"max-":"min-")+s+":"+("="!==n[0]&&1===n.length?u.replace(J,(e,t,r)=>Number(t)+l*(">"===n?1:-1)+r):u)+(i?") and ("+(">"===i[0]?"min-":"max-")+s+":"+(1===i.length?o.replace(J,(e,t,n)=>Number(t)+l*(">"===i?-1:1)+n):o):"")+")"})),g){let x=p?n.concat(u):[...n],_=p?[...t]:ee(t,u.split(eo));void 0!==o&&i(es(...o)),o=void 0,s(c,_,x)}else void 0===o&&(o=[[],t,n]),u=p||36!==u.charCodeAt(0)?u:`--${er(r.prefix)}${u.slice(1).replace(/\$/g,"-")}`,c=g?c:"number"==typeof c?c&&m in eu?String(c)+"px":String(c):ei(et(m,null==c?"":c),r.prefix,r.themeMap[m]),o[0].push(`${p?`${u} `:`${Y(u)}:`}${c}`)}}};f(e),void 0!==o&&i(es(...o)),o=void 0};s(e,t,n)},es=(e,t,n)=>`${n.map(e=>`${e}{`).join("")}${t.length?`${t.join(",")}{`:""}${e.join(";")}${t.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,eu={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},ec=e=>String.fromCharCode(e+(e>25?39:97)),ef=e=>(e=>{let t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=ec(t%52)+n;return ec(t%52)+n})(((e,t)=>{let n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e})(5381,JSON.stringify(e))>>>0),ed=["themed","global","styled","onevar","resonevar","allvar","inline"],ep=e=>{if(e.href&&!e.href.startsWith(location.origin))return!1;try{return!!e.cssRules}catch(t){return!1}},eh=e=>{let t;let n=()=>{let{cssRules:e}=t.sheet;return[].map.call(e,(n,r)=>{let{cssText:i}=n,o="";if(i.startsWith("--sxs"))return"";if(e[r-1]&&(o=e[r-1].cssText).startsWith("--sxs")){if(!n.cssRules.length)return"";for(let a in t.rules)if(t.rules[a].group===n)return`--sxs{--sxs:${[...t.rules[a].cache].join(" ")}}${i}`;return n.cssRules.length?`${o}${i}`:""}return i}).join("")},r=()=>{if(t){let{rules:i,sheet:o}=t;if(!o.deleteRule){for(;3===Object(Object(o.cssRules)[0]).type;)o.cssRules.splice(0,1);o.cssRules=[]}for(let a in i)delete i[a]}let l=Object(e).styleSheets||[];for(let s of l)if(ep(s)){for(let u=0,c=s.cssRules;c[u];++u){let f=Object(c[u]);if(1!==f.type)continue;let d=Object(c[u+1]);if(4!==d.type)continue;++u;let{cssText:p}=f;if(!p.startsWith("--sxs"))continue;let h=p.slice(14,-3).trim().split(/\s+/),m=ed[h[0]];m&&(t||(t={sheet:s,reset:r,rules:{},toString:n}),t.rules[m]={group:d,index:u,cache:new Set(h)})}if(t)break}if(!t){let g=(e,t)=>({type:t,cssRules:[],insertRule(e,t){this.cssRules.splice(t,0,g(e,{import:3,undefined:1}[(e.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===e?`@media{${[].map.call(this.cssRules,e=>e.cssText).join("")}}`:e}});t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:g("","text/css"),rules:{},reset:r,toString:n}}let{sheet:y,rules:b}=t;for(let x=ed.length-1;x>=0;--x){let _=ed[x];if(!b[_]){let w=ed[x+1],S=b[w]?b[w].index:y.cssRules.length;y.insertRule("@media{}",S),y.insertRule(`--sxs{--sxs:${x}}`,S),b[_]={group:y.cssRules[S+1],index:S,cache:new Set([x])}}em(b[_])}};return r(),t},em=e=>{let t=e.group,n=t.cssRules.length;e.apply=e=>{try{t.insertRule(e,n),++n}catch(r){}}},ev=Symbol(),eg=V(),ey=(e,t)=>eg(e,()=>(...n)=>{let r={type:null,composers:new Set};for(let i of n)if(null!=i){if(i[W])for(let o of(null==r.type&&(r.type=i[W].type),i[W].composers))r.composers.add(o);else i.constructor!==Object||i.$$typeof?null==r.type&&(r.type=i):r.composers.add(eb(i,e))}return null==r.type&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),ex(e,r,t)}),eb=({variants:e,compoundVariants:t,defaultVariants:n,...r},i)=>{var o;let a=`${er(i.prefix)}c-${ef(r)}`,l=[],s=[],u=Object.create(null),c=[];for(let f in n)u[f]=String(n[f]);if("object"==typeof e&&e)for(let d in e){o=d,q.call(u,o)||(u[d]="undefined");let p=e[d];for(let h in p){let m={[d]:String(h)};"undefined"===String(h)&&c.push(d);let g=p[h],y=[m,g,!G(g)];l.push(y)}}if("object"==typeof t&&t)for(let b of t){let{css:x,..._}=b;for(let w in x="object"==typeof x&&x||{},_)_[w]=String(_[w]);let S=[_,x,!G(x)];s.push(S)}return[a,r,l,s,u,c]},ex=(e,t,n)=>{let[r,i,o,a]=e_(t.composers),l="function"==typeof t.type||t.type.$$typeof?(e=>{function t(){for(let n=0;n<t[ev].length;n++){let[r,i]=t[ev][n];e.rules[r].apply(i)}return t[ev]=[],null}return t[ev]=[],t.rules={},ed.forEach(e=>t.rules[e]={apply:n=>t[ev].push([e,n])}),t})(n):null,s=(l||n).rules,u=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,c=c=>{c="object"==typeof c&&c||eS;let{css:f,...d}=c,p={};for(let h in o)if(delete d[h],h in c){let m=c[h];"object"==typeof m&&m?p[h]={"@initial":o[h],...m}:(m=String(m),p[h]="undefined"!==m||a.has(h)?m:o[h])}else p[h]=o[h];let g=new Set([...i]);for(let[y,b,x,_]of t.composers){n.rules.styled.cache.has(y)||(n.rules.styled.cache.add(y),el(b,[`.${y}`],[],e,e=>{s.styled.apply(e)}));let w=ew(x,p,e.media),S=ew(_,p,e.media,!0);for(let E of w)if(void 0!==E)for(let[C,P,z]of E){let k=`${y}-${ef(P)}-${C}`;g.add(k);let O=(z?n.rules.resonevar:n.rules.onevar).cache,M=z?s.resonevar:s.onevar;O.has(k)||(O.add(k),el(P,[`.${k}`],[],e,e=>{M.apply(e)}))}for(let T of S)if(void 0!==T)for(let[j,R]of T){let I=`${y}-${ef(R)}-${j}`;g.add(I),n.rules.allvar.cache.has(I)||(n.rules.allvar.cache.add(I),el(R,[`.${I}`],[],e,e=>{s.allvar.apply(e)}))}}if("object"==typeof f&&f){let A=`${r}-i${ef(f)}-css`;g.add(A),n.rules.inline.cache.has(A)||(n.rules.inline.cache.add(A),el(f,[`.${A}`],[],e,e=>{s.inline.apply(e)}))}for(let $ of String(c.className||"").trim().split(/\s+/))$&&g.add($);let D=d.className=[...g].join(" ");return{type:t.type,className:D,selector:u,props:d,toString:()=>D,deferredInjector:l}};return K(c,{className:r,selector:u,[W]:t,toString:()=>(n.rules.styled.cache.has(r)||c(),r)})},e_=e=>{let t="",n=[],r={},i=[];for(let[o,,,,a,l]of e)for(let s in""===t&&(t=o),n.push(o),i.push(...l),a){let u=a[s];(void 0===r[s]||"undefined"!==u||l.includes(u))&&(r[s]=u)}return[t,n,r,new Set(i)]},ew=(e,t,n,r)=>{let i=[];e:for(let[o,a,l]of e){if(l)continue;let s,u=0,c=!1;for(s in o){let f=o[s],d=t[s];if(d!==f){if("object"!=typeof d||!d)continue e;{let p,h,m=0;for(let g in d){if(f===String(d[g])){if("@initial"!==g){let y=g.slice(1);(h=h||[]).push(y in n?n[y]:g.replace(/^@media ?/,"")),c=!0}u+=m,p=!0}++m}if(h&&h.length&&(a={["@media "+h.join(", ")]:a}),!p)continue e}}}(i[u]=i[u]||[]).push([r?"cv":`${s}-${o[s]}`,a,c])}return i},eS={},eE=V(),eC=(e,t)=>eE(e,()=>(...n)=>{let r=()=>{for(let r of n){let i=ef(r="object"==typeof r&&r||{});if(!t.rules.global.cache.has(i)){if(t.rules.global.cache.add(i),"@import"in r){let o=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1;for(let a of[].concat(r["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,t.sheet.insertRule(`@import ${a};`,o++);delete r["@import"]}el(r,[],[],e,e=>{t.rules.global.apply(e)})}}return""};return K(r,{toString:r})}),eP=V(),ez=(e,t)=>eP(e,()=>n=>{let r=`${er(e.prefix)}k-${ef(n)}`,i=()=>{if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);let i=[];el(n,[],[],e,e=>i.push(e));let o=`@keyframes ${r}{${i.join("")}}`;t.rules.global.apply(o)}return r};return K(i,{get name(){return i()},toString:i})}),ek=class{constructor(e,t,n,r){this.token=null==e?"":String(e),this.value=null==t?"":String(t),this.scale=null==n?"":String(n),this.prefix=null==r?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+er(this.prefix)+er(this.scale)+this.token}toString(){return this.computedValue}},eO=V(),eM=(e,t)=>eO(e,()=>(n,r)=>{r="object"==typeof n&&n||Object(r);let i=`.${n=(n="string"==typeof n?n:"")||`${er(e.prefix)}t-${ef(r)}`}`,o={},a=[];for(let l in r)for(let s in o[l]={},r[l]){let u=`--${er(e.prefix)}${l}-${s}`,c=ei(String(r[l][s]),e.prefix,l);o[l][s]=new ek(s,c,l,e.prefix),a.push(`${u}:${c}`)}let f=()=>{if(a.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);let i=`${r===e.theme?":root,":""}.${n}{${a.join(";")}}`;t.rules.themed.apply(i)}return n};return{...o,get className(){return f()},selector:i,toString:f}}),eT=V(),ej=V();let eR={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function eI(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function eA(e,t,n,r=.15){return 0===r?Math.max(t,Math.min(e,n)):e<t?-eI(t-e,n-t,r)+t:e>n?+eI(e-n,n-t,r)+n:e}function e$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(n),!0).forEach(function(t){e$(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let eL={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function eB(e){return e?e[0].toUpperCase()+e.slice(1):""}let eF=["enter","leave"],eU=["gotpointercapture","lostpointercapture"];function eH(e){return"touches"in e}function eV(e){return eH(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function eW(e){return eH(e)?("touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches)[0]:e}function eK(e){let t=eW(e);return eH(e)?t.identifier:t.pointerId}function eG(e){let t=eW(e);return[t.clientX,t.clientY]}function eq(e,...t){return"function"==typeof e?e(...t):e}function eY(){}function eQ(e,t){return Object.assign({},t,e||{})}class eZ{constructor(e,t,n){this.ctrl=e,this.args=t,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){let{state:e,shared:t,ingKey:n,args:r}=this;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){let t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?eq(n.from,t):t.offset,t.offset=t.lastOffset),t.startTime=t.timeStamp=e.timeStamp}computeValues(e){let t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){let e=this.state;e._initial=e._values,e.initial=e.values}compute(e){let{state:t,config:n,shared:r}=this;t.args=this.args;let i=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(e){let t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){let{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o})}return t}(e)),r.down=r.pressed=r.buttons%2==1||r.touches>0,i=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){let o=t._delta.map(Math.abs);eR.addTo(t._distance,o)}this.axisIntent&&this.axisIntent(e);let[a,l]=t._movement,[s,u]=n.threshold,{_step:c,values:f}=t;if(n.hasCustomTransform?(!1===c[0]&&(c[0]=Math.abs(a)>=s&&f[0]),!1===c[1]&&(c[1]=Math.abs(l)>=u&&f[1])):(!1===c[0]&&(c[0]=Math.abs(a)>=s&&Math.sign(a)*s),!1===c[1]&&(c[1]=Math.abs(l)>=u&&Math.sign(l)*u)),t.intentional=!1!==c[0]||!1!==c[1],!t.intentional)return;let d=[0,0];if(n.hasCustomTransform){let[p,h]=f;d[0]=!1!==c[0]?p-c[0]:0,d[1]=!1!==c[1]?h-c[1]:0}else d[0]=!1!==c[0]?a-c[0]:0,d[1]=!1!==c[1]?l-c[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);let m=t.offset,g=t._active&&!t._blocked||t.active;g&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=eq(n.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));let[y,b]=t.offset,[[x,_],[w,S]]=t._bounds;t.overflow=[y<x?-1:y>_?1:0,b<w?-1:b>S?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);let E=t._active&&n.rubberband||[0,0];if(t.offset=function(e,[t,n],[r,i]){let[[o,a],[l,s]]=e;return[eA(t,o,a,r),eA(n,l,s,i)]}(t._bounds,t.offset,E),t.delta=eR.sub(t.offset,m),this.computeMovement(),g&&(!t.last||i>32)){t.delta=eR.sub(t.offset,m);let C=t.delta.map(Math.abs);eR.addTo(t.distance,C),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&i>0&&(t.velocity=[C[0]/i,C[1]/i])}}emit(){let e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!n.triggerAllEvents)return;let r=this.handler(eN(eN(eN({},t),e),{},{[this.aliasKey]:e.values}));void 0!==r&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class eX extends eZ{constructor(...e){super(...e),e$(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=eR.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=eR.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){let t=this.state,n=this.config;if(!t.axis&&e){let r="object"==typeof n.axisThreshold?n.axisThreshold[eV(e)]:n.axisThreshold;t.axis=function([e,t],n){let r=Math.abs(e),i=Math.abs(t);return r>i&&r>n?"x":i>r&&i>n?"y":void 0}(t._movement,r)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}let eJ=e=>e,e0={enabled:(e=!0)=>e,eventOptions:(e,t,n)=>eN(eN({},n.shared.eventOptions),e),preventDefault:(e=!1)=>e,triggerAllEvents:(e=!1)=>e,rubberband(e=0){switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return eR.toVector(e)}},from:e=>"function"==typeof e?e:null!=e?eR.toVector(e):void 0,transform(e,t,n){let r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||eJ},threshold:e=>eR.toVector(e,0)},e1=eN(eN({},e0),{},{axis(e,t,{axis:n}){if(this.lockDirection="lock"===n,!this.lockDirection)return n},axisThreshold:(e=0)=>e,bounds(e={}){if("function"==typeof e)return t=>e1.bounds(e(t));if("current"in e)return()=>e.current;if("function"==typeof HTMLElement&&e instanceof HTMLElement)return e;let{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=e;return[[t,n],[r,i]]}}),e2={ArrowRight:(e=1)=>[10*e,0],ArrowLeft:(e=1)=>[-10*e,0],ArrowUp:(e=1)=>[0,-10*e],ArrowDown:(e=1)=>[0,10*e]},e3="undefined"!=typeof window&&window.document&&window.document.createElement;function e4(){return e3&&"ontouchstart"in window||e3&&window.navigator.maxTouchPoints>1}let e5={isBrowser:e3,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:e4(),touchscreen:e4(),pointer:e3&&"onpointerdown"in window,pointerLock:e3&&"exitPointerLock"in window.document},e6={mouse:0,touch:0,pen:8},e8=eN(eN({},e1),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return(this.pointerLock=r&&e5.pointerLock,e5.touch&&n)?"touch":this.pointerLock?"mouse":e5.pointer&&!i?"pointer":e5.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay="number"==typeof n?n:n||void 0===n&&e?250:void 0,e5.touchscreen&&!1!==n)return e||(void 0!==n?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&"pointer"===this.device&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:i}){let o=eR.toVector(e,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,o},swipe({velocity:e=.5,distance:t=50,duration:n=250}={}){return{velocity:this.transform(eR.toVector(e)),distance:this.transform(eR.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:e=>e?eN(eN({},e6),e):e6});eN(eN({},e0),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!e5.touch&&e5.gesture)return"gesture";if(e5.touch&&r)return"touch";if(e5.touchscreen){if(e5.pointer)return"pointer";if(e5.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){let i=e=>{let t=eQ(eq(n,e),{min:-1/0,max:1/0});return[t.min,t.max]},o=e=>{let t=eQ(eq(r,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!=typeof n&&"function"!=typeof r?[i(),o()]:e=>[i(e),o(e)]},threshold(e,t,n){this.lockDirection="lock"===n.axis;let r=eR.toVector(e,this.lockDirection?[.1,3]:0);return r},modifierKey:e=>void 0===e?"ctrlKey":e,pinchOnWheel:(e=!0)=>e}),eN(eN({},e1),{},{mouseOnly:(e=!0)=>e}),eN(eN({},e1),{},{mouseOnly:(e=!0)=>e});let e9=new Map,e7=new Map,te={key:"drag",engine:class extends eX{constructor(...e){super(...e),e$(this,"ingKey","dragging")}reset(){super.reset();let e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){let e=this.state;if(e._bounds instanceof HTMLElement){let t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),r={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=e1.bounds(r)}}cancel(){let e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){let t=this.config,n=this.state;if(null!=e.buttons&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):-1!==t.pointerButtons&&t.pointerButtons!==e.buttons))return;let r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),r&&r.size>1&&n._pointerActive||(this.start(e),this.setupPointer(e),n._pointerId=eK(e),n._pointerActive=!0,this.computeValues(eG(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==eV(e)?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){let t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){let t=this.state,n=this.config;if(!t._pointerActive||t.type===e.type&&e.timeStamp===t.timeStamp)return;let r=eK(e);if(void 0!==t._pointerId&&r!==t._pointerId)return;let i=eG(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=eR.sub(i,t._values),this.computeValues(i)),eR.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(n.preventScrollAxis&&!t._preventScroll){if(!t.axis)return;if(t.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis){t._active=!1,this.clean();return}this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(t){}let n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;let i=eK(e);if(void 0!==n._pointerId&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);let[o,a]=n._distance;if(n.tap=o<=r.tapsThreshold&&a<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{let[l,s]=n.direction,[u,c]=n.velocity,[f,d]=n.movement,[p,h]=r.swipe.velocity,[m,g]=r.swipe.distance,y=r.swipe.duration;n.elapsedTime<y&&(Math.abs(u)>p&&Math.abs(f)>m&&(n.swipe[0]=l),Math.abs(c)>h&&Math.abs(d)>g&&(n.swipe[1]=s))}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){let t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,"persist"in e&&"function"==typeof e.persist&&e.persist();let t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){let t=e2[e.key];if(t){let n=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=t(r),n._keyboardActive=!0,eR.addTo(n._movement,n._delta),this.compute(e),this.emit()}}keyUp(e){e.key in e2&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){let t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}},resolver:e8},tt={target(e){if(e)return()=>"current"in e?e.current:e},enabled:(e=!0)=>e,window:(e=e5.isBrowser?window:void 0)=>e,eventOptions:({passive:e=!0,capture:t=!1}={})=>({passive:e,capture:t}),transform:e=>e},tn=["target","eventOptions","window","enabled","transform"];function tr(e={},t){let n={};for(let[r,i]of Object.entries(t))switch(typeof i){case"function":n[r]=i.call(n,e[r],r,e);break;case"object":n[r]=tr(e[r],i);break;case"boolean":i&&(n[r]=e[r])}return n}class ti{constructor(e,t){e$(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,n,r,i){let o=this._listeners,a=function(e,t=""){let n=eL[e],r=n&&n[t]||t;return e+r}(t,n),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},s=eN(eN({},l),i);e.addEventListener(a,r,s);let u=()=>{e.removeEventListener(a,r,s),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class to{constructor(){e$(this,"_timeouts",new Map)}add(e,t,n=140,...r){this.remove(e),this._timeouts.set(e,window.setTimeout(t,n,...r))}remove(e){let t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class ta{constructor(e){e$(this,"gestures",new Set),e$(this,"_targetEventStore",new ti(this)),e$(this,"gestureEventStores",{}),e$(this,"gestureTimeoutStores",{}),e$(this,"handlers",{}),e$(this,"config",{}),e$(this,"pointerIds",new Set),e$(this,"touchIds",new Set),e$(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),e.drag&&tl(this,"drag"),e.wheel&&tl(this,"wheel"),e.scroll&&tl(this,"scroll"),e.move&&tl(this,"move"),e.pinch&&tl(this,"pinch"),e.hover&&tl(this,"hover")}setEventIds(e){return eH(e)?(this.touchIds=new Set(Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n?void 0:null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))}).map(e=>e.identifier)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(e,t,n={}){let{target:r,eventOptions:i,window:o,enabled:a,transform:l}=e,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tn);if(n.shared=tr({target:r,eventOptions:i,window:o,enabled:a,transform:l},tt),t){let u=e7.get(t);n[t]=tr(eN({shared:n.shared},s),u)}else for(let c in s){let f=e7.get(c);f&&(n[c]=tr(eN({shared:n.shared},s[c]),f))}return n}(e,t,this.config)}clean(){for(let e of(this._targetEventStore.clean(),this.gestures))this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){let t;let n=this.config.shared,r={};if(!n.target||(t=n.target())){if(n.enabled){for(let i of this.gestures){let o=this.config[i],a=ts(r,o.eventOptions,!!t);if(o.enabled){let l=e9.get(i);new l(this,e,i).bind(a)}}let s=ts(r,n.eventOptions,!!t);for(let u in this.nativeHandlers)s(u,"",t=>this.nativeHandlers[u](eN(eN({},this.state.shared),{},{event:t,args:e})),void 0,!0)}for(let c in r)r[c]=function(...e){return 0===e.length?eY:1===e.length?e[0]:function(){let t;for(let n of e)t=n.apply(this,arguments)||t;return t}}(...r[c]);if(!t)return r;for(let f in r){let{device:d,capture:p,passive:h}=function(e){let t=e.substring(2).toLowerCase(),n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));let r=eU.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}(f);this._targetEventStore.add(t,d,"",r[f],{capture:p,passive:h})}}}}function tl(e,t){e.gestures.add(t),e.gestureEventStores[t]=new ti(e,t),e.gestureTimeoutStores[t]=new to}let ts=(e,t,n)=>(r,i,o,a={},l=!1)=>{var s,u;let c=null!==(s=a.capture)&&void 0!==s?s:t.capture,f=null!==(u=a.passive)&&void 0!==u?u:t.passive,d=l?r:function(e,t="",n=!1){let r=eL[e],i=r&&r[t]||t;return"on"+eB(e)+eB(i)+(!function(e=!1,t){return e&&!eF.includes(t)}(n,i)?"":"Capture")}(r,i,c);n&&f&&(d+="Passive"),e[d]=e[d]||[],e[d].push(o)},tu=u["useId".toString()]||(()=>{}),tc=0,tf=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((e,t)=>({...e,[t]:s.forwardRef((e,n)=>{let{asChild:r,...i}=e,o=r?p:t;return s.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),e.as&&console.error(td),s.createElement(o,(0,d.Z)({},i,{ref:n}))})}),{}),td="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",tp=s.forwardRef((e,t)=>s.createElement(tf.span,(0,d.Z)({},e,{ref:t,style:{...e.style,position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}}))),th=s.forwardRef((e,t)=>{var n,r;let{containerRef:i,style:o,...a}=e,u=null!==(n=null==i?void 0:i.current)&&void 0!==n?n:null==globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body,[,c]=s.useState({});return b(()=>{c({})},[]),u?l.createPortal(s.createElement(tf.div,(0,d.Z)({"data-radix-portal":""},a,{ref:t,style:u===document.body?{position:"absolute",top:0,left:0,zIndex:2147483647,...o}:void 0})),u):null}),tm=s.forwardRef((e,t)=>{let{children:n,width:r=10,height:i=5,...o}=e;return s.createElement(tf.svg,(0,d.Z)({},o,{ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?n:s.createElement("polygon",{points:"0,0 30,0 15,10"}))});function tv(e){let[t,n]=s.useState(void 0);return s.useEffect(()=>{if(e){let t=new ResizeObserver(t=>{let r,i;if(!Array.isArray(t)||!t.length)return;let o=t[0];if("borderBoxSize"in o){let a=o.borderBoxSize,l=Array.isArray(a)?a[0]:a;r=l.inlineSize,i=l.blockSize}else{let s=e.getBoundingClientRect();r=s.width,i=s.height}n({width:r,height:i})});return t.observe(e,{box:"border-box"}),()=>{n(void 0),t.unobserve(e)}}},[e]),t}let tg=new Map;function ty(){let e=[];tg.forEach((t,n)=>{var r;let i=n.getBoundingClientRect();((r=t.rect).width!==i.width||r.height!==i.height||r.top!==i.top||r.right!==i.right||r.bottom!==i.bottom||r.left!==i.left)&&(t.rect=i,e.push(t))}),e.forEach(e=>{e.callbacks.forEach(t=>t(e.rect))}),r=requestAnimationFrame(ty)}function tb(e){let[t,n]=s.useState();return s.useEffect(()=>{if(e){let t=function(e,t){let n=tg.get(e);return void 0===n?(tg.set(e,{rect:{},callbacks:[t]}),1===tg.size&&(r=requestAnimationFrame(ty))):(n.callbacks.push(t),t(e.getBoundingClientRect())),()=>{let n=tg.get(e);if(void 0===n)return;let i=n.callbacks.indexOf(t);i>-1&&n.callbacks.splice(i,1),0===n.callbacks.length&&(tg.delete(e),0===tg.size&&cancelAnimationFrame(r))}}(e,n);return()=>{n(void 0),t()}}},[e]),t}function tx(e,t=[]){let n=[],r=()=>{let t=n.map(e=>s.createContext(e));return function(n){let r=(null==n?void 0:n[e])||t;return s.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return r.scopeName=e,[function(t,r){let i=s.createContext(r),o=n.length;function a(t){let{scope:n,children:r,...a}=t,l=(null==n?void 0:n[e][o])||i,u=s.useMemo(()=>a,Object.values(a));return s.createElement(l.Provider,{value:u},r)}return n=[...n,r],a.displayName=t+"Provider",[a,function(n,a){let l=(null==a?void 0:a[e][o])||i,u=s.useContext(l);if(u)return u;if(void 0!==r)return r;throw Error(`\`${n}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=n.reduce((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]}),{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}(r,...t)]}function t_(e,t,n){let r=e["x"===n?"left":"top"],i="x"===n?"width":"height",o=e[i],a=t[i];return{before:r-a,start:r,center:r+(o-a)/2,end:r+o-a,after:r+o}}function tw(e){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:`translate3d(${Math.round(e.x+window.scrollX)}px, ${Math.round(e.y+window.scrollY)}px, 0)`}}function tS(e,t,n,r,i){let o=i?i.width:0,a=i?i.height:0,l=o/2+r,s="",u="";return"top"===t||"bottom"===t?(s=({start:`${l}px`,center:"center",end:e.width-l+"px"})[n],u="top"===t?`${e.height+a}px`:-a+"px"):(s="left"===t?`${e.width+a}px`:-a+"px",u=({start:`${l}px`,center:"center",end:e.height-l+"px"})[n]),`${s} ${u}`}let tE={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},tC={position:"absolute",opacity:0};function tP({popperSize:e,arrowSize:t,arrowOffset:n,side:r,align:i}){let o=(e.width-t.width)/2,a=(e.height-t.width)/2,l=Math.max(t.width,t.height),s={width:`${l}px`,height:`${l}px`,transform:`rotate(${{top:0,right:90,bottom:180,left:-90}[r]}deg)`,willChange:"transform",position:"absolute",[r]:"100%",direction:("top"!==r&&"right"!==r||"end"!==i)&&("bottom"!==r&&"left"!==r||"end"===i)?"ltr":"rtl"};return"top"!==r&&"bottom"!==r||("start"===i&&(s.left=`${n}px`),"center"===i&&(s.left=`${o}px`),"end"===i&&(s.right=`${n}px`)),"left"!==r&&"right"!==r||("start"===i&&(s.top=`${n}px`),"center"===i&&(s.top=`${a}px`),"end"===i&&(s.bottom=`${n}px`)),s}function tz(e){return({top:"bottom",right:"left",bottom:"top",left:"right"})[e]}function tk(e,t){return{top:e.top<t.top,right:e.right>t.right,bottom:e.bottom>t.bottom,left:e.left<t.left}}let[tO,tM]=tx("Popper"),[tT,tj]=tO("Popper"),tR=e=>{let{__scopePopper:t,children:n}=e,[r,i]=s.useState(null);return s.createElement(tT,{scope:t,anchor:r,onAnchorChange:i},n)},tI=s.forwardRef((e,t)=>{let{__scopePopper:n,virtualRef:r,...i}=e,o=tj("PopperAnchor",n),a=s.useRef(null),l=f(t,a);return s.useEffect(()=>{o.onAnchorChange((null==r?void 0:r.current)||a.current)}),r?null:s.createElement(tf.div,(0,d.Z)({},i,{ref:l}))}),[tA,t$]=tO("PopperContent"),tD=s.forwardRef((e,t)=>{let{__scopePopper:n,side:r="bottom",sideOffset:i,align:o="center",alignOffset:a,collisionTolerance:l,avoidCollisions:u=!0,...c}=e,p=tj("PopperContent",n),[h,m]=s.useState(),g=tb(p.anchor),[y,b]=s.useState(null),x=tv(y),[_,w]=s.useState(null),S=tv(_),E=f(t,e=>b(e)),C=function(){let[e,t]=s.useState(void 0);return s.useEffect(()=>{let e;function n(){t({width:window.innerWidth,height:window.innerHeight})}function r(){window.clearTimeout(e),e=window.setTimeout(n,100)}return n(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e}(),P=C?DOMRect.fromRect({...C,x:0,y:0}):void 0,{popperStyles:z,arrowStyles:k,placedSide:O,placedAlign:M}=function({anchorRect:e,popperSize:t,arrowSize:n,arrowOffset:r=0,side:i,sideOffset:o=0,align:a,alignOffset:l=0,shouldAvoidCollisions:s=!0,collisionBoundariesRect:u,collisionTolerance:c=0}){if(!e||!t||!u)return{popperStyles:tE,arrowStyles:tC};let f=function(e,t,n=0,r=0,i){let o=i?i.height:0,a=t_(t,e,"x"),l=t_(t,e,"y"),s=l.before-n-o,u=l.after+n+o,c=a.before-n-o,f=a.after+n+o;return{top:{start:{x:a.start+r,y:s},center:{x:a.center,y:s},end:{x:a.end-r,y:s}},right:{start:{x:f,y:l.start+r},center:{x:f,y:l.center},end:{x:f,y:l.end-r}},bottom:{start:{x:a.start+r,y:u},center:{x:a.center,y:u},end:{x:a.end-r,y:u}},left:{start:{x:c,y:l.start+r},center:{x:c,y:l.center},end:{x:c,y:l.end-r}}}}(t,e,o,l,n),d=f[i][a];if(!1===s){let p=tw(d),h=tC;return n&&(h=tP({popperSize:t,arrowSize:n,arrowOffset:r,side:i,align:a})),{popperStyles:{...p,"--radix-popper-transform-origin":tS(t,i,a,r,n)},arrowStyles:h,placedSide:i,placedAlign:a}}let m=DOMRect.fromRect({...t,...d}),g=DOMRect.fromRect({width:u.width-2*c,height:u.height-2*c,x:u.left+c,y:u.top+c}),y=tk(m,g),b=f[tz(i)][a],x=function(e,t,n){let r=tz(e);return t[e]&&!n[r]?r:e}(i,y,tk(DOMRect.fromRect({...t,...b}),g)),_=function(e,t,n,r,i){let o="top"===n||"bottom"===n,a=o?"left":"top",l=o?"right":"bottom",s=o?"width":"height",u=t[s]>e[s];return("start"===r||"center"===r)&&(i[a]&&u||i[l]&&!u)?"end":("end"===r||"center"===r)&&(i[l]&&u||i[a]&&!u)?"start":r}(t,e,i,a,y),w=tw(f[x][_]),S=tC;return n&&(S=tP({popperSize:t,arrowSize:n,arrowOffset:r,side:x,align:_})),{popperStyles:{...w,"--radix-popper-transform-origin":tS(t,x,_,r,n)},arrowStyles:S,placedSide:x,placedAlign:_}}({anchorRect:g,popperSize:x,arrowSize:S,arrowOffset:h,side:r,sideOffset:i,align:o,alignOffset:a,shouldAvoidCollisions:u,collisionBoundariesRect:P,collisionTolerance:l});return s.createElement("div",{style:z,"data-radix-popper-content-wrapper":""},s.createElement(tA,{scope:n,arrowStyles:k,onArrowChange:w,onArrowOffsetChange:m},s.createElement(tf.div,(0,d.Z)({"data-side":O,"data-align":M},c,{style:{...c.style,animation:void 0!==O?void 0:"none"},ref:E}))))}),tN=s.forwardRef(function(e,t){let{__scopePopper:n,offset:r,...i}=e,o=t$("PopperArrow",n),{onArrowOffsetChange:a}=o;return s.useEffect(()=>a(r),[a,r]),s.createElement("span",{style:{...o.arrowStyles,pointerEvents:"none"}},s.createElement("span",{ref:o.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},s.createElement(tm,(0,d.Z)({},i,{ref:t,style:{...i.style,display:"block"}}))))}),tL=e=>{let{present:t,children:n}=e,r=function(e){var t;let[n,r]=s.useState(),i=s.useRef({}),o=s.useRef(e),a=s.useRef("none"),[l,u]=(t={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},s.useReducer((e,n)=>{let r=t[e][n];return null!=r?r:e},e?"mounted":"unmounted"));return s.useEffect(()=>{let e=tB(i.current);a.current="mounted"===l?e:"none"},[l]),b(()=>{let t=i.current,n=o.current;if(n!==e){let r=a.current,l=tB(t);e?u("MOUNT"):"none"===l||"none"===(null==t?void 0:t.display)?u("UNMOUNT"):u(n&&r!==l?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,u]),b(()=>{if(n){let e=e=>{let t=tB(i.current).includes(e.animationName);e.target===n&&t&&u("ANIMATION_END")},t=e=>{e.target===n&&(a.current=tB(i.current))};return n.addEventListener("animationstart",t),n.addEventListener("animationcancel",e),n.addEventListener("animationend",e),()=>{n.removeEventListener("animationstart",t),n.removeEventListener("animationcancel",e),n.removeEventListener("animationend",e)}}},[n,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:s.useCallback(e=>{e&&(i.current=getComputedStyle(e)),r(e)},[])}}(t),i="function"==typeof n?n({present:r.isPresent}):s.Children.only(n),o=f(r.ref,i.ref);return"function"==typeof n||r.isPresent?s.cloneElement(i,{ref:o}):null};function tB(e){return(null==e?void 0:e.animationName)||"none"}function tF(e){let t=s.useRef(e);return s.useEffect(()=>{t.current=e},[e]),t.current}function tU(e){let t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)},[])}function tH(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}tL.displayName="Presence";let[tV,tW]=tx("Tooltip",[tM]),tK=tM(),[tG,tq]=tV("TooltipProvider",{isOpenDelayed:!0,delayDuration:700,onOpen(){},onClose(){}}),[tY,tQ]=tV("Tooltip"),tZ=e=>{let{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:o,delayDuration:a}=e,l=tq("Tooltip",t),u=tK(t),[c,f]=s.useState(null),d=function(e){let[t,n]=s.useState(tu());return b(()=>{e||n(e=>null!=e?e:String(tc++))},[e]),e||(t?`radix-${t}`:"")}(),p=s.useRef(0),h=null!=a?a:l.delayDuration,m=s.useRef(!1),{onOpen:g,onClose:y}=l,[x=!1,_]=function({prop:e,defaultProp:t,onChange:n=()=>{}}){let[r,i]=function({defaultProp:e,onChange:t}){let n=s.useState(e),[r]=n,i=s.useRef(r),o=tU(t);return s.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}({defaultProp:t,onChange:n}),o=void 0!==e,a=tU(n);return[o?e:r,s.useCallback(t=>{if(o){let n="function"==typeof t?t(e):t;n!==e&&a(n)}else i(t)},[o,e,i,a])]}({prop:r,defaultProp:i,onChange(e){e&&(document.dispatchEvent(new CustomEvent("tooltip.open")),g()),null==o||o(e)}}),w=s.useMemo(()=>x?m.current?"delayed-open":"instant-open":"closed",[x]),S=s.useCallback(()=>{window.clearTimeout(p.current),m.current=!1,_(!0)},[_]),E=s.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{m.current=!0,_(!0)},h)},[h,_]);return s.useEffect(()=>()=>window.clearTimeout(p.current),[]),s.createElement(tR,u,s.createElement(tY,{scope:t,contentId:d,open:x,stateAttribute:w,trigger:c,onTriggerChange:f,onTriggerEnter:s.useCallback(()=>{l.isOpenDelayed?E():S()},[l.isOpenDelayed,E,S]),onOpen:s.useCallback(S,[S]),onClose:s.useCallback(()=>{window.clearTimeout(p.current),_(!1),y()},[_,y])},n))},tX=s.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,i=tQ("TooltipTrigger",n),o=tK(n),a=f(t,i.onTriggerChange),l=s.useRef(!1),u=s.useCallback(()=>l.current=!1,[]);return s.useEffect(()=>()=>document.removeEventListener("mouseup",u),[u]),s.createElement(tI,(0,d.Z)({asChild:!0},o),s.createElement(tf.button,(0,d.Z)({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:a,onMouseEnter:tH(e.onMouseEnter,i.onTriggerEnter),onMouseLeave:tH(e.onMouseLeave,i.onClose),onMouseDown:tH(e.onMouseDown,()=>{i.onClose(),l.current=!0,document.addEventListener("mouseup",u,{once:!0})}),onFocus:tH(e.onFocus,()=>{l.current||i.onOpen()}),onBlur:tH(e.onBlur,i.onClose),onClick:tH(e.onClick,i.onClose)})))}),tJ=s.forwardRef((e,t)=>{let{forceMount:n,...r}=e,i=tQ("TooltipContent",e.__scopeTooltip);return s.createElement(tL,{present:n||i.open},s.createElement(t0,(0,d.Z)({ref:t},r)))}),t0=s.forwardRef((e,t)=>{let{__scopeTooltip:n,children:r,"aria-label":i,portalled:o=!0,...a}=e,l=tQ("TooltipContent",n),u=tK(n),c=o?th:s.Fragment,{onClose:f}=l;return function(e){let t=tU(e);s.useEffect(()=>{let e=e=>{"Escape"===e.key&&t(e)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t])}(()=>f()),s.useEffect(()=>(document.addEventListener("tooltip.open",f),()=>document.removeEventListener("tooltip.open",f)),[f]),s.createElement(c,null,s.createElement(t2,{__scopeTooltip:n}),s.createElement(tD,(0,d.Z)({"data-state":l.stateAttribute},u,a,{ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"}}),s.createElement(m,null,r),s.createElement(tp,{id:l.contentId,role:"tooltip"},i||r)))}),t1=s.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,i=tK(n);return s.createElement(tN,(0,d.Z)({},i,r,{ref:t}))});function t2(e){let{__scopeTooltip:t}=e,n=tQ("CheckTriggerMoved",t),r=tb(n.trigger),i=null==r?void 0:r.left,o=tF(i),a=null==r?void 0:r.top,l=tF(a),u=n.onClose;return s.useEffect(()=>{(void 0!==o&&o!==i||void 0!==l&&l!==a)&&u()},[u,o,l,i,a]),null}function t3(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(oe=i||(i={}))[oe.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",oe[oe.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",oe[oe.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",oe[oe.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",oe[oe.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",oe[oe.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",oe[oe.THEME_ERROR=6]="THEME_ERROR",oe[oe.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",oe[oe.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",oe[oe.EMPTY_KEY=9]="EMPTY_KEY";let t4={[i.UNSUPPORTED_INPUT]:(e,t)=>[`An input with type \`${e}\` input was found at path \`${t}\` but it's not supported yet.`],[i.NO_COMPONENT_FOR_TYPE]:(e,t)=>[`Type \`${e}\` found at path \`${t}\` can't be displayed in panel because no component supports it yet.`],[i.UNKNOWN_INPUT]:(e,t)=>[`input at path \`${e}\` is not recognized.`,t],[i.DUPLICATE_KEYS]:(e,t,n)=>[`Key \`${e}\` of path \`${t}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[i.ALREADY_REGISTERED_TYPE]:e=>[`Type ${e} has already been registered. You can't register a component with the same type.`],[i.CLIPBOARD_ERROR]:e=>["Error copying the value",e],[i.THEME_ERROR]:(e,t)=>[`Error accessing the theme \`${e}.${t}\` value.`],[i.PATH_DOESNT_EXIST]:e=>[`Error getting the value at path \`${e}\`. There is probably an error in your \`render\` function.`],[i.PATH_DOESNT_EXIST]:e=>[`Error accessing the value at path \`${e}\``],[i.INPUT_TYPE_OVERRIDE]:(e,t,n)=>[`Input at path \`${e}\` already exists with type: \`${t}\`. Its type cannot be overridden with type \`${n}\`.`],[i.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function t5(e,t,...n){let[r,...i]=t4[t](...n);console[e]("LEVA: "+r,...i)}let t6=t5.bind(null,"warn"),t8=t5.bind(null,"log"),t9=["value"],t7=["schema"],ne=["value"],nt=[],nn={};function nr(e){let{value:t}=e,n=t3(e,t9);for(let r of nt){let i=r(t,n);if(i)return i}}function ni(e,t){let{schema:n}=t,r=t3(t,t7);if(e in nn){t6(i.ALREADY_REGISTERED_TYPE,e);return}nt.push((t,r)=>n(t,r)&&e),nn[e]=r}function no(e,t,n,r){let{normalize:i}=nn[e];if(i)return i(t,n,r);if("object"!=typeof t||!("value"in t))return{value:t};let{value:o}=t,a=t3(t,ne);return{value:o,settings:a}}function na(e,t,n){let{format:r}=nn[e];return r?r(t,n):t}function nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ns(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nl(Object(n),!0).forEach(function(t){var r,i;r=e,i=n[t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let nu=(e,t,n)=>e>n?n:e<t?t:e,nc=e=>{if(""===e||"number"==typeof e)return e;try{let t=function e(t){if(isNaN(Number(t))){if(nv.test(t)){let n=t.replace(nv,(t,n)=>String(e(n)));return e(n)}if(ng.test(t)){let r=t.replace(ng,(e,t,n)=>String(Math.pow(Number(t),Number(n))));return e(r)}if(ny.test(t)){let i=t.replace(ny,(e,t,n)=>String(Number(t)*Number(n)));return e(i)}if(nb.test(t)){let o=t.replace(nb,(e,t,n)=>{if(0!=n)return String(Number(t)/Number(n));throw Error("Division by zero")});return e(o)}else if(nx.test(t)){let a=t.replace(nx,(e,t,n)=>String(Number(t)+Number(n)));return e(a)}else if(n_.test(t)){let l=t.replace(n_,(e,t,n)=>String(Number(t)-Number(n)));return e(l)}}return Number(t)}(e);if(!isNaN(t))return t}catch(n){}return parseFloat(e)},nf=Math.log(10);function nd(e){let t=Math.abs(+String(e).replace(".",""));if(0===t)return .01;for(;0!==t&&t%10==0;)t/=10;let n=Math.floor(Math.log(t)/nf)+1;return Math.max(Math.pow(10,Math.floor(Math.log10(Math.abs(e)))-n),.001)}let np=(e,t,n)=>{if(n===t)return 0;let r=nu(e,t,n);return(r-t)/(n-t)},nh=(e,t,n)=>e*(n-t)+t,nm=()=>"_"+Math.random().toString(36).substr(2,9),nv=/\(([0-9+\-*/^ .]+)\)/,ng=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,ny=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,nb=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,nx=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,n_=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function nw(e){return"[object Object]"===Object.prototype.toString.call(e)}let nS=e=>nw(e)&&0===Object.keys(e).length;(ot=o||(o={})).BUTTON="BUTTON",ot.BUTTON_GROUP="BUTTON_GROUP",ot.MONITOR="MONITOR",ot.FOLDER="FOLDER",(on=a||(a={})).SELECT="SELECT",on.IMAGE="IMAGE",on.NUMBER="NUMBER",on.COLOR="COLOR",on.STRING="STRING",on.BOOLEAN="BOOLEAN",on.INTERVAL="INTERVAL",on.VECTOR3D="VECTOR3D",on.VECTOR2D="VECTOR2D";let nE=["type","__customInput"],nC=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],nP=["type"];function nz(e,t,n,r,i){let{value:o,type:a,settings:l}=e;e.value=nO({type:a,value:o,settings:l},t,n,r),e.fromPanel=i}let nk=function(e,t,n){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=n};function nO({type:e,value:t,settings:n},r,i,o){let a;let l="SELECT"!==e&&"function"==typeof r?r(t):r;try{a=function(e,t,n,r,i,o){let{sanitize:a}=nn[e];return a?a(t,n,r,i,o):t}(e,l,n,t,i,o)}catch(s){throw new nk(`The value \`${r}\` did not result in a correct value.`,t,s)}return w(a,t)?t:a}let nM=(e,t,n=!1)=>{let r=0;return function(){let i=arguments,o=n&&!r,a=()=>e.apply(this,i);window.clearTimeout(r),r=window.setTimeout(a,t),o&&a()}},nT=e=>e.shiftKey?5:e.altKey?.2:1,nj=["value"],nR=["min","max"],nI=e=>{if("number"==typeof e)return!0;if("string"==typeof e){let t=parseFloat(e);if(isNaN(t))return!1;let n=e.substring((""+t).length).trim();return n.length<4}return!1},nA=(e,{min:t=-1/0,max:n=1/0,suffix:r})=>{let i=parseFloat(e);if(""===e||isNaN(i))throw Error("Invalid number");let o=nu(i,t,n);return r?o+r:o},n$=(e,{pad:t=0,suffix:n})=>{let r=parseFloat(e).toFixed(t);return n?r+n:r},nD=e=>{let{value:t}=e,n=t3(e,nj),{min:r=-1/0,max:i=1/0}=n,o=t3(n,nR),a=parseFloat(t),l="string"==typeof t?t.substring((""+a).length):void 0;a=nu(a,r,i);let s=n.step;!s&&(Number.isFinite(r)?s=Number.isFinite(i)?+(Math.abs(i-r)/100).toPrecision(1):+(Math.abs(a-r)/100).toPrecision(1):Number.isFinite(i)&&(s=+(Math.abs(i-a)/100).toPrecision(1)));let u=s?10*nd(s):nd(a);s=s||u/10;let c=Math.round(nu(Math.log10(1/u),0,2));return{value:l?a+l:a,settings:ns({initialValue:a,step:s,pad:c,min:r,max:i,suffix:l},o)}},nN=(e,{step:t,initialValue:n})=>n+Math.round((e-n)/t)*t;var nL=Object.freeze({__proto__:null,schema:nI,sanitize:nA,format:n$,normalize:nD,sanitizeStep:nN});function nB(){return(nB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let nF=(0,s.createContext)({});function nU(){return(0,s.useContext)(nF)}let nH=(0,s.createContext)(null),nV=(0,s.createContext)(null),nW=(0,s.createContext)(null);function nK(){return(0,s.useContext)(nV)}let nG=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function nq(e,t){let[n,r]=e.split(" "),i={};return"none"!==n&&(i.boxShadow=`${t.inset?"inset ":""}0 0 0 $borderWidths${[t.key]} $colors${"default"!==n&&n||t.borderColor}`),r&&(i.backgroundColor=r),i}let nY={$inputStyle:()=>e=>nq(e,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>e=>nq(e,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>e=>nq(e,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>e=>nq(e,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:nQ,css:nZ,createTheme:nX,globalCss:nJ,keyframes:n0}=(e=>{let t=(e=>{let t=!1,n=eT(e,e=>{t=!0;let n="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",r="object"==typeof e.media&&e.media||{},i="object"==typeof e.root?e.root||null:globalThis.document||null,o="object"==typeof e.theme&&e.theme||{},a={prefix:n,media:r,theme:o,themeMap:"object"==typeof e.themeMap&&e.themeMap||{...U},utils:"object"==typeof e.utils&&e.utils||{}},l=eh(i),s={css:ey(a,l),globalCss:eC(a,l),keyframes:ez(a,l),createTheme:eM(a,l),reset(){l.reset(),s.theme.toString()},theme:{},sheet:l,config:a,prefix:n,getCssText:l.toString,toString:l.toString};return String(s.theme=s.createTheme(o)),s});return t||n.reset(),n})(e);return t.styled=(({config:e,sheet:t})=>ej(e,()=>{let n=ey(e,t);return(...e)=>{let t=n(...e),r=t[W].type,i=s.forwardRef((e,n)=>{let i=e&&e.as||r,{props:o,deferredInjector:a}=t(e);return delete o.as,o.ref=n,a?s.createElement(s.Fragment,null,s.createElement(i,o),s.createElement(a,null)):s.createElement(i,o)});return i.className=t.className,i.displayName=`Styled.${r.displayName||r.name||r}`,i.selector=t.selector,i.toString=()=>t.selector,i[W]=t[W],i}}))(t),t})({prefix:"leva",theme:nG(),utils:ns(ns({},nY),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:e=>({"&:focus":nY.$focusStyle()(e)}),$focusWithin:e=>({"&:focus-within":nY.$focusStyle()(e)}),$hover:e=>({"&:hover":nY.$hoverStyle()(e)}),$active:e=>({"&:active":nY.$activeStyle()(e)})})}),n1=nJ({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function n2(e,t){let{theme:n}=(0,s.useContext)(nH);if(!(e in n)||!(t in n[e]))return t6(i.THEME_ERROR,e,t),"";let r=t;for(;;){let o=n[e][r];if("string"!=typeof o||"$"!==o.charAt(0))return o;r=o.substr(1)}}let n3=nQ("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),n4=nQ("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${n3}`]:{paddingLeft:0}}),n5=nQ(n4,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),n6=nQ("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),n8=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],n9=["onUpdate"];function n7(e){let{innerLabel:t,value:n,onUpdate:r,onChange:i,onKeyDown:o,type:a,id:l,inputType:u="text",rows:c=0}=e,f=t3(e,n8),{id:d,emitOnEditStart:p,emitOnEditEnd:h,disabled:m}=nU(),g=(0,s.useRef)(null),y=c>0,b=(0,s.useCallback)(e=>t=>{let n=t.currentTarget.value;e(n)},[]);s.useEffect(()=>{let e=g.current,t=b(e=>{r(e),h()});return null==e||e.addEventListener("blur",t),()=>null==e?void 0:e.removeEventListener("blur",t)},[b,r,h]);let x=(0,s.useCallback)(e=>{"Enter"===e.key&&b(r)(e)},[b,r]),_=Object.assign({as:y?"textarea":"input"},y?{rows:c}:{},f);return s.createElement(n6,{textArea:y},t&&"string"==typeof t?s.createElement(n4,null,t):t,s.createElement(n3,nB({levaType:a,ref:g,id:l||d,type:u,autoComplete:"off",spellCheck:"false",value:n,onChange:b(i),onFocus:()=>p(),onKeyPress:x,onKeyDown:o,disabled:m},_)))}function re(e){let{onUpdate:t}=e,n=t3(e,n9),r=(0,s.useCallback)(e=>t(nc(e)),[t]),i=(0,s.useCallback)(e=>{let n="ArrowUp"===e.key?1:"ArrowDown"===e.key?-1:0;if(n){e.preventDefault();let r=e.altKey?.1:e.shiftKey?10:1;t(e=>parseFloat(e)+n*r)}},[t]);return s.createElement(n7,nB({},n,{onUpdate:r,onKeyDown:i,type:"number"}))}let rt=nQ("div",{}),rn=nQ("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),rr=nQ("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${rn}::after`]:{opacity:.6},[`${rt}:hover > & + ${rn}::after`]:{opacity:.6},[`${rt}:hover > & > svg`]:{opacity:1}}),ri=nQ("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${rt}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),ro=nQ("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${ri} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),ra=nQ(ro,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),rl=nQ("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),rs=nQ("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),ru=nQ("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),rc=nQ("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${ru}`]:{pointerEvents:"auto"}}}}}),rf=nQ("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),rd=nQ("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),rp=nQ(t1,{fill:"$toolTipBackground"});function rh({children:e}){let{className:t}=(0,s.useContext)(nH);return s.createElement(x,{className:t},e)}let rm=["align"];function rv(){let{id:e,disable:t,disabled:n}=nU();return s.createElement(s.Fragment,null,s.createElement(rs,{id:e+"__disable",type:"checkbox",checked:!n,onChange:()=>t(!n)}),s.createElement("label",{htmlFor:e+"__disable"}))}function rg(e){let{id:t,optional:n,hint:r}=nU(),i=e.htmlFor||(t?{htmlFor:t}:null),o=r||"string"!=typeof e.children?null:{title:e.children};return s.createElement(s.Fragment,null,n&&s.createElement(rv,null),void 0!==r?s.createElement(tZ,null,s.createElement(tX,{asChild:!0},s.createElement(ru,nB({},i,e))),s.createElement(tJ,{side:"top",sideOffset:2},s.createElement(rd,null,r,s.createElement(rp,null)))):s.createElement(ru,nB({},i,o,e)))}function ry(e){let{align:t}=e,n=t3(e,rm),{value:r,label:o,key:a,disabled:l}=nU(),{hideCopyButton:u}=(0,s.useContext)(nW),[c,f]=(0,s.useState)(!1),d=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[a]:null!=r?r:""})),f(!0)}catch(e){t6(i.CLIPBOARD_ERROR,{[a]:r})}};return s.createElement(rl,{align:t,onPointerLeave:()=>f(!1)},s.createElement(rg,n),!u&&void 0!==a&&!l&&s.createElement("div",{title:`Click to copy ${"string"==typeof o?o:a} value`},c?s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),s.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):s.createElement("svg",{onClick:d,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),s.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}let rb=["toggled"],rx=nQ("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function r_(e){let{toggled:t}=e,n=t3(e,rb);return s.createElement(rx,nB({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${t?0:-90}deg)`}},n),s.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}let rw=["input"];function rS(e){let{input:t}=e,n=t3(e,rw);return t?s.createElement(ra,n):s.createElement(ro,n)}function rE({value:e,type:t,settings:n,setValue:r}){let[i,o]=(0,s.useState)(na(t,e,n)),a=(0,s.useRef)(e),l=(0,s.useRef)(n);l.current=n;let u=(0,s.useCallback)(e=>o(na(t,e,l.current)),[t]),c=(0,s.useCallback)(e=>{try{r(e)}catch(i){let{type:t,previousValue:n}=i;if("LEVA_ERROR"!==t)throw i;u(n)}},[u,r]);return(0,s.useEffect)(()=>{w(e,a.current)||u(e),a.current=e},[e,u]),{displayValue:i,onChange:o,onUpdate:c}}function rC(e,t){var n;let{emitOnEditStart:r,emitOnEditEnd:i}=nU();return n=t=>{t.first&&(document.body.classList.add("leva__panel__dragged"),null==r||r());let n=e(t);return t.last&&(document.body.classList.remove("leva__panel__dragged"),null==i||i()),n},e9.set(te.key,te.engine),e7.set(te.key,te.resolver),function(e,t={},n,r){let i=s.useMemo(()=>new ta(e),[]);if(i.applyHandlers(e,void 0),i.applyConfig(t,n),s.useEffect(i.effect.bind(i)),s.useEffect(()=>i.clean.bind(i),[]),void 0===t.target)return i.bind.bind(i)}({drag:n},t||{},"drag")}function rP(){let e=(0,s.useRef)(null),t=(0,s.useRef)({x:0,y:0}),n=(0,s.useCallback)(n=>{Object.assign(t.current,n),e.current&&(e.current.style.transform=`translate3d(${t.current.x}px, ${t.current.y}px, 0)`)},[]);return[e,n]}let rz=["__refCount"],rk=(e,t)=>{if(!e[t])return null;let n=e[t],r=t3(n,rz);return r},rO=nQ("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),rM=nQ("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),rT=nQ("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),rj=nQ("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),rR=nQ("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function rI({value:e,min:t,max:n,onDrag:r,step:i,initialValue:o}){let a=(0,s.useRef)(null),l=(0,s.useRef)(null),u=(0,s.useRef)(0),c=n2("sizes","scrubberWidth"),f=rC(({event:s,first:f,xy:[d],movement:[p],memo:h})=>{if(f){let{width:m,left:g}=a.current.getBoundingClientRect();u.current=m-parseFloat(c);let y=(null==s?void 0:s.target)===l.current;h=y?e:nh((d-g)/m,t,n)}let b=h+nh(p/u.current,0,n-t);return r(nN(b,{step:i,initialValue:o})),h}),d=np(e,t,n);return s.createElement(rj,nB({ref:a},f()),s.createElement(rM,null,s.createElement(rR,{style:{left:0,right:`${(1-d)*100}%`}})),s.createElement(rT,{ref:l,style:{left:`calc(${d} * (100% - ${c}))`}}))}let rA=s.memo(({label:e,onUpdate:t,step:n,innerLabelTrim:r})=>{let[i,o]=(0,s.useState)(!1),a=rC(({active:e,delta:[r],event:i,memo:a=0})=>(o(e),Math.abs(a+=r/2)>=1&&(t(e=>parseFloat(e)+Math.floor(a)*n*nT(i)),a=0),a));return s.createElement(n5,nB({dragging:i,title:e.length>1?e:""},a()),e.slice(0,r))});function r$({label:e,id:t,displayValue:n,onUpdate:r,onChange:i,settings:o,innerLabelTrim:a=1}){let l=a>0&&s.createElement(rA,{label:e,step:o.step,onUpdate:r,innerLabelTrim:a});return s.createElement(re,{id:t,value:String(n),onUpdate:r,onChange:i,innerLabel:l})}let{sanitizeStep:rD}=nL,rN=t3(nL,["sanitizeStep"]);var rL=ns({component:function(){let e=nU(),{label:t,value:n,onUpdate:r,settings:i,id:o}=e,{min:a,max:l}=i,u=l!==1/0&&a!==-1/0;return s.createElement(rS,{input:!0},s.createElement(ry,null,t),s.createElement(rO,{hasRange:u},u&&s.createElement(rI,nB({value:parseFloat(n),onDrag:r},i)),s.createElement(r$,nB({},e,{id:o,label:"value",innerLabelTrim:u?0:1}))))}},rN);let rB=(e,t)=>T().schema({options:T().passesAnyOf(T().object(),T().array())}).test(t),rF=(e,{values:t})=>{if(0>t.indexOf(e))throw Error("Selected value doesn't match Select options");return e},rU=(e,{values:t})=>t.indexOf(e),rH=e=>{let t,n,{value:r,options:i}=e;return Array.isArray(i)?(n=i,t=i.map(e=>String(e))):(n=Object.values(i),t=Object.keys(i)),"value"in e?n.includes(r)||(t.unshift(String(r)),n.unshift(r)):r=n[0],Object.values(i).includes(r)||(i[String(r)]=r),{value:r,settings:{keys:t,values:n}}};var rV=Object.freeze({__proto__:null,schema:rB,sanitize:rF,format:rU,normalize:rH});let rW=nQ("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),rK=nQ("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),rG=nQ("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${rK}:focus + &`]:{$focusStyle:""},[`${rK}:hover + &`]:{$hoverStyle:""}});function rq({displayValue:e,value:t,onUpdate:n,id:r,settings:i,disabled:o}){let{keys:a,values:l}=i,u=(0,s.useRef)();return t===l[e]&&(u.current=a[e]),s.createElement(rW,null,s.createElement(rK,{id:r,value:e,onChange:e=>n(l[Number(e.currentTarget.value)]),disabled:o},a.map((e,t)=>s.createElement("option",{key:e,value:t},e))),s.createElement(rG,null,u.current),s.createElement(r_,{toggled:!0}))}var rY=ns({component:function(){let{label:e,value:t,displayValue:n,onUpdate:r,id:i,disabled:o,settings:a}=nU();return s.createElement(rS,{input:!0},s.createElement(ry,null,e),s.createElement(rq,{id:i,value:t,displayValue:n,onUpdate:r,settings:a,disabled:o}))}},rV);let rQ=e=>T().string().test(e),rZ=e=>{if("string"!=typeof e)throw Error("Invalid string");return e},rX=({value:e,editable:t=!0,rows:n=!1})=>({value:e,settings:{editable:t,rows:"number"==typeof n?n:n?5:0}});var rJ=Object.freeze({__proto__:null,schema:rQ,sanitize:rZ,normalize:rX});let r0=["displayValue","onUpdate","onChange","editable"],r1=nQ("div",{whiteSpace:"pre-wrap"});function r2(e){let{displayValue:t,onUpdate:n,onChange:r,editable:i=!0}=e,o=t3(e,r0);return i?s.createElement(n7,nB({value:t,onUpdate:n,onChange:r},o)):s.createElement(r1,null,t)}var r3=ns({component:function(){let{label:e,settings:t,displayValue:n,onUpdate:r,onChange:i}=nU();return s.createElement(rS,{input:!0},s.createElement(ry,null,e),s.createElement(r2,nB({displayValue:n,onUpdate:r,onChange:i},t)))}},rJ);let r4=e=>T().boolean().test(e),r5=e=>{if("boolean"!=typeof e)throw Error("Invalid boolean");return e};var r6=Object.freeze({__proto__:null,schema:r4,sanitize:r5});let r8=nQ("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function r9({value:e,onUpdate:t,id:n,disabled:r}){return s.createElement(r8,null,s.createElement("input",{id:n,type:"checkbox",checked:e,onChange:e=>t(e.currentTarget.checked),disabled:r}),s.createElement("label",{htmlFor:n},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}var r7=ns({component:function(){let{label:e,value:t,onUpdate:n,disabled:r,id:i}=nU();return s.createElement(rS,{input:!0},s.createElement(ry,null,e),s.createElement(r9,{value:t,onUpdate:n,id:i,disabled:r}))}},r6);let ie=["locked"];function it({value:e,id:t,valueKey:n,settings:r,onUpdate:i,innerLabelTrim:o}){let a=(0,s.useRef)(e[n]);a.current=e[n];let l=(0,s.useCallback)(e=>i({[n]:nO({type:"NUMBER",value:a.current,settings:r},e)}),[i,r,n]),u=rE({type:"NUMBER",value:e[n],settings:r,setValue:l});return s.createElement(r$,{id:t,label:n,value:e[n],displayValue:u.displayValue,onUpdate:u.onUpdate,onChange:u.onChange,settings:r,innerLabelTrim:o})}let ir=nQ("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function ii(e){let{locked:t}=e,n=t3(e,ie);return s.createElement("svg",nB({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),t?s.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):s.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function io({value:e,onUpdate:t,settings:n,innerLabelTrim:r}){let{id:i,setSettings:o}=nU(),{lock:a,locked:l}=n;return s.createElement(ir,{withLock:a},a&&s.createElement(ii,{locked:l,onClick:()=>o({locked:!l})}),Object.keys(e).map((o,a)=>s.createElement(it,{id:0===a?i:`${i}.${o}`,key:o,valueKey:o,value:e,settings:n[o],onUpdate:t,innerLabelTrim:r})))}let ia=(e,t)=>{let n={},r=0,i=1/0;for(let o in Object.entries(e).forEach(([e,o])=>{n[e]=nD(ns({value:o},t[e])).settings,r=Math.max(r,n[e].step),i=Math.min(i,n[e].pad)}),n){let{step:a,min:l,max:s}=t[o]||{};isFinite(a)||isFinite(l)&&isFinite(s)||(n[o].step=r,n[o].pad=i)}return n},il=["lock"],is=["value"];function iu(e,t,n){return(Array.isArray(e)?"array":"object")===t?e:"array"===t?Object.values(e):e.reduce((e,t,r)=>Object.assign(e,{[n[r]]:t}),{})}let ic=(e,t,n)=>{let r=iu(e,"object",t.keys);for(let i in r)r[i]=nA(r[i],t[i]);let o=Object.keys(r),a={};if(o.length===t.keys.length)a=r;else{let l=iu(n,"object",t.keys);if(1===o.length&&t.locked){let s=o[0],u=r[s],c=l[s],f=0!==c?u/c:1;for(let d in l)d===s?a[s]=u:a[d]=l[d]*f}else a=ns(ns({},l),r)}return iu(a,t.format,t.keys)},id=(e,t)=>iu(e,"object",t.keys),ip=e=>!!e&&("step"in e||"min"in e||"max"in e);function ih(e){return{schema:function(e){let t=T().array().length(e).every.number(),n=t=>{if(!t||"object"!=typeof t)return!1;let n=Object.values(t);return n.length===e&&n.every(e=>isFinite(e))};return e=>t.test(e)||n(e)}(e.length),normalize(t){let{value:n}=t;return function(e,t,n=[]){let{lock:r=!1}=t,i=t3(t,il),o=Array.isArray(e)?"array":"object",a="object"===o?Object.keys(e):n,l=iu(e,"object",a),s=ip(i)?a.reduce((e,t)=>Object.assign(e,{[t]:i}),{}):i,u=ia(l,s);return{value:"array"===o?e:l,settings:ns(ns({},u),{},{format:o,keys:a,lock:r,locked:!1})}}(n,t3(t,is),e)},format:(e,t)=>id(e,t),sanitize:(e,t,n)=>ic(e,t,n)}}var im={grad:.9,turn:360,rad:360/(2*Math.PI)},iv=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},ig=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},iy=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},ib=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},ix=function(e){return{r:iy(e.r,0,255),g:iy(e.g,0,255),b:iy(e.b,0,255),a:iy(e.a)}},i_=function(e){return{r:ig(e.r),g:ig(e.g),b:ig(e.b),a:ig(e.a,3)}},iw=/^#([0-9a-f]{3,8})$/i,iS=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},iE=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=Math.max(t,n,r),a=o-Math.min(t,n,r),l=a?o===t?(n-r)/a:o===n?2+(r-t)/a:4+(t-n)/a:0;return{h:60*(l<0?l+6:l),s:o?a/o*100:0,v:o/255*100,a:i}},iC=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var o=Math.floor(t),a=r*(1-n),l=r*(1-(t-o)*n),s=r*(1-(1-t+o)*n),u=o%6;return{r:255*[r,l,a,a,s,r][u],g:255*[s,r,r,l,a,a][u],b:255*[a,a,s,r,r,l][u],a:i}},iP=function(e){return{h:ib(e.h),s:iy(e.s,0,100),l:iy(e.l,0,100),a:iy(e.a)}},iz=function(e){return{h:ig(e.h),s:ig(e.s),l:ig(e.l),a:ig(e.a,3)}},ik=function(e){var t,n;return iC((t=e.s,{h:e.h,s:(t*=((n=e.l)<50?n:100-n)/100)>0?2*t/(n+t)*100:0,v:n+t,a:e.a}))},iO=function(e){var t,n,r,i;return{h:(t=iE(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a}},iM=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,iT=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ij=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,iR=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,iI={string:[[function(e){var t=iw.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?ig(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?ig(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=ij.exec(e)||iR.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:ix({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t,n,r=iM.exec(e)||iT.exec(e);return r?ik(iP({h:(t=r[1],void 0===(n=r[2])&&(n="deg"),Number(t)*(im[n]||1)),s:Number(r[3]),l:Number(r[4]),a:void 0===r[5]?1:Number(r[5])/(r[6]?100:1)})):null},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a;return iv(t)&&iv(n)&&iv(r)?ix({r:Number(t),g:Number(n),b:Number(r),a:Number(void 0===i?1:i)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a;return iv(t)&&iv(n)&&iv(r)?ik(iP({h:Number(t),s:Number(n),l:Number(r),a:Number(void 0===i?1:i)})):null},"hsl"],[function(e){var t,n=e.h,r=e.s,i=e.v,o=e.a;return iv(n)&&iv(r)&&iv(i)?iC({h:ib((t={h:Number(n),s:Number(r),v:Number(i),a:Number(void 0===o?1:o)}).h),s:iy(t.s,0,100),v:iy(t.v,0,100),a:iy(t.a)}):null},"hsv"]]},iA=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},i$=function(e){return"string"==typeof e?iA(e.trim(),iI.string):"object"==typeof e&&null!==e?iA(e,iI.object):[null,void 0]},iD=function(e,t){var n=iO(e);return{h:n.h,s:iy(n.s+100*t,0,100),l:n.l,a:n.a}},iN=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},iL=function(e,t){var n=iO(e);return{h:n.h,s:n.s,l:iy(n.l+100*t,0,100),a:n.a}},iB=function(){function e(e){this.parsed=i$(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return ig(iN(this.rgba),2)},e.prototype.isDark=function(){return .5>iN(this.rgba)},e.prototype.isLight=function(){return iN(this.rgba)>=.5},e.prototype.toHex=function(){var e,t,n,r,i,o;return t=(e=i_(this.rgba)).r,n=e.g,r=e.b,o=(i=e.a)<1?iS(ig(255*i)):"","#"+iS(t)+iS(n)+iS(r)+o},e.prototype.toRgb=function(){return i_(this.rgba)},e.prototype.toRgbString=function(){var e,t,n,r,i;return t=(e=i_(this.rgba)).r,n=e.g,r=e.b,(i=e.a)<1?"rgba("+t+", "+n+", "+r+", "+i+")":"rgb("+t+", "+n+", "+r+")"},e.prototype.toHsl=function(){return iz(iO(this.rgba))},e.prototype.toHslString=function(){var e,t,n,r,i;return t=(e=iz(iO(this.rgba))).h,n=e.s,r=e.l,(i=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+i+")":"hsl("+t+", "+n+"%, "+r+"%)"},e.prototype.toHsv=function(){var e;return{h:ig((e=iE(this.rgba)).h),s:ig(e.s),v:ig(e.v),a:ig(e.a,3)}},e.prototype.invert=function(){var e;return iF({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a})},e.prototype.saturate=function(e){return void 0===e&&(e=.1),iF(iD(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),iF(iD(this.rgba,-e))},e.prototype.grayscale=function(){return iF(iD(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),iF(iL(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),iF(iL(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){var t;return"number"==typeof e?iF({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):ig(this.rgba.a,3)},e.prototype.hue=function(e){var t=iO(this.rgba);return"number"==typeof e?iF({h:e,s:t.s,l:t.l,a:t.a}):ig(t.h)},e.prototype.isEqual=function(e){return this.toHex()===iF(e).toHex()},e}(),iF=function(e){return e instanceof iB?e:new iB(e)},iU=[];function iH(){return(iH=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function iV(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}function iW(e){var t=(0,s.useRef)(e),n=(0,s.useRef)(function(e){t.current&&t.current(e)});return t.current=e,n.current}var iK=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e<t?t:e},iG=function(e){return"touches"in e},iq=function(e){return e&&e.ownerDocument.defaultView||self},iY=function(e,t,n){var r=e.getBoundingClientRect(),i=iG(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:iK((i.pageX-(r.left+iq(e).pageXOffset))/r.width),top:iK((i.pageY-(r.top+iq(e).pageYOffset))/r.height)}},iQ=function(e){iG(e)||e.preventDefault()},iZ=s.memo(function(e){var t=e.onMove,n=e.onKey,r=iV(e,["onMove","onKey"]),i=(0,s.useRef)(null),o=iW(t),a=iW(n),l=(0,s.useRef)(null),u=(0,s.useRef)(!1),c=(0,s.useMemo)(function(){var e=function(e){iQ(e),(iG(e)?e.touches.length>0:e.buttons>0)&&i.current?o(iY(i.current,e,l.current)):n(!1)},t=function(){return n(!1)};function n(n){var r=u.current,o=iq(i.current),a=n?o.addEventListener:o.removeEventListener;a(r?"touchmove":"mousemove",e),a(r?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,r=i.current;if(r&&(iQ(t),(!u.current||iG(t))&&r)){if(iG(t)){u.current=!0;var a=t.changedTouches||[];a.length&&(l.current=a[0].identifier)}r.focus(),o(iY(r,t,l.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),a({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]},[a,o]),f=c[0],d=c[1],p=c[2];return(0,s.useEffect)(function(){return p},[p]),s.createElement("div",iH({},r,{onTouchStart:f,onMouseDown:f,className:"react-colorful__interactive",ref:i,onKeyDown:d,tabIndex:0,role:"slider"}))}),iX=function(e){return e.filter(Boolean).join(" ")},iJ=function(e){var t=e.color,n=e.left,r=e.top,i=iX(["react-colorful__pointer",e.className]);return s.createElement("div",{className:i,style:{top:100*(void 0===r?.5:r)+"%",left:100*n+"%"}},s.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},i0=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n},i1=function(e){var t=e.s,n=e.v,r=e.a,i=(200-t)*n/100;return{h:i0(e.h),s:i0(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:i0(i/2),a:i0(r,2)}},i2=function(e){var t=i1(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},i3=function(e){var t=i1(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},i4=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var o=Math.floor(t),a=r*(1-n),l=r*(1-(t-o)*n),s=r*(1-(1-t+o)*n),u=o%6;return{r:i0(255*[r,l,a,a,s,r][u]),g:i0(255*[s,r,r,l,a,a][u]),b:i0(255*[a,a,s,r,r,l][u]),a:i0(i,2)}},i5=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=Math.max(t,n,r),a=o-Math.min(t,n,r),l=a?o===t?(n-r)/a:o===n?2+(r-t)/a:4+(t-n)/a:0;return{h:i0(60*(l<0?l+6:l)),s:i0(o?a/o*100:0),v:i0(o/255*100),a:i}},i6=s.memo(function(e){var t=e.hue,n=e.onChange,r=iX(["react-colorful__hue",e.className]);return s.createElement("div",{className:r},s.createElement(iZ,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:iK(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":i0(t),"aria-valuemax":"360","aria-valuemin":"0"},s.createElement(iJ,{className:"react-colorful__hue-pointer",left:t/360,color:i2({h:t,s:100,v:100,a:1})})))}),i8=s.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:i2({h:t.h,s:100,v:100,a:1})};return s.createElement("div",{className:"react-colorful__saturation",style:r},s.createElement(iZ,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:iK(t.s+100*e.left,0,100),v:iK(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+i0(t.s)+"%, Brightness "+i0(t.v)+"%"},s.createElement(iJ,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:i2(t)})))}),i9=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};function i7(e,t,n){var r=iW(n),i=(0,s.useState)(function(){return e.toHsva(t)}),o=i[0],a=i[1],l=(0,s.useRef)({color:t,hsva:o});return(0,s.useEffect)(function(){if(!e.equal(t,l.current.color)){var n=e.toHsva(t);l.current={hsva:n,color:t},a(n)}},[t,e]),(0,s.useEffect)(function(){var t;i9(o,l.current.hsva)||e.equal(t=e.fromHsva(o),l.current.color)||(l.current={hsva:o,color:t},r(t))},[o,e,r]),[o,(0,s.useCallback)(function(e){a(function(t){return Object.assign({},t,e)})},[])]}var oe,ot,on,or,oi="undefined"!=typeof window?s.useLayoutEffect:s.useEffect,oo=new Map,oa=function(e){oi(function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!oo.has(t)){var r=t.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',oo.set(t,r);var i=or||n.nc;i&&r.setAttribute("nonce",i),t.head.appendChild(r)}},[])},ol=function(e){var t=e.className,n=e.colorModel,r=e.color,i=void 0===r?n.defaultColor:r,o=e.onChange,a=iV(e,["className","colorModel","color","onChange"]),l=(0,s.useRef)(null);oa(l);var u=i7(n,i,o),c=u[0],f=u[1],d=iX(["react-colorful",t]);return s.createElement("div",iH({},a,{ref:l,className:d}),s.createElement(i8,{hsva:c,onChange:f}),s.createElement(i6,{hue:c.h,onChange:f,className:"react-colorful__last-control"}))},os=function(e){var t=e.className,n=e.hsva,r=e.onChange,i={backgroundImage:"linear-gradient(90deg, "+i3(Object.assign({},n,{a:0}))+", "+i3(Object.assign({},n,{a:1}))+")"},o=iX(["react-colorful__alpha",t]),a=i0(100*n.a);return s.createElement("div",{className:o},s.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),s.createElement(iZ,{onMove:function(e){r({a:e.left})},onKey:function(e){r({a:iK(n.a+e.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},s.createElement(iJ,{className:"react-colorful__alpha-pointer",left:n.a,color:i3(n)})))},ou=function(e){var t=e.className,n=e.colorModel,r=e.color,i=void 0===r?n.defaultColor:r,o=e.onChange,a=iV(e,["className","colorModel","color","onChange"]),l=(0,s.useRef)(null);oa(l);var u=i7(n,i,o),c=u[0],f=u[1],d=iX(["react-colorful",t]);return s.createElement("div",iH({},a,{ref:l,className:d}),s.createElement(i8,{hsva:c,onChange:f}),s.createElement(i6,{hue:c.h,onChange:f}),s.createElement(os,{hsva:c,onChange:f,className:"react-colorful__last-control"}))},oc={defaultColor:{r:0,g:0,b:0,a:1},toHsva:i5,fromHsva:i4,equal:i9},of=function(e){return s.createElement(ou,iH({},e,{colorModel:oc}))},od={defaultColor:{r:0,g:0,b:0},toHsva:function(e){return i5({r:e.r,g:e.g,b:e.b,a:1})},fromHsva:function(e){var t;return{r:(t=i4(e)).r,g:t.g,b:t.b}},equal:i9},op=function(e){return s.createElement(ol,iH({},e,{colorModel:od}))},oh=n(5697),om=n.n(oh);function ov(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function l(e){try{s(r.throw(e))}catch(t){o(t)}}function s(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})}function og(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(l){return function(s){return function(l){if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&l[0]?r.return:l[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,l[1])).done)return i;switch(r=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,r=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){a=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){a.label=l[1];break}if(6===l[0]&&a.label<i[1]){a.label=i[1],i=l;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(l);break}i[2]&&a.ops.pop(),a.trys.pop();continue}l=t.call(e,a)}catch(s){l=[6,s],r=0}finally{n=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}}var oy=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ob(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=oy.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof t?t:"string"==typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var ox=[".DS_Store","Thumbs.db"];function o_(e){return"object"==typeof e&&null!==e}function ow(e){return e.filter(function(e){return -1===ox.indexOf(e.name)})}function oS(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function oE(e){if("function"!=typeof e.webkitGetAsEntry)return oC(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?oz(t):oC(e)}function oC(e){var t=e.getAsFile();return t?Promise.resolve(ob(t)):Promise.reject(e+" is not a File")}function oP(e){return ov(this,void 0,void 0,function(){return og(this,function(t){return[2,e.isDirectory?oz(e):function(e){return ov(this,void 0,void 0,function(){return og(this,function(t){return[2,new Promise(function(t,n){e.file(function(n){t(ob(n,e.fullPath))},function(e){n(e)})})]})})}(e)]})})}function oz(e){var t=e.createReader();return new Promise(function(e,n){var r=[];!function i(){var o=this;t.readEntries(function(t){return ov(o,void 0,void 0,function(){var o;return og(this,function(a){switch(a.label){case 0:if(t.length)return[3,5];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return e(a.sent()),[3,4];case 3:return n(a.sent()),[3,4];case 4:return[3,6];case 5:o=Promise.all(t.map(oP)),r.push(o),i(),a.label=6;case 6:return[2]}})})},function(e){n(e)})}()})}var ok=n(8363);function oO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oO(Object(n),!0).forEach(function(t){oT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function oT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oj(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,l=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==i.return||i.return()}finally{if(l)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oR(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var oI=function(e){var t=Array.isArray(e=Array.isArray(e)&&1===e.length?e[0]:e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},oA=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},o$=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},oD={code:"too-many-files",message:"Too many files"};function oN(e,t){var n="application/x-moz-file"===e.type||(0,ok.Z)(e,t);return[n,n?null:oI(t)]}function oL(e,t,n){if(oB(e.size)){if(oB(t)&&oB(n)){if(e.size>n)return[!1,oA(n)];if(e.size<t)return[!1,o$(t)]}else if(oB(t)&&e.size<t)return[!1,o$(t)];else if(oB(n)&&e.size>n)return[!1,oA(n)]}return[!0,null]}function oB(e){return null!=e}function oF(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function oU(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):!!e.target&&!!e.target.files}function oH(e){e.preventDefault()}function oV(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some(function(t){return!oF(e)&&t&&t.apply(void 0,[e].concat(r)),oF(e)})}}var oW=["children"],oK=["open"],oG=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],oq=["refKey","onChange","onClick"];function oY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,l=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==i.return||i.return()}finally{if(l)throw r}}return o}}(e,t)||oQ(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oQ(e,t){if(e){if("string"==typeof e)return oZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oZ(e,t)}}function oZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function oX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oX(Object(n),!0).forEach(function(t){o0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o1(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o2=(0,s.forwardRef)(function(e,t){var n=e.children,r=o5(o1(e,oW)),i=r.open,o=o1(r,oK);return(0,s.useImperativeHandle)(t,function(){return{open:i}},[i]),s.createElement(s.Fragment,null,n(oJ(oJ({},o),{},{open:i})))});o2.displayName="Dropzone";var o3={disabled:!1,getFilesFromEvent:function(e){return ov(this,void 0,void 0,function(){return og(this,function(t){return o_(e)&&o_(e.dataTransfer)?[2,function(e,t){return ov(this,void 0,void 0,function(){var n;return og(this,function(r){switch(r.label){case 0:if(null===e)return[2,[]];if(!e.items)return[3,2];if(n=oS(e.items).filter(function(e){return"file"===e.kind}),"drop"!==t)return[2,n];return[4,Promise.all(n.map(oE))];case 1:return[2,ow(function e(t){return t.reduce(function(t,n){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(arguments[t]));return e}(t,Array.isArray(n)?e(n):[n])},[])}(r.sent()))];case 2:return[2,ow(oS(e.files).map(function(e){return ob(e)}))]}})})}(e.dataTransfer,e.type)]:o_(e)&&o_(e.target)?[2,oS(e.target.files).map(function(e){return ob(e)})]:Array.isArray(e)&&e.every(function(e){return"getFile"in e&&"function"==typeof e.getFile})?[2,function(e){return ov(this,void 0,void 0,function(){return og(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return e.getFile()}))];case 1:return[2,t.sent().map(function(e){return ob(e)})]}})})}(e)]:[2,[]]})})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};o2.defaultProps=o3,o2.propTypes={children:om().func,accept:om().oneOfType([om().string,om().arrayOf(om().string)]),multiple:om().bool,preventDropOnDocument:om().bool,noClick:om().bool,noKeyboard:om().bool,noDrag:om().bool,noDragEventsBubbling:om().bool,minSize:om().number,maxSize:om().number,maxFiles:om().number,disabled:om().bool,getFilesFromEvent:om().func,onFileDialogCancel:om().func,onFileDialogOpen:om().func,useFsAccessApi:om().bool,onDragEnter:om().func,onDragLeave:om().func,onDragOver:om().func,onDrop:om().func,onDropAccepted:om().func,onDropRejected:om().func,validator:om().func};var o4={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function o5(){var e,t,n,r,i,o,a,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=oJ(oJ({},o3),l),c=u.accept,f=u.disabled,d=u.getFilesFromEvent,p=u.maxSize,h=u.minSize,m=u.multiple,g=u.maxFiles,y=u.onDragEnter,b=u.onDragLeave,x=u.onDragOver,_=u.onDrop,w=u.onDropAccepted,S=u.onDropRejected,E=u.onFileDialogCancel,C=u.onFileDialogOpen,P=u.useFsAccessApi,z=u.preventDropOnDocument,k=u.noClick,O=u.noKeyboard,M=u.noDrag,T=u.noDragEventsBubbling,j=u.validator,R=(0,s.useMemo)(function(){return"function"==typeof C?C:o8},[C]),I=(0,s.useMemo)(function(){return"function"==typeof E?E:o8},[E]),A=(0,s.useRef)(null),$=(0,s.useRef)(null),D=oY((0,s.useReducer)(o6,o4),2),N=D[0],L=D[1],B=N.isFocused,F=N.isFileDialogActive,U=N.draggedFiles,H=(0,s.useRef)("undefined"!=typeof window&&window.isSecureContext&&P&&"showOpenFilePicker"in window),V=function(){!H.current&&F&&setTimeout(function(){$.current&&!$.current.files.length&&(L({type:"closeDialog"}),I())},300)};(0,s.useEffect)(function(){return window.addEventListener("focus",V,!1),function(){window.removeEventListener("focus",V,!1)}},[$,F,I,H]);var W=(0,s.useRef)([]),K=function(e){A.current&&A.current.contains(e.target)||(e.preventDefault(),W.current=[])};(0,s.useEffect)(function(){return z&&(document.addEventListener("dragover",oH,!1),document.addEventListener("drop",K,!1)),function(){z&&(document.removeEventListener("dragover",oH),document.removeEventListener("drop",K))}},[A,z]);var G=(0,s.useCallback)(function(e){var t;e.preventDefault(),e.persist(),ea(e),W.current=[].concat(function(e){if(Array.isArray(e))return oZ(e)}(t=W.current)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||oQ(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.target]),oU(e)&&Promise.resolve(d(e)).then(function(t){(!oF(e)||T)&&(L({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),y&&y(e))})},[d,y,T]),q=(0,s.useCallback)(function(e){e.preventDefault(),e.persist(),ea(e);var t=oU(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&x&&x(e),!1},[x,T]),Y=(0,s.useCallback)(function(e){e.preventDefault(),e.persist(),ea(e);var t=W.current.filter(function(e){return A.current&&A.current.contains(e)}),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),W.current=t,!(t.length>0)&&(L({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),oU(e)&&b&&b(e))},[A,b,T]),Q=(0,s.useCallback)(function(e,t){var n=[],r=[];e.forEach(function(e){var t=oY(oN(e,c),2),i=t[0],o=t[1],a=oY(oL(e,h,p),2),l=a[0],s=a[1],u=j?j(e):null;if(i&&l&&!u)n.push(e);else{var f=[o,s];u&&(f=f.concat(u)),r.push({file:e,errors:f.filter(function(e){return e})})}}),(!m&&n.length>1||m&&g>=1&&n.length>g)&&(n.forEach(function(e){r.push({file:e,errors:[oD]})}),n.splice(0)),L({acceptedFiles:n,fileRejections:r,type:"setFiles"}),_&&_(n,r,t),r.length>0&&S&&S(r,t),n.length>0&&w&&w(n,t)},[L,m,c,h,p,g,_,w,S,j]),Z=(0,s.useCallback)(function(e){e.preventDefault(),e.persist(),ea(e),W.current=[],oU(e)&&Promise.resolve(d(e)).then(function(t){(!oF(e)||T)&&Q(t,e)}),L({type:"reset"})},[d,Q,T]),X=(0,s.useCallback)(function(){if(H.current){L({type:"openDialog"}),R();var e,t={multiple:m,types:[{description:"everything",accept:Array.isArray(e="string"==typeof(e=c)?e.split(","):e)?e.filter(function(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return oM(oM({},e),{},oT({},t,[]))},{}):{}}]};window.showOpenFilePicker(t).then(function(e){return d(e)}).then(function(e){Q(e,null),L({type:"closeDialog"})}).catch(function(e){e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)?(I(e),L({type:"closeDialog"})):e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)&&(H.current=!1,$.current&&($.current.value=null,$.current.click()))});return}$.current&&(L({type:"openDialog"}),R(),$.current.value=null,$.current.click())},[L,R,I,P,Q,c,m]),J=(0,s.useCallback)(function(e){A.current&&A.current.isEqualNode(e.target)&&(" "===e.key||"Enter"===e.key||32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),X())},[A,X]),ee=(0,s.useCallback)(function(){L({type:"focus"})},[]),et=(0,s.useCallback)(function(){L({type:"blur"})},[]),en=(0,s.useCallback)(function(){k||(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return -1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/")}()?setTimeout(X,0):X())},[k,X]),er=function(e){return f?null:e},ei=function(e){return O?null:er(e)},eo=function(e){return M?null:er(e)},ea=function(e){T&&e.stopPropagation()},el=(0,s.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=e.role,r=e.onKeyDown,i=e.onFocus,o=e.onBlur,a=e.onClick,l=e.onDragEnter,s=e.onDragOver,u=e.onDragLeave,c=e.onDrop,d=o1(e,oG);return oJ(oJ(o0({onKeyDown:ei(oV(r,J)),onFocus:ei(oV(i,ee)),onBlur:ei(oV(o,et)),onClick:er(oV(a,en)),onDragEnter:eo(oV(l,G)),onDragOver:eo(oV(s,q)),onDragLeave:eo(oV(u,Y)),onDrop:eo(oV(c,Z)),role:"string"==typeof n&&""!==n?n:"button"},void 0===t?"ref":t,A),f||O?{}:{tabIndex:0}),d)}},[A,J,ee,et,en,G,q,Y,Z,O,M,f]),es=(0,s.useCallback)(function(e){e.stopPropagation()},[]),eu=(0,s.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=e.onChange,r=e.onClick,i=o1(e,oq);return oJ(oJ({},o0({accept:c,multiple:m,type:"file",style:{display:"none"},onChange:er(oV(n,Z)),onClick:er(oV(r,es)),tabIndex:-1},void 0===t?"ref":t,$)),i)}},[$,c,m,Z,f]),ec=U.length,ef=ec>0&&(t=(e={files:U,accept:c,minSize:h,maxSize:p,multiple:m,maxFiles:g}).files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,a=e.maxFiles,(!!o||!(t.length>1))&&(!o||!(a>=1)||!(t.length>a))&&t.every(function(e){var t=oj(oN(e,n),1)[0],o=oj(oL(e,r,i),1)[0];return t&&o}));return oJ(oJ({},N),{},{isDragAccept:ef,isDragReject:ec>0&&!ef,isFocused:B&&!f,getRootProps:el,getInputProps:eu,rootRef:A,inputRef:$,open:er(X)})}function o6(e,t){switch(t.type){case"focus":return oJ(oJ({},e),{},{isFocused:!0});case"blur":return oJ(oJ({},e),{},{isFocused:!1});case"openDialog":return oJ(oJ({},o4),{},{isFileDialogActive:!0});case"closeDialog":return oJ(oJ({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return oJ(oJ({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return oJ(oJ({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return oJ({},o4);default:return e}}function o8(){}var o9=n(4671);Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let o7=e=>(t,n,r)=>{let i=r.subscribe;r.subscribe=(e,t,n)=>{let o=e;if(t){let a=(null==n?void 0:n.equalityFn)||Object.is,l=e(r.getState());o=n=>{let r=e(n);if(!a(l,r)){let i=l;t(l=r,i)}},(null==n?void 0:n.fireImmediately)&&t(l,l)}return i(o)};let o=e(t,n,r);return o};Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;let ae=e=>t=>{try{let n=e(t);if(n instanceof Promise)return n;return{then:e=>ae(e)(n),catch(e){return this}}}catch(r){return{then(e){return this},catch:e=>ae(e)(r)}}};var at=n(4529),an=n.n(at);let ar=(...e)=>e.filter(Boolean).join(".");function ai(e,t){return(0,s.useMemo)(e,function(e,t){let n=(0,s.useRef)();return(t?w:S)(e,n.current)||(n.current=e),n.current}(t,!0))}let ao=e=>{let[t,n]=(0,s.useState)(e.getVisiblePaths());return(0,s.useEffect)(()=>{n(e.getVisiblePaths());let t=e.useStore.subscribe(e.getVisiblePaths,n,{equalityFn:S});return()=>t()},[e]),t};function aa(e=3){let t=(0,s.useRef)(null),n=(0,s.useRef)(null),[r,i]=(0,s.useState)(!1),o=(0,s.useCallback)(()=>i(!0),[]),a=(0,s.useCallback)(()=>i(!1),[]);return(0,s.useLayoutEffect)(()=>{if(r){let{bottom:i,top:o,left:a}=t.current.getBoundingClientRect(),{height:l}=n.current.getBoundingClientRect(),s=i+l>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=a+"px","down"===s?n.current.style.top=i+e+"px":n.current.style.bottom=window.innerHeight-o+e+"px"}},[e,r]),{popinRef:t,wrapperRef:n,shown:r,show:o,hide:a}}!function(e){e.forEach(function(e){0>iU.indexOf(e)&&(e(iB,iI),iU.push(e))})}([function(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var o={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,a=r[this.toHex()];if(a)return a;if(null==t?void 0:t.closest){var l=this.toRgb(),s=1/0,u="black";if(!o.length)for(var c in n)o[c]=new e(n[c]).toRgb();for(var f in n){var d=(i=o[f],Math.pow(l.r-i.r,2)+Math.pow(l.g-i.g,2)+Math.pow(l.b-i.b,2));d<s&&(s=d,u=f)}return u}},t.string.push([function(t){var r=t.toLowerCase(),i="transparent"===r?"#0000":n[r];return i?new e(i).toRgb():null},"name"])}]);let al={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};T.extend({color:()=>e=>iF(e).isValid()});let as=e=>T().color().test(e);function au(e,{format:t,hasAlpha:n,isString:r}){let i=al[t]+(r&&"hex"!==t?"String":""),o=e[i]();return"object"!=typeof o||n?o:function(e,t){let n=ns({},e);return t.forEach(t=>t in e&&delete n[t]),n}(o,["a"])}let ac=(e,t)=>{let n=iF(e);if(!n.isValid())throw Error("Invalid color");return au(n,t)},af=(e,t)=>au(iF(e),ns(ns({},t),{},{isString:!0,format:"hex"})),ad=({value:e})=>{let t=i$(e)[1],n="object"==typeof e?"a"in e:"hex"===t&&8===e.length||/^(rgba)|(hsla)|(hsva)/.test(e),r={format:"name"===t?"hex":t,hasAlpha:n,isString:"string"==typeof e};return{value:ac(e,r),settings:r}};var ap=Object.freeze({__proto__:null,schema:as,sanitize:ac,format:af,normalize:ad});let ah=nQ("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:'url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')',$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),am=nQ("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),av=nQ("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function ag(e,t){return"rgb"!==t?iF(e).toRgb():e}function ay({value:e,displayValue:t,settings:n,onUpdate:r}){let{emitOnEditStart:i,emitOnEditEnd:o}=nU(),{format:a,hasAlpha:l}=n,{popinRef:u,wrapperRef:c,shown:f,show:d,hide:p}=aa(),h=(0,s.useRef)(0),[m,g]=(0,s.useState)(()=>ag(e,a)),y=()=>{g(ag(e,a)),d(),i()},b=()=>{p(),o(),window.clearTimeout(h.current)},x=()=>{h.current=window.setTimeout(b,500)};return(0,s.useEffect)(()=>()=>window.clearTimeout(h.current),[]),s.createElement(s.Fragment,null,s.createElement(ah,{ref:u,active:f,onClick:()=>y(),style:{color:t}}),f&&s.createElement(rh,null,s.createElement(rf,{onPointerUp:b}),s.createElement(av,{ref:c,onMouseEnter:()=>window.clearTimeout(h.current),onMouseLeave:e=>0===e.buttons&&x()},s.createElement(l?of:op,{color:m,onChange:r}))))}var ab=ns({component:function(){let{value:e,displayValue:t,label:n,onChange:r,onUpdate:i,settings:o}=nU();return s.createElement(rS,{input:!0},s.createElement(ry,null,n),s.createElement(am,null,s.createElement(ay,{value:e,displayValue:t,onChange:r,onUpdate:i,settings:o}),s.createElement(n7,{value:t,onChange:r,onUpdate:i})))}},ap),ax=ns({component:function(){let{label:e,displayValue:t,onUpdate:n,settings:r}=nU();return s.createElement(rS,{input:!0},s.createElement(ry,null,e),s.createElement(io,{value:t,settings:r,onUpdate:n}))}},ih(["x","y","z"]));let a_=nQ("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),aw=nQ("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function aS({value:e,settings:t,onUpdate:n}){let r=(0,s.useRef)(),i=(0,s.useRef)(0),o=(0,s.useRef)(0),a=(0,s.useRef)(1),[l,u]=(0,s.useState)(!1),[c,f]=(0,s.useState)(!1),[d,p]=rP(),h=(0,s.useRef)(null),m=(0,s.useRef)(null);(0,s.useLayoutEffect)(()=>{if(l){let{top:e,left:t,width:n,height:r}=h.current.getBoundingClientRect();m.current.style.left=t+n/2+"px",m.current.style.top=e+r/2+"px"}},[l]);let{keys:[g,y],joystick:b}=t,x="invertY"===b?1:-1,{[g]:{step:_},[y]:{step:w}}=t,S=n2("sizes","joystickWidth"),E=n2("sizes","joystickHeight"),C=.8*parseFloat(S)/2,P=.8*parseFloat(E)/2,z=(0,s.useCallback)(()=>{r.current||(f(!0),i.current&&p({x:i.current*C}),o.current&&p({y:-(o.current*P)}),r.current=window.setInterval(()=>{n(e=>{let t=_*i.current*a.current,n=x*w*o.current*a.current;return Array.isArray(e)?{[g]:e[0]+t,[y]:e[1]+n}:{[g]:e[g]+t,[y]:e[y]+n}})},16))},[C,P,n,p,_,w,g,y,x]),k=(0,s.useCallback)(()=>{window.clearTimeout(r.current),r.current=void 0,f(!1)},[]);(0,s.useEffect)(()=>{function e(e){a.current=nT(e)}return window.addEventListener("keydown",e),window.addEventListener("keyup",e),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",e),window.removeEventListener("keyup",e)}},[]);let O=rC(({first:t,active:r,delta:[l,s],movement:[c,f]})=>{t&&u(!0);let d=nu(c,-C,C),h=nu(f,-P,P);i.current=Math.abs(c)>Math.abs(d)?Math.sign(c-d):0,o.current=Math.abs(f)>Math.abs(h)?Math.sign(h-f):0;let m=e[g],b=e[y];r?(i.current||(m+=l*_*a.current,p({x:d})),o.current||(b-=x*s*w*a.current,p({y:h})),i.current||o.current?z():k(),n({[g]:m,[y]:b})):(u(!1),i.current=0,o.current=0,p({x:0,y:0}),k())});return s.createElement(a_,nB({ref:h},O()),l&&s.createElement(rh,null,s.createElement(aw,{ref:m,isOutOfBounds:c},s.createElement("div",null),s.createElement("span",{ref:d}))))}let aE=nQ("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}}),aC=["joystick"],aP=ih(["x","y"]),az=e=>{let{joystick:t=!0}=e,n=t3(e,aC),{value:r,settings:i}=aP.normalize(n);return{value:r,settings:ns(ns({},i),{},{joystick:t})}};var ak=ns(ns({component:function(){let{label:e,displayValue:t,onUpdate:n,settings:r}=nU();return s.createElement(rS,{input:!0},s.createElement(ry,null,e),s.createElement(aE,{withJoystick:!!r.joystick},r.joystick&&s.createElement(aS,{value:t,settings:r,onUpdate:n}),s.createElement(io,{value:t,settings:r,onUpdate:n})))}},aP),{},{normalize:az});let aO=e=>{if(void 0!==e){if(e instanceof File)try{return URL.createObjectURL(e)}catch(t){return}if("string"==typeof e&&0===e.indexOf("blob:"))return e;throw Error(`Invalid image format [undefined | blob |\xa0File].`)}},aM=({image:e})=>({value:e});var aT=Object.freeze({__proto__:null,sanitize:aO,schema:(e,t)=>"object"==typeof t&&"image"in t,normalize:aM});let aj=nQ("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),aR=nQ("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),aI=nQ("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),aA=nQ("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),a$=nQ("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),aD=nQ("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});var aN=ns({component:function(){let{label:e,value:t,onUpdate:n,disabled:r}=nU(),{popinRef:i,wrapperRef:o,shown:a,show:l,hide:u}=aa(),c=(0,s.useCallback)(e=>{e.length&&n(e[0])},[n]),f=(0,s.useCallback)(e=>{e.stopPropagation(),n(void 0)},[n]),{getRootProps:d,getInputProps:p,isDragAccept:h}=o5({maxFiles:1,accept:"image/*",onDrop:c,disabled:r});return s.createElement(rS,{input:!0},s.createElement(ry,null,e),s.createElement(aj,null,s.createElement(aI,{ref:i,hasImage:!!t,onPointerDown:()=>!!t&&l(),onPointerUp:u,style:{backgroundImage:t?`url(${t})`:"none"}}),a&&!!t&&s.createElement(rh,null,s.createElement(rf,{onPointerUp:u,style:{cursor:"pointer"}}),s.createElement(aA,{ref:o,style:{backgroundImage:`url(${t})`}})),s.createElement(aR,d({isDragAccept:h}),s.createElement("input",p()),s.createElement(a$,null,h?"drop image":"click or drop")),s.createElement(aD,{onClick:f,disabled:!t})))}},aT);let aL=T().number(),aB=(e,t)=>T().array().length(2).every.number().test(e)&&T().schema({min:aL,max:aL}).test(t),aF=e=>({min:e[0],max:e[1]}),aU=(e,{bounds:[t,n]},r)=>{let i=Array.isArray(e)?aF(e):e,o={min:r[0],max:r[1]},{min:a,max:l}=ns(ns({},o),i);return[nu(Number(a),t,Math.max(t,l)),nu(Number(l),Math.min(n,a),n)]},aH=({value:e,min:t,max:n})=>{let r={min:t,max:n},i=ia(aF(e),{min:r,max:r}),o=ns(ns({},i),{},{bounds:[t,n]}),a=aU(aF(e),o,e);return{value:a,settings:o}};var aV=Object.freeze({__proto__:null,schema:aB,format:aF,sanitize:aU,normalize:aH});let aW=["value","bounds","onDrag"],aK=["bounds"],aG=nQ("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function aq(e){let{value:t,bounds:[n,r],onDrag:i}=e,o=t3(e,aW),a=(0,s.useRef)(null),l=(0,s.useRef)(null),u=(0,s.useRef)(null),c=(0,s.useRef)(0),f=n2("sizes","scrubberWidth"),d=rC(({event:e,first:s,xy:[d],movement:[p],memo:h={}})=>{if(s){let{width:m,left:g}=a.current.getBoundingClientRect();c.current=m-parseFloat(f);let y=(null==e?void 0:e.target)===l.current||(null==e?void 0:e.target)===u.current;h.pos=nh((d-g)/m,n,r);let b=Math.abs(h.pos-t.min)-Math.abs(h.pos-t.max);h.key=b<0||0===b&&h.pos<=t.min?"min":"max",y&&(h.pos=t[h.key])}let x=h.pos+nh(p/c.current,0,r-n);return i({[h.key]:rD(x,o[h.key])}),h}),p=`calc(${np(t.min,n,r)} * (100% - ${f} - 8px) + 4px)`,h=`calc(${1-np(t.max,n,r)} * (100% - ${f} - 8px) + 4px)`;return s.createElement(rj,nB({ref:a},d()),s.createElement(rM,null,s.createElement(rR,{style:{left:p,right:h}})),s.createElement(rT,{position:"left",ref:l,style:{left:p}}),s.createElement(rT,{position:"right",ref:u,style:{right:h}}))}var aY=ns({component:function(){let{label:e,displayValue:t,onUpdate:n,settings:r}=nU(),i=t3(r,aK);return s.createElement(s.Fragment,null,s.createElement(rS,{input:!0},s.createElement(ry,null,e),s.createElement(aG,null,s.createElement(aq,nB({value:t},r,{onDrag:n})),s.createElement(io,{value:t,settings:i,onUpdate:n,innerLabelTrim:0}))))}},aV);let aQ=()=>{let e=new Map;return{on(t,n){let r=e.get(t);void 0===r&&(r=new Set,e.set(t,r)),r.add(n)},off(t,n){let r=e.get(t);void 0!==r&&(r.delete(n),0===r.size&&e.delete(t))},emit(t,...n){let r=e.get(t);if(void 0!==r)for(let i of r)i(...n)}}},aZ=["type","value"],aX=["onChange","transient","onEditStart","onEditEnd"],aJ=new function(){let e=(0,o9.Z)(o7(()=>({data:{}}))),t=aQ();this.storeId=nm(),this.useStore=e;let n={},r=new Set;this.getVisiblePaths=()=>{let e=this.getData(),t=Object.keys(e),i=[];Object.entries(n).forEach(([e,n])=>{n.render&&t.some(t=>0===t.indexOf(e))&&!n.render(this.get)&&i.push(e+".")});let o=[];return r.forEach(t=>{t in e&&e[t].__refCount>0&&i.every(e=>-1===t.indexOf(e))&&(!e[t].render||e[t].render(this.get))&&o.push(t)}),o},this.setOrderedPaths=e=>{e.forEach(e=>r.add(e))},this.orderPaths=e=>(this.setOrderedPaths(e),e),this.disposePaths=t=>{e.setState(e=>{let n=e.data;return t.forEach(e=>{if(e in n){let t=n[e];t.__refCount--,0===t.__refCount&&t.type in o&&delete n[e]}}),{data:n}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=e=>n[e]||{},this.getData=()=>e.getState().data,this.addData=(t,n)=>{e.setState(e=>{let r=e.data;return Object.entries(t).forEach(([e,t])=>{let o=r[e];if(o){let{type:a,value:l}=t,s=t3(t,aZ);a!==o.type?t6(i.INPUT_TYPE_OVERRIDE,a):((0===o.__refCount||n)&&Object.assign(o,s),o.__refCount++)}else r[e]=ns(ns({},t),{},{__refCount:1})}),{data:r}})},this.setValueAtPath=(t,n,r)=>{e.setState(e=>{let i=e.data;return nz(i[t],n,t,this,r),{data:i}})},this.setSettingsAtPath=(t,n)=>{e.setState(e=>{let r=e.data;return r[t].settings=ns(ns({},r[t].settings),n),{data:r}})},this.disableInputAtPath=(t,n)=>{e.setState(e=>{let r=e.data;return r[t].disabled=n,{data:r}})},this.set=(t,n)=>{e.setState(e=>{let r=e.data;return Object.entries(t).forEach(([e,t])=>{try{nz(r[e],t,void 0,void 0,n)}catch(i){}}),{data:r}})},this.getInput=e=>{try{return this.getData()[e]}catch(t){t6(i.PATH_DOESNT_EXIST,e)}},this.get=e=>{var t;return null===(t=this.getInput(e))||void 0===t?void 0:t.value},this.emitOnEditStart=e=>{t.emit(`onEditStart:${e}`,this.get(e),e,ns(ns({},this.getInput(e)),{},{get:this.get}))},this.emitOnEditEnd=e=>{t.emit(`onEditEnd:${e}`,this.get(e),e,ns(ns({},this.getInput(e)),{},{get:this.get}))},this.subscribeToEditStart=(e,n)=>{let r=`onEditStart:${e}`;return t.on(r,n),()=>t.off(r,n)},this.subscribeToEditEnd=(e,n)=>{let r=`onEditEnd:${e}`;return t.on(r,n),()=>t.off(r,n)};let a=(e,t,r)=>{let l={};return Object.entries(e).forEach(([e,s])=>{if(""===e)return t6(i.EMPTY_KEY);let u=ar(t,e);if(s.type===o.FOLDER){let c=a(s.schema,u,r);Object.assign(l,c),u in n||(n[u]=s.settings)}else if(e in r)t6(i.DUPLICATE_KEYS,e,u,r[e].path);else{let f=function(e,t,n,r){let i=function e(t,n,r={},i){var a,l;if("object"!=typeof t||Array.isArray(t))return{type:i,input:t,options:ns({key:n,label:n,optional:!1,disabled:!1,order:0},r)};if("__customInput"in t){let{type:s,__customInput:u}=t,c=t3(t,nE);return e(u,n,c,s)}let{render:f,label:d,optional:p,order:h=0,disabled:m,hint:g,onChange:y,onEditStart:b,onEditEnd:x,transient:_}=t,w=t3(t,nC),S=ns({render:f,key:n,label:null!=d?d:n,hint:g,transient:null!=_?_:!!y,onEditStart:b,onEditEnd:x,disabled:m,optional:p,order:h},r),{type:E}=w,C=t3(w,nP);return(E=null!=i?i:E)in o?{type:E,input:C,options:S}:{type:E,input:i&&nw(C)&&"value"in C?C.value:nS(C)?void 0:C,options:ns(ns({},S),{},{onChange:y,optional:null!==(a=S.optional)&&void 0!==a&&a,disabled:null!==(l=S.disabled)&&void 0!==l&&l})}}(e,t),{type:a,input:l,options:s}=i;if(a)return a in o?i:{type:a,input:no(a,l,n,r),options:s};let u=nr(l);return u?{type:u,input:no(u,l,n,r),options:s}:!!(u=nr({value:l}))&&{type:u,input:no(u,{value:l},n,r),options:s}}(s,e,u,l);if(f){let{type:d,options:p,input:h}=f,{onChange:m,transient:g,onEditStart:y,onEditEnd:b}=p,x=t3(p,aX);l[u]=ns(ns(ns({type:d},x),h),{},{fromPanel:!0}),r[e]={path:u,onChange:m,transient:g,onEditStart:y,onEditEnd:b}}else t6(i.UNKNOWN_INPUT,u,s)}}),l};this.getDataFromSchema=e=>{let t={},n=a(e,"",t);return[n,t]}},a0={collapsed:!1},a1=e=>"__levaInput"in e,a2=(e,t)=>{let n={},r=t?t.toLowerCase():null;return e.forEach(e=>{let[t,i]=function(e){let t=e.split(".");return[t.pop(),t.join(".")||void 0]}(e);(!r||t.toLowerCase().indexOf(r)>-1)&&an()(n,i,{[t]:{__levaInput:!0,path:e}})}),n},a3=["type","label","path","valueKey","value","settings","setValue","disabled"];function a4(e){let{type:t,label:n,path:r,valueKey:o,value:a,settings:l,setValue:u,disabled:c}=e,f=t3(e,a3),{displayValue:d,onChange:p,onUpdate:h}=rE({type:t,value:a,settings:l,setValue:u}),m=nn[t].component;return m?s.createElement(nF.Provider,{value:ns({key:o,path:r,id:""+r,label:n,displayValue:d,value:a,onChange:p,onUpdate:h,settings:l,setValue:u,disabled:c},f)},s.createElement(rc,{disabled:c},s.createElement(m,null))):(t6(i.NO_COMPONENT_FOR_TYPE,t,r),null)}let a5=nQ("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}}),a6=nQ("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),a8=nQ("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),a9=({label:e,opts:t})=>{let n="string"==typeof e&&""===e.trim()?null:e,r=t;return"object"==typeof t.opts&&(void 0!==r.label&&(n=t.label),r=t.opts),{label:n,opts:r}},a7=nQ("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),le=(0,s.forwardRef)(function({initialValue:e},t){let n=n2("colors","highlight3"),r=n2("colors","elevation2"),i=n2("colors","highlight1"),[o,a]=(0,s.useMemo)(()=>[iF(i).alpha(.4).toRgbString(),iF(i).alpha(.1).toRgbString()],[i]),l=(0,s.useRef)([e]),u=(0,s.useRef)(e),c=(0,s.useRef)(e),f=(0,s.useRef)(),d=(0,s.useCallback)((e,t)=>{if(!e)return;let{width:i,height:s}=e,f=new Path2D,d=i/100,p=.05*s;for(let h=0;h<l.current.length;h++){let m=np(l.current[h],u.current,c.current),g=d*h,y=s-m*(s-2*p)-p;f.lineTo(g,y)}t.clearRect(0,0,i,s);let b=new Path2D(f);b.lineTo(d*(l.current.length+1),s),b.lineTo(0,s),b.lineTo(0,0);let x=t.createLinearGradient(0,0,0,s);x.addColorStop(0,o),x.addColorStop(1,a),t.fillStyle=x,t.fill(b),t.strokeStyle=r,t.lineJoin="round",t.lineWidth=14,t.stroke(f),t.strokeStyle=n,t.lineWidth=2,t.stroke(f)},[n,r,o,a]),[p,h]=function(e){let t=(0,s.useRef)(null),n=(0,s.useRef)(null),r=(0,s.useRef)(!1);return(0,s.useEffect)(()=>{let i=nM(()=>{t.current.width=t.current.offsetWidth*window.devicePixelRatio,t.current.height=t.current.offsetHeight*window.devicePixelRatio,e(t.current,n.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[e]),(0,s.useEffect)(()=>{n.current=t.current.getContext("2d")},[]),[t,n]}(d);return(0,s.useImperativeHandle)(t,()=>({frame(e){var t;(void 0===u.current||e<u.current)&&(u.current=e),(void 0===c.current||e>c.current)&&(c.current=e),(t=l.current).push(e),t.length>100&&t.shift(),f.current=requestAnimationFrame(()=>d(p.current,h.current))}}),[p,h,d]),(0,s.useEffect)(()=>()=>cancelAnimationFrame(f.current),[]),s.createElement(a7,{ref:p})}),lt=e=>Number.isFinite(e)?e.toPrecision(2):e.toString(),ln=(0,s.forwardRef)(function({initialValue:e},t){let[n,r]=(0,s.useState)(lt(e));return(0,s.useImperativeHandle)(t,()=>({frame:e=>r(lt(e))}),[]),s.createElement("div",null,n)});function lr(e){return"function"==typeof e?e():e.current}let li=["type","label","key"],lo={[o.BUTTON]:function({onClick:e,settings:t,label:n}){let r=nK();return s.createElement(rS,null,s.createElement(a5,{disabled:t.disabled,onClick:()=>e(r.get)},n))},[o.BUTTON_GROUP]:function(e){let{label:t,opts:n}=a9(e),r=nK();return s.createElement(rS,{input:!!t},t&&s.createElement(ry,null,t),s.createElement(a6,null,Object.entries(n).map(([e,t])=>s.createElement(a8,{key:e,onClick:()=>t(r.get)},e))))},[o.MONITOR]:function({label:e,objectOrFn:t,settings:n}){let r=(0,s.useRef)(),i=(0,s.useRef)(lr(t));return(0,s.useEffect)(()=>{let e=window.setInterval(()=>{var e;document.hidden||null===(e=r.current)||void 0===e||e.frame(lr(t))},n.interval);return()=>window.clearInterval(e)},[t,n.interval]),s.createElement(rS,{input:!0},s.createElement(ry,{align:"top"},e),n.graph?s.createElement(le,{ref:r,initialValue:i.current}):s.createElement(ln,{ref:r,initialValue:i.current}))}},la=s.memo(({path:e})=>{let[t,{set:n,setSettings:r,disable:a,storeId:l,emitOnEditStart:u,emitOnEditEnd:c}]=function(e){let t=nK(),[n,r]=(0,s.useState)(rk(t.getData(),e)),i=(0,s.useCallback)(n=>t.setValueAtPath(e,n,!0),[e,t]),o=(0,s.useCallback)(n=>t.setSettingsAtPath(e,n),[e,t]),a=(0,s.useCallback)(n=>t.disableInputAtPath(e,n),[e,t]),l=(0,s.useCallback)(()=>t.emitOnEditStart(e),[e,t]),u=(0,s.useCallback)(()=>t.emitOnEditEnd(e),[e,t]);return(0,s.useEffect)(()=>{r(rk(t.getData(),e));let n=t.useStore.subscribe(t=>rk(t.data,e),r,{equalityFn:S});return()=>n()},[t,e]),[n,{set:i,setSettings:o,disable:a,storeId:t.storeId,emitOnEditStart:l,emitOnEditEnd:u}]}(e);if(!t)return null;let{type:f,label:d,key:p}=t,h=t3(t,li);if(f in o){let m=lo[f];return s.createElement(m,nB({label:d,path:e},h))}return f in nn?s.createElement(a4,nB({key:l+e,type:f,label:d,storeId:l,path:e,valueKey:p,setValue:n,setSettings:r,disable:a,emitOnEditStart:u,emitOnEditEnd:c},h)):(t8(i.UNSUPPORTED_INPUT,f,e),null)});function ll({toggle:e,toggled:t,name:n}){return s.createElement(rr,{onClick:()=>e()},s.createElement(r_,{toggled:t}),s.createElement("div",null,n))}let ls=({name:e,path:t,tree:n})=>{let r=nK(),i=ar(t,e),{collapsed:o,color:a}=r.getFolderSettings(i),[l,u]=(0,s.useState)(!o),c=(0,s.useRef)(null),f=n2("colors","folderWidgetColor"),d=n2("colors","folderTextColor");return(0,s.useLayoutEffect)(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",a||f),c.current.style.setProperty("--leva-colors-folderTextColor",a||d)},[a,f,d]),s.createElement(rt,{ref:c},s.createElement(ll,{name:e,toggled:l,toggle:()=>u(e=>!e)}),s.createElement(lu,{parent:i,tree:n,toggled:l}))},lu=s.memo(({isRoot:e=!1,fill:t=!1,flat:n=!1,parent:r,tree:i,toggled:o})=>{let{wrapperRef:a,contentRef:l}=function(e){let t=(0,s.useRef)(null),n=(0,s.useRef)(null),r=(0,s.useRef)(!0);return(0,s.useLayoutEffect)(()=>{e||(t.current.style.height="0px",t.current.style.overflow="hidden")},[]),(0,s.useEffect)(()=>{let i;if(r.current){r.current=!1;return}let o=t.current,a=()=>{e&&(o.style.removeProperty("height"),o.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};o.addEventListener("transitionend",a,{once:!0});let{height:l}=n.current.getBoundingClientRect();return o.style.height=l+"px",e||(o.style.overflow="hidden",i=window.setTimeout(()=>o.style.height="0px",50)),()=>{o.removeEventListener("transitionend",a),clearTimeout(i)}},[e]),{wrapperRef:t,contentRef:n}}(o),u=nK(),c=([e,t])=>{var n;let i=a1(t)?null===(n=u.getInput(t.path))||void 0===n?void 0:n.order:u.getFolderSettings(ar(r,e)).order;return i||0},f=Object.entries(i).sort((e,t)=>c(e)-c(t));return s.createElement(rn,{ref:a,isRoot:e,fill:t,flat:n},s.createElement(ri,{ref:l,isRoot:e,toggled:o},f.map(([e,t])=>a1(t)?s.createElement(la,{key:t.path,valueKey:t.valueKey,path:t.path}):s.createElement(ls,{key:e,name:e,path:r,tree:t}))))}),lc=nQ("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${ra}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),lf=nQ("i",{$flexCenter:"",width:40,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),ld=nQ("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),lp=nQ("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${lf}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),lh=nQ("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),lm=nQ("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:40}}}}),lv=s.forwardRef(({setFilter:e,toggle:t},n)=>{let[r,i]=(0,s.useState)(""),o=(0,s.useMemo)(()=>nM(e,250),[e]),a=()=>{e(""),i("")},l=e=>{let n=e.currentTarget.value;t(!0),i(n)};return(0,s.useEffect)(()=>{o(r)},[r,o]),s.createElement(s.Fragment,null,s.createElement(lh,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:e=>e.stopPropagation(),onChange:l}),s.createElement(lf,{onClick:()=>a(),style:{visibility:r?"visible":"hidden"}},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function lg({setFilter:e,onDrag:t,onDragStart:n,onDragEnd:r,toggle:i,toggled:o,title:a,drag:l,filterEnabled:u,from:c}){let[f,d]=(0,s.useState)(!1),p=(0,s.useRef)(null);(0,s.useEffect)(()=>{var e,t;f?null===(e=p.current)||void 0===e||e.focus():null===(t=p.current)||void 0===t||t.blur()},[f]);let h=rC(({offset:[e,i],first:o,last:a})=>{t({x:e,y:i}),o&&n({x:e,y:i}),a&&r({x:e,y:i})},{filterTaps:!0,from:({offset:[e,t]})=>[(null==c?void 0:c.x)||e,(null==c?void 0:c.y)||t]});return(0,s.useEffect)(()=>{let e=e=>{"L"===e.key&&e.shiftKey&&e.metaKey&&d(e=>!e)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),s.createElement(s.Fragment,null,s.createElement(ld,{mode:l?"drag":void 0},s.createElement(lf,{active:!o,onClick:()=>i()},s.createElement(r_,{toggled:o,width:12,height:8})),s.createElement(lm,nB({},l?h():{},{drag:l,filterEnabled:u}),void 0===a&&l?s.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},s.createElement("circle",{cx:"2",cy:"2",r:"2"}),s.createElement("circle",{cx:"14",cy:"2",r:"2"}),s.createElement("circle",{cx:"26",cy:"2",r:"2"}),s.createElement("circle",{cx:"2",cy:"12",r:"2"}),s.createElement("circle",{cx:"14",cy:"12",r:"2"}),s.createElement("circle",{cx:"26",cy:"12",r:"2"})):a),u&&s.createElement(lf,{active:f,onClick:()=>d(e=>!e)},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},s.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),s.createElement(lp,{toggled:f},s.createElement(lv,{ref:p,setFilter:e,toggle:i})))}let ly=["store","hidden","theme","collapsed"];function lb(e){let{store:t,hidden:n=!1,theme:r,collapsed:i=!1}=e,o=t3(e,ly),a=ai(()=>(function(e){let t=nG();if(!e)return{theme:t,className:""};Object.keys(e).forEach(n=>{Object.assign(t[n],e[n])});let n=nX(t);return{theme:t,className:n.className}})(r),[r]),[l,u]=(0,s.useState)(!i),c="object"==typeof i?!i.collapsed:l,f=(0,s.useMemo)(()=>"object"==typeof i?e=>{"function"==typeof e?i.onChange(!e(!i.collapsed)):i.onChange(!e)}:u,[i]);return!t||n?null:s.createElement(nH.Provider,{value:a},s.createElement(lx,nB({store:t},o,{toggled:c,setToggle:f,rootClass:a.className})))}let lx=s.memo(({store:e,rootClass:t,fill:n=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:o=!1,titleBar:a={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:l=!1,toggled:u,setToggle:c})=>{var f,d;let p=ao(e),[h,m]=(0,s.useState)(""),g=(0,s.useMemo)(()=>a2(p,h),[p,h]),[y,b]=rP(),x=i||p.length>0,_="object"==typeof a&&a.title||void 0,w="object"!=typeof a||null===(f=a.drag)||void 0===f||f,S="object"!=typeof a||null===(d=a.filter)||void 0===d||d,E="object"==typeof a&&a.position||void 0,C="object"==typeof a&&a.onDrag||void 0,P="object"==typeof a&&a.onDragStart||void 0,z="object"==typeof a&&a.onDragEnd||void 0;return s.useEffect(()=>{b({x:null==E?void 0:E.x,y:null==E?void 0:E.y})},[E,b]),n1(),s.createElement(nW.Provider,{value:{hideCopyButton:l}},s.createElement(lc,{ref:y,className:t,fill:n,flat:r,oneLineLabels:o,hideTitleBar:!a,style:{display:x?"block":"none"}},a&&s.createElement(lg,{onDrag(e){b(e),null==C||C(e)},onDragStart:e=>null==P?void 0:P(e),onDragEnd:e=>null==z?void 0:z(e),setFilter:m,toggle:e=>c(t=>null!=e?e:!t),toggled:u,title:_,drag:w,filterEnabled:S,from:E}),x&&s.createElement(nV.Provider,{value:e},s.createElement(lu,{isRoot:!0,fill:n,flat:r,tree:g,toggled:u}))))}),l_=["isRoot"],lw=!1,lS=null;function lE(e){let{isRoot:t=!1}=e,n=t3(e,l_);return(0,s.useEffect)(()=>(lw=!0,!t&&lS&&(lS.remove(),lS=null),()=>{t||(lw=!1)}),[t]),s.createElement(lb,nB({store:aJ},n))}function lC(e,t,n,r,i){let a,u,c,f,d;let{folderName:p,schema:h,folderSettings:m,hookSettings:g,deps:y}=("string"==typeof e?(d=e,a=t,Array.isArray(n)?f=n:n&&("store"in n?(c=n,f=r):(u=n,Array.isArray(r)?f=r:(c=r,f=i)))):(a=e,Array.isArray(t)?f=t:(c=t,f=n)),{schema:a,folderName:d,folderSettings:u,hookSettings:c,deps:f||[]}),b=(0,s.useRef)(!1),x=(0,s.useRef)(!0),_=ai(()=>{b.current=!0;let e="function"==typeof h?h():h;return p?{[p]:{type:o.FOLDER,schema:e,settings:ns(ns({},a0),m)}}:e},y),w=!(null!=g&&g.store);(0,s.useEffect)(()=>{w&&!lw&&(!lS&&(lS=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(lS),function(e,t){let n=console.error;console.error=()=>{},l.render(e,t),console.error=n}(s.createElement(lE,{isRoot:!0}),lS))),lw=!0)},[w]);let[E]=(0,s.useState)(()=>(null==g?void 0:g.store)||aJ),[C,P]=(0,s.useMemo)(()=>E.getDataFromSchema(_),[E,_]),[z,k,O,M,T]=(0,s.useMemo)(()=>{let e=[],t=[],n={},r={},i={};return Object.values(P).forEach(({path:o,onChange:a,onEditStart:l,onEditEnd:s,transient:u})=>{e.push(o),a?(n[o]=a,u||t.push(o)):t.push(o),l&&(r[o]=l),s&&(i[o]=s)}),[e,t,n,r,i]},[P]),j=(0,s.useMemo)(()=>E.orderPaths(z),[z,E]),R=function(e,t,n){let r=e.useStore(e=>{let r=ns(ns({},n),e.data);return Object.entries(t.reduce((e,t)=>(r&&r.hasOwnProperty(t)&&(e[t]=r[t]),e),{})).reduce((e,[,{value:t,disabled:n,key:r}])=>(e[r]=n?void 0:t,e),{})},S);return r}(E,k,C),I=(0,s.useCallback)(e=>{let t=Object.entries(e).reduce((e,[t,n])=>Object.assign(e,{[P[t].path]:n}),{});E.set(t,!1)},[E,P]),A=(0,s.useCallback)(e=>E.get(P[e].path),[E,P]);return((0,s.useEffect)(()=>{let e=!x.current&&b.current;return E.addData(C,e),x.current=!1,b.current=!1,()=>E.disposePaths(j)},[E,j,C]),(0,s.useEffect)(()=>{let e=[];return Object.entries(O).forEach(([t,n])=>{n(E.get(t),t,ns({initial:!0,get:E.get},E.getInput(t)));let r=E.useStore.subscribe(e=>{let n=e.data[t],r=n.disabled?void 0:n.value;return[r,n]},([e,r])=>n(e,t,ns({initial:!1,get:E.get},r)),{equalityFn:S});e.push(r)}),()=>e.forEach(e=>e())},[E,O]),(0,s.useEffect)(()=>{let e=[];return Object.entries(M).forEach(([t,n])=>e.push(E.subscribeToEditStart(t,n))),Object.entries(T).forEach(([t,n])=>e.push(E.subscribeToEditEnd(t,n))),()=>e.forEach(e=>e())},[M,T,E]),"function"==typeof h)?[R,I,A]:R}ni(a.SELECT,rY),ni(a.IMAGE,aN),ni(a.NUMBER,rL),ni(a.COLOR,ab),ni(a.STRING,r3),ni(a.BOOLEAN,r7),ni(a.INTERVAL,aY),ni(a.VECTOR3D,ax),ni(a.VECTOR2D,ak)},427:function(e,t,n){"use strict";n.d(t,{v:function(){return i},U:function(){return o}});var r=n(9477);function i(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=[],i=0,o=0;i<e.length;i+=t,o++)3===t?n[o]=new r.Vector3(e[i],e[i+1],e[i+2]):n[o]=new r.Vector2(e[i],e[i+1]);return n}function o(e){for(var t=e.length,n=e[0].hasOwnProperty("z")?3:2,r=new Float32Array(t*n),i=0;i<t;i++){var o=i*n;r[o]=e[i].x,r[o+1]=e[i].y,3===n&&(r[o+2]=e[i].z)}return r}},8481:function(e,t,n){"use strict";n.d(t,{Zr:function(){return ti},qz:function(){return ts}});var r,i,o,a,l,s,u,c,f,d,p,h,m,g,y,b,x,_,w,S,E,C,P,z,k,O,M,T,j,R,I,A,$,D,N,L,B={};n.r(B),n.d(B,{Acceleration:function(){return eY},Alpha:function(){return eQ},Billboard:function(){return eZ},Color:function(){return eX},CustomModule:function(){return e9},Fresnel:function(){return eJ},Gradient:function(){return e0},Lifetime:function(){return e1},Rotate:function(){return e2},Scale:function(){return e3},Softness:function(){return e4},SurfaceWobble:function(){return e5},Texture:function(){return e6},Translate:function(){return eq},Velocity:function(){return e8}});var F=n(7737),U=n(3735);function H(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.position,n=e.normal,d=e.color,p=e.emissiveColor,h=e.roughness,m=e.metalness,g=e.alpha;return(0,F.h)({name:"PatchedMaterial Master",vertex:{body:(0,F.$)(r||(r=H(["\n        ","\n        ","\n      "])),void 0!==t?(0,F.$)(i||(i=H(["patched_Position.xyz = ",";"])),t):"",void 0!==n?(0,F.$)(o||(o=H(["patched_Normal = ",";"])),n):"")},fragment:{body:(0,F.$)(a||(a=H(["\n        ","\n        ","\n        ","\n\n        #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL\n          ","\n          ","\n        #endif\n      "])),void 0!==g?(0,F.$)(l||(l=H(["patched_Alpha = ",";"])),g):"",void 0!==d?(0,F.$)(s||(s=H(["patched_Color = ",";"])),d):"",void 0!==p?(0,F.$)(u||(u=H(["patched_Emissive = ",";"])),p):"",void 0!==h?(0,F.$)(c||(c=H(["patched_Roughness = ",";"])),h):"",void 0!==m?(0,F.$)(f||(f=H(["patched_Metalness = ",";"])),m):"")}})};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach(function(t){var r,i;r=e,i=n[t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.vertexShader,r=t.fragmentShader,i=t.uniforms,o=void 0===i?{}:i,a=(0,U.ls)(X(e),n?J(n):U.yR,ee,et),l=(0,U.ls)(X(e),r?J(r):U.yR,ei,en,er);e.onBeforeCompile=function(e){e.vertexShader=a(e.vertexShader),e.fragmentShader=l(e.fragmentShader),e.uniforms=K(K({},e.uniforms),o)},e.needsUpdate=!0;var s=String(Math.random());e.customProgramCacheKey=function(){return s}},q=function(e){var t=RegExp(/([\s\S]*)void\s+main\(\)\s+\{([\s\S]*)\}/).exec(e);if(!t)throw Error("Could not parse shader program. Boo!");return{header:t[1],body:t[2]}},Y=function(e){return{with:function(t){return function(n){return n.replace(e,"".concat(e,"\n").concat(t))}}}},Q=function(e){return{with:function(t){return function(n){return n.replace(e,"".concat(t,"\n").concat(e))}}}},Z=function(e){return{with:function(t){return function(n){return n.replace(e,t)}}}},X=function(e){return(0,U.ls)(Q("void main() {").with("#define IS_".concat(e.type.toUpperCase(),";")))},J=function(e){var t=q(e);return(0,U.ls)(Q("void main() {").with(t.header),Y("void main() {").with(t.body))},ee=(0,U.ls)(Y("void main() {").with("vec3 patched_Position = position;"),Y("#include <begin_vertex>").with("transformed = patched_Position;")),et=(0,U.ls)(Y("void main() {").with("vec3 patched_Normal = normal;"),Z("#include <beginnormal_vertex>").with("\n    vec3 objectNormal = patched_Normal;\n    #ifdef USE_TANGENT\n      vec3 objectTangent = vec3( tangent.xyz );\n    #endif\n  ")),en=(0,U.ls)(Y("void main() {").with("\n    #if defined IS_SHADERMATERIAL || defined IS_MESHDEPTHMATERIAL || defined IS_MESHNORMALMATERIAL\n      vec3 patched_Color = vec3(1.0, 0.0, 0.0);\n      float patched_Alpha = 1.0;\n    #else\n      vec3 patched_Color = diffuse;\n      float patched_Alpha = opacity;\n    #endif\n\n    #ifdef USE_MAP\n      vec4 _patched_map_sample = texture2D(map, vUv);\n      patched_Color *= _patched_map_sample.rgb;\n      patched_Alpha *= _patched_map_sample.a;\n    #endif\n  "),Y("#include <color_fragment>").with("diffuseColor = vec4(patched_Color, patched_Alpha);")),er=(0,U.ls)(Y("void main() {").with("\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL\n    vec3 patched_Emissive = emissive;\n    #else\n    vec3 patched_Emissive = vec3(1.0, 1.0, 1.0);\n    #endif\n  "),Z("vec3 totalEmissiveRadiance = emissive;").with("vec3 totalEmissiveRadiance = patched_Emissive;")),ei=(0,U.ls)(Y("void main() {").with("\n    #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL\n    float patched_Roughness = roughness;\n    float patched_Metalness = metalness;\n    #else\n    float patched_Roughness = 0.0;\n    float patched_Metalness = 0.0;\n    #endif\n  "),Y("#include <roughnessmap_fragment>").with("roughnessFactor = patched_Roughness;"),Y("#include <metalnessmap_fragment>").with("metalnessFactor = patched_Metalness;")),eo=n(7294),ea=n(9477);function el(){return(el=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function es(e,t){return(es=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eu(e,t,n){return(eu=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&es(i,n.prototype),i}:Reflect.construct.bind()).apply(null,arguments)}function ec(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ef(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,eo.useMemo)(function(){return e()},t);return(0,eo.useLayoutEffect)(function(){return function(){var e;return null===(e=n.dispose)||void 0===e?void 0:e.call(n)}},[n]),n},ep=["args","vertexShader","fragmentShader","uniforms"],eh=["instance","vertexShader","fragmentShader","uniforms"],em=function(e){return(0,eo.forwardRef)(function(t,n){var r=t.args,i=void 0===r?[]:r,o=t.vertexShader,a=t.fragmentShader,l=t.uniforms,s=ef(t,ep),u=ed(function(){return eu(e,function(e){if(Array.isArray(e))return ec(e)}(i)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return ec(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ec(e,t)}}(i)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},[o,a,l]);return(0,eo.useLayoutEffect)(function(){G(u,{vertexShader:o,fragmentShader:a,uniforms:l})},[u]),eo.createElement("primitive",el({object:u,ref:n},s))})};function ev(e,t){var n=e.instance,r=e.vertexShader,i=e.fragmentShader,o=e.uniforms,a=ef(e,eh);return(0,eo.useLayoutEffect)(function(){G(n,{vertexShader:r,fragmentShader:i,uniforms:o})},[n,r,i,o]),(0,eo.useImperativeHandle)(t,function(){return n}),eo.createElement("primitive",el({object:n},a))}var eg={LineBasicMaterial:em(ea.LineBasicMaterial),LineDashedMaterial:em(ea.LineDashedMaterial),MeshBasicMaterial:em(ea.MeshBasicMaterial),MeshDepthMaterial:em(ea.MeshDepthMaterial),MeshDistanceMaterial:em(ea.MeshDistanceMaterial),MeshLambertMaterial:em(ea.MeshLambertMaterial),MeshMatcapMaterial:em(ea.MeshMatcapMaterial),MeshNormalMaterial:em(ea.MeshNormalMaterial),MeshPhongMaterial:em(ea.MeshPhongMaterial),MeshPhysicalMaterial:em(ea.MeshPhysicalMaterial),MeshStandardMaterial:em(ea.MeshStandardMaterial),MeshToonMaterial:em(ea.MeshToonMaterial),PointsMaterial:em(ea.PointsMaterial),ShadowMaterial:em(ea.ShadowMaterial),SpriteMaterial:em(ea.SpriteMaterial),Material:(0,eo.forwardRef)(ev),lineBasicMaterial:em(ea.LineBasicMaterial),lineDashedMaterial:em(ea.LineDashedMaterial),meshBasicMaterial:em(ea.MeshBasicMaterial),meshDepthMaterial:em(ea.MeshDepthMaterial),meshDistanceMaterial:em(ea.MeshDistanceMaterial),meshLambertMaterial:em(ea.MeshLambertMaterial),meshMatcapMaterial:em(ea.MeshMatcapMaterial),meshNormalMaterial:em(ea.MeshNormalMaterial),meshPhongMaterial:em(ea.MeshPhongMaterial),meshPhysicalMaterial:em(ea.MeshPhysicalMaterial),meshStandardMaterial:em(ea.MeshStandardMaterial),meshToonMaterial:em(ea.MeshToonMaterial),pointsMaterial:em(ea.PointsMaterial),shadowMaterial:em(ea.ShadowMaterial),spriteMaterial:em(ea.SpriteMaterial),material:(0,eo.forwardRef)(ev)},ey=n(3041);function eb(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ex(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function e_(e){return function(e){if(Array.isArray(e))return ex(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ex(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ex(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ew=function(e){return function(t,n,r){return 0===r?t:e(t,n,r)}},eS={normal:ew(function(e,t,n){return 1===n?t:0===n?e:(0,F.M)(e,t,n)}),discard:ew(function(e){return e}),add:ew(function(e,t,n){return(0,F.U)((0,F.t)(e),(0,F.$)(d||(d=eb(["min("," + ",", 1.0) * "," + "," * (1.0 - ",")"])),e,t,n,e,n))})},eE=function(e){var t=e.modules,n=void 0===t?[]:t,r=e.opacity,i=void 0===r?1:r,o=e.blend,a=void 0===o?eS.normal:o;return function(e){var t=eC.apply(void 0,[e].concat(e_(n)));return{color:("string"==typeof a?eS[a]:ew(a))(e.color,t.color,i),position:eS.normal(e.position,t.position,i),alpha:eS.normal(e.alpha,t.alpha,i),normal:eS.normal(e.normal,t.normal,i),roughness:eS.normal(e.roughness,t.roughness,i),metalness:eS.normal(e.metalness,t.metalness,i)}}},eC=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return U.zG.apply(void 0,[e].concat(e_(n)))},eP=n(8803);function ez(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ek=function(e,t){var n,r=function(e){if(Array.isArray(e))return e}(n=(0,eo.useMemo)(function(){return(0,ey.M8)(e())},t))||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,l=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==i.return||i.return()}finally{if(l)throw r}}return o}}(n,2)||function(e,t){if(e){if("string"==typeof e)return ez(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ez(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=r[0],o=r[1],a=o.update,l=o.dispose;return(0,eo.useEffect)(function(){return function(){return l()}},t),(0,eP.A)(function(e,t){a(t,e.camera,e.scene,e.gl)}),i};function eO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eO(Object(n),!0).forEach(function(t){var r,i;r=e,i=n[t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ej=function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,eo.useState)(function(){return{list:[],version:0}}))||function(e,t){var n,r,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,l=!1;try{for(i=i.call(e);!(a=(n=i.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==i.return||i.return()}finally{if(l)throw r}}return o}}(e,2)||function(e,t){if(e){if("string"==typeof e)return eT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eT(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],r=t[1],i=function(){return r(function(e){return eM(eM({},e),{},{version:e.version+1})})},o=function(e){n.list.push(e)},a=function(e){var t=n.list.indexOf(e);-1!==t&&n.list.splice(t,1)};return eM(eM({},n),{},{bumpVersion:i,useItem:function(e){(0,eo.useLayoutEffect)(function(){return i(),function(){return i()}},[e]),(0,eo.useLayoutEffect)(function(){return o(e),function(){return a(e)}},[n.version])},addItem:o,removeItem:a})};function eR(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var eI=(0,F.j)(function(e){return(0,F.k)(y||(y=eR(["\n    vec3 ","(vec3 x)\n    {\n      return x - floor(x * (1.0 / 289.0)) * 289.0;\n    }\n\n    vec4 ","(vec4 x)\n    {\n      return x - floor(x * (1.0 / 289.0)) * 289.0;\n    }\n  "])),e,e)}),eA=(0,F.j)(function(e){return(0,F.k)(b||(b=eR(["\n			vec4 ","(vec4 x)\n			{\n				return ","(((x*34.0)+10.0)*x);\n			}\n		"])),e,eI)}),e$=(0,F.j)(function(e){return(0,F.k)(x||(x=eR(["\n    vec4 ","(vec4 r)\n    {\n      return 1.79284291400159 - 0.85373472095314 * r;\n    }\n  "])),e)});(0,F.j)(function(e){return(0,F.k)(_||(_=eR(["\n		float ","(vec3 v){\n			const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n			const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n			// First corner\n			vec3 i  = floor(v + dot(v, C.yyy) );\n			vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n			// Other corners\n			vec3 g = step(x0.yzx, x0.xyz);\n			vec3 l = 1.0 - g;\n			vec3 i1 = min( g.xyz, l.zxy );\n			vec3 i2 = max( g.xyz, l.zxy );\n\n			//  x0 = x0 - 0. + 0.0 * C\n			vec3 x1 = x0 - i1 + 1.0 * C.xxx;\n			vec3 x2 = x0 - i2 + 2.0 * C.xxx;\n			vec3 x3 = x0 - 1. + 3.0 * C.xxx;\n\n			// Permutations\n			i = mod(i, 289.0 );\n			vec4 p = ","( ","( ","(\n								i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n							+ i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n							+ i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n			// Gradients\n			// ( N*N points uniformly over a square, mapped onto an octahedron.)\n			float n_ = 1.0/7.0; // N=7\n			vec3  ns = n_ * D.wyz - D.xzx;\n\n			vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)\n\n			vec4 x_ = floor(j * ns.z);\n			vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n			vec4 x = x_ *ns.x + ns.yyyy;\n			vec4 y = y_ *ns.x + ns.yyyy;\n			vec4 h = 1.0 - abs(x) - abs(y);\n\n			vec4 b0 = vec4( x.xy, y.xy );\n			vec4 b1 = vec4( x.zw, y.zw );\n\n			vec4 s0 = floor(b0)*2.0 + 1.0;\n			vec4 s1 = floor(b1)*2.0 + 1.0;\n			vec4 sh = -step(h, vec4(0.0));\n\n			vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n			vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n			vec3 p0 = vec3(a0.xy,h.x);\n			vec3 p1 = vec3(a0.zw,h.y);\n			vec3 p2 = vec3(a1.xy,h.z);\n			vec3 p3 = vec3(a1.zw,h.w);\n\n			// Normalise gradients\n			vec4 norm = ","(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n			p0 *= norm.x;\n			p1 *= norm.y;\n			p2 *= norm.z;\n			p3 *= norm.w;\n\n			// Mix final noise value\n			vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n			m = m * m;\n			return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n																		dot(p2,x2), dot(p3,x3) ) );\n		}\n	"])),e,eA,eA,eA,e$)}),(0,F.j)(function(e){return(0,F.k)(w||(w=eR(["\n		float ","(float n) { return fract(sin(n) * 1e4); }\n\n		float ","(vec2 p) {\n			return fract(1e4 * sin(17.0 * p.x + p.y * 0.1) *\n									 (0.1 + abs(sin(p.y * 13.0 + p.x))));\n		}\n	"])),e,e)}),(0,F.j)(function(e){return(0,F.k)(S||(S=eR(["\n		vec2 ","(vec2 p) {\n			return fract(\n				sin(vec2(dot(p, vec2(127.1, 311.7)), dot(p, vec2(269.5, 183.3)))) * 43758.5453\n			);\n		}\n	"])),e)}),(0,F.j)(function(e){return(0,F.k)(E||(E=eR(["\n		vec2 ","(vec3 p) {\n			return mod(((p * 34.0) + 1.0) * p, 289.0);\n		}\n	"])),e)});var eD=(0,F.j)(function(e){return(0,F.k)(C||(C=eR(["\n		vec4 ","(vec4 p) { return mod(((p * 34.0) + 1.0) * p, 289.0); }\n	"])),e)}),eN=(0,F.j)(function(e){return(0,F.k)(P||(P=eR(["\n		vec2 ","(vec2 t) { return t * t * t * (t * (t * 6.0 - 15.0) + 10.0); }\n		vec3 ","(vec3 t) { return t * t * t * (t * (t * 6.0 - 15.0) + 10.0); }\n  "])),e,e)}),eL=(0,F.j)(function(e){return(0,F.k)(z||(z=eR(["\n		float ","(vec2 P) {\n			vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n			vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n			Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n			vec4 ix = Pi.xzxz;\n			vec4 iy = Pi.yyww;\n			vec4 fx = Pf.xzxz;\n			vec4 fy = Pf.yyww;\n			vec4 i = ","(","(ix) + iy);\n			vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n			vec4 gy = abs(gx) - 0.5;\n			vec4 tx = floor(gx + 0.5);\n			gx = gx - tx;\n			vec2 g00 = vec2(gx.x, gy.x);\n			vec2 g10 = vec2(gx.y, gy.y);\n			vec2 g01 = vec2(gx.z, gy.z);\n			vec2 g11 = vec2(gx.w, gy.w);\n			vec4 norm =\n					1.79284291400159 - 0.85373472095314 * vec4(dot(g00, g00), dot(g01, g01),\n																										dot(g10, g10), dot(g11, g11));\n			g00 *= norm.x;\n			g01 *= norm.y;\n			g10 *= norm.z;\n			g11 *= norm.w;\n			float n00 = dot(g00, vec2(fx.x, fy.x));\n			float n10 = dot(g10, vec2(fx.y, fy.y));\n			float n01 = dot(g01, vec2(fx.z, fy.z));\n			float n11 = dot(g11, vec2(fx.w, fy.w));\n			vec2 fade_xy = ","(Pf.xy);\n			vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n			float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n			return 2.3 * n_xy;\n		}\n\n		float ","(vec3 P) {\n			vec3 Pi0 = floor(P);        // Integer part for indexing\n			vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n			Pi0 = mod(Pi0, 289.0);\n			Pi1 = mod(Pi1, 289.0);\n			vec3 Pf0 = fract(P);        // Fractional part for interpolation\n			vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n			vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n			vec4 iy = vec4(Pi0.yy, Pi1.yy);\n			vec4 iz0 = Pi0.zzzz;\n			vec4 iz1 = Pi1.zzzz;\n\n			vec4 ixy = ","(","(ix) + iy);\n			vec4 ixy0 = ","(ixy + iz0);\n			vec4 ixy1 = ","(ixy + iz1);\n\n			vec4 gx0 = ixy0 / 7.0;\n			vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\n			gx0 = fract(gx0);\n			vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n			vec4 sz0 = step(gz0, vec4(0.0));\n			gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n			gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n			vec4 gx1 = ixy1 / 7.0;\n			vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\n			gx1 = fract(gx1);\n			vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n			vec4 sz1 = step(gz1, vec4(0.0));\n			gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n			gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n			vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);\n			vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);\n			vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);\n			vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);\n			vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);\n			vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);\n			vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);\n			vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);\n\n			vec4 norm0 = ","(\n					vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n			g000 *= norm0.x;\n			g010 *= norm0.y;\n			g100 *= norm0.z;\n			g110 *= norm0.w;\n			vec4 norm1 = ","(\n					vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n			g001 *= norm1.x;\n			g011 *= norm1.y;\n			g101 *= norm1.z;\n			g111 *= norm1.w;\n\n			float n000 = dot(g000, Pf0);\n			float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n			float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n			float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n			float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n			float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n			float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n			float n111 = dot(g111, Pf1);\n\n			vec3 fade_xyz = ","(Pf0);\n			vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111),\n										fade_xyz.z);\n			vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n			float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n			return 2.2 * n_xyz;\n		}\n	"])),e,eD,eD,eN,e,eA,eA,eA,eA,e$,e$,eN)});function eB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eB(Object(n),!0).forEach(function(t){var r,i;r=e,i=n[t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,F.j)(function(e){return(0,F.$)(k||(k=eR(["\n		#define MAX_FBM_ITERATIONS 30\n\n		struct ","Opts {\n			float seed;\n			float persistance;\n			float lacunarity;\n			float scale;\n			float redistribution;\n			int octaves;\n			bool turbulence;\n			bool ridge;\n		};\n\n		float ","(vec2 p, ","Opts opts) {\n			p += (opts.seed * 100.0);\n			float persistance = opts.persistance;\n			float lacunarity = opts.lacunarity;\n			float redistribution = opts.redistribution;\n			int octaves = opts.octaves;\n			bool turbulence = opts.turbulence;\n			bool ridge = opts.turbulence && opts.ridge;\n\n			float result = 0.0;\n			float amplitude = 1.0;\n			float frequency = 1.0;\n			float maximum = amplitude;\n\n			for (int i = 0; i < MAX_FBM_ITERATIONS; i++) {\n				if (i >= octaves)\n					break;\n\n				vec2 p = p * frequency * opts.scale;\n\n				float noiseVal = ","(p);\n\n				if (turbulence)\n					noiseVal = abs(noiseVal);\n\n				if (ridge)\n					noiseVal = -1.0 * noiseVal;\n\n				result += noiseVal * amplitude;\n\n				frequency *= lacunarity;\n				amplitude *= persistance;\n				maximum += amplitude;\n			}\n\n			float redistributed = pow(result, redistribution);\n			return redistributed / maximum;\n		}\n\n		float ","(vec3 p, ","Opts opts) {\n			p += (opts.seed * 100.0);\n			float persistance = opts.persistance;\n			float lacunarity = opts.lacunarity;\n			float redistribution = opts.redistribution;\n			int octaves = opts.octaves;\n			bool turbulence = opts.turbulence;\n			bool ridge = opts.turbulence && opts.ridge;\n\n			float result = 0.0;\n			float amplitude = 1.0;\n			float frequency = 1.0;\n			float maximum = amplitude;\n\n			for (int i = 0; i < MAX_FBM_ITERATIONS; i++) {\n				if (i >= octaves)\n					break;\n\n				vec3 p = p * frequency * opts.scale;\n\n				float noiseVal = ","(p);\n\n				if (turbulence)\n					noiseVal = abs(noiseVal);\n\n				if (ridge)\n					noiseVal = -1.0 * noiseVal;\n\n				result += noiseVal * amplitude;\n\n				frequency *= lacunarity;\n				amplitude *= persistance;\n				maximum += amplitude;\n			}\n\n			float redistributed = pow(result, redistribution);\n			return redistributed / maximum;\n		}\n	"])),e,e,e,eL,e,e,eL)}),(0,F.j)(function(e){return(0,F.$)(O||(O=eR(["\n		vec3 ","(in vec2 p, in vec2 direction, in float steepness, in float wavelength, in float dt) {\n			float k = 2.0 * PI / wavelength;\n			float c = sqrt(9.8 / k);\n			vec2 d = normalize(direction);\n			float f = k * (dot(d, p.xy) - c * dt);\n			float a = steepness / k;\n\n			return vec3(d.x * (a * cos(f)), a * sin(f), d.y * (a * cos(f)));\n		}\n	"])),e)}),(0,F.j)(function(e){return(0,F.k)(M||(M=eR(['\n    //\n    // psrdnoise2.glsl\n    //\n    // Authors: Stefan Gustavson (stefan.gustavson@gmail.com)\n    // and Ian McEwan (ijm567@gmail.com)\n    // Version 2021-12-02, published under the MIT license (see below)\n    //\n    // Copyright (c) 2021 Stefan Gustavson and Ian McEwan.\n    //\n    // Permission is hereby granted, free of charge, to any person obtaining a\n    // copy of this software and associated documentation files (the "Software"),\n    // to deal in the Software without restriction, including without limitation\n    // the rights to use, copy, modify, merge, publish, distribute, sublicense,\n    // and/or sell copies of the Software, and to permit persons to whom the\n    // Software is furnished to do so, subject to the following conditions:\n    //\n    // The above copyright notice and this permission notice shall be included\n    // in all copies or substantial portions of the Software.\n    //\n    // THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n    // IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n    // FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n    // THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n    // LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    // FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n    // DEALINGS IN THE SOFTWARE.\n    //\n\n    //\n    // Periodic (tiling) 2-D simplex noise (hexagonal lattice gradient noise)\n    // with rotating gradients and analytic derivatives.\n    //\n    // This is (yet) another variation on simplex noise. Unlike previous\n    // implementations, the grid is axis-aligned and slightly stretched in\n    // the y direction to permit rectangular tiling.\n    // The noise pattern can be made to tile seamlessly to any integer period\n    // in x and any even integer period in y. Odd periods may be specified\n    // for y, but then the actual tiling period will be twice that number.\n    //\n    // The rotating gradients give the appearance of a swirling motion, and\n    // can serve a similar purpose for animation as motion along z in 3-D\n    // noise. The rotating gradients in conjunction with the analytic\n    // derivatives allow for "flow noise" effects as presented by Ken\n    // Perlin and Fabrice Neyret.\n    //\n\n\n    //\n    // 2-D tiling simplex noise with rotating gradients and analytical derivative.\n    // "vec2 x" is the point (x,y) to evaluate,\n    // "vec2 period" is the desired periods along x and y, and\n    // "float alpha" is the rotation (in radians) for the swirling gradients.\n    // The "float" return value is the noise value, and\n    // the "out vec2 gradient" argument returns the x,y partial derivatives.\n    //\n    // Setting either period to 0.0 or a negative value will skip the wrapping\n    // along that dimension. Setting both periods to 0.0 makes the function\n    // execute about 15% faster.\n    //\n    // Not using the return value for the gradient will make the compiler\n    // eliminate the code for computing it. This speeds up the function\n    // by 10-15%.\n    //\n    // The rotation by alpha uses one single addition. Unlike the 3-D version\n    // of psrdnoise(), setting alpha == 0.0 gives no speedup.\n    //\n\n    float ','(vec2 x, vec2 period, float alpha, out vec2 gradient) {\n      // Transform to simplex space (axis-aligned hexagonal grid)\n      vec2 uv = vec2(x.x + x.y*0.5, x.y);\n\n      // Determine which simplex we\'re in, with i0 being the "base"\n      vec2 i0 = floor(uv);\n      vec2 f0 = fract(uv);\n\n      // o1 is the offset in simplex space to the second corner\n      float cmp = step(f0.y, f0.x);\n      vec2 o1 = vec2(cmp, 1.0-cmp);\n\n      // Enumerate the remaining simplex corners\n      vec2 i1 = i0 + o1;\n      vec2 i2 = i0 + vec2(1.0, 1.0);\n\n      // Transform corners back to texture space\n      vec2 _v0 = vec2(i0.x - i0.y * 0.5, i0.y);\n      vec2 _v1 = vec2(_v0.x + o1.x - o1.y * 0.5, _v0.y + o1.y);\n      vec2 _v2 = vec2(_v0.x + 0.5, _v0.y + 1.0);\n\n      // Compute vectors from v to each of the simplex corners\n      vec2 x0 = x - _v0;\n      vec2 x1 = x - _v1;\n      vec2 x2 = x - _v2;\n\n      vec3 iu, iv;\n      vec3 xw, yw;\n\n      // Wrap to periods, if desired\n      if(any(greaterThan(period, vec2(0.0)))) {\n        xw = vec3(_v0.x, _v1.x, _v2.x);\n        yw = vec3(_v0.y, _v1.y, _v2.y);\n\n        if(period.x > 0.0)\n          xw = mod(vec3(_v0.x, _v1.x, _v2.x), period.x);\n\n        if(period.y > 0.0)\n          yw = mod(vec3(_v0.y, _v1.y, _v2.y), period.y);\n\n        // Transform back to simplex space and fix rounding errors\n        iu = floor(xw + 0.5*yw + 0.5);\n        iv = floor(yw + 0.5);\n      } else {\n        // Shortcut if neither x nor y periods are specified\n        iu = vec3(i0.x, i1.x, i2.x);\n        iv = vec3(i0.y, i1.y, i2.y);\n      }\n\n      // Compute one pseudo-random hash value for each corner\n      vec3 hash = mod(iu, 289.0);\n      hash = mod((hash*51.0 + 2.0)*hash + iv, 289.0);\n      hash = mod((hash*34.0 + 10.0)*hash, 289.0);\n\n      // Pick a pseudo-random angle and add the desired rotation\n      vec3 psi = hash * 0.07482 + alpha;\n      vec3 gx = cos(psi);\n      vec3 gy = sin(psi);\n\n      // Reorganize for dot products below\n      vec2 g0 = vec2(gx.x,gy.x);\n      vec2 g1 = vec2(gx.y,gy.y);\n      vec2 g2 = vec2(gx.z,gy.z);\n\n      // Radial decay with distance from each simplex corner\n      vec3 w = 0.8 - vec3(dot(x0, x0), dot(x1, x1), dot(x2, x2));\n      w = max(w, 0.0);\n      vec3 w2 = w * w;\n      vec3 w4 = w2 * w2;\n\n      // The value of the linear ramp from each of the corners\n      vec3 gdotx = vec3(dot(g0, x0), dot(g1, x1), dot(g2, x2));\n\n      // Multiply by the radial decay and sum up the noise value\n      float n = dot(w4, gdotx);\n\n      // Compute the first order partial derivatives\n      vec3 w3 = w2 * w;\n      vec3 dw = -8.0 * w3 * gdotx;\n      vec2 dn0 = w4.x * g0 + dw.x * x0;\n      vec2 dn1 = w4.y * g1 + dw.y * x1;\n      vec2 dn2 = w4.z * g2 + dw.z * x2;\n      gradient = 10.9 * (dn0 + dn1 + dn2);\n\n      // Scale the return value to fit nicely into the range [-1,1]\n      return 10.9 * n;\n    }\n  '])),e)});var eU=(0,F.j)(function(e){return(0,F.k)(T||(T=eR(['\n    //\n    // psrdnoise3.glsl\n    //\n    // Authors: Stefan Gustavson (stefan.gustavson@gmail.com)\n    // and Ian McEwan (ijm567@gmail.com)\n    // Version 2021-12-02, published under the MIT license (see below)\n    //\n    // Copyright (c) 2021 Stefan Gustavson and Ian McEwan.\n    //\n    // Permission is hereby granted, free of charge, to any person obtaining a\n    // copy of this software and associated documentation files (the "Software"),\n    // to deal in the Software without restriction, including without limitation\n    // the rights to use, copy, modify, merge, publish, distribute, sublicense,\n    // and/or sell copies of the Software, and to permit persons to whom the\n    // Software is furnished to do so, subject to the following conditions:\n    //\n    // The above copyright notice and this permission notice shall be included\n    // in all copies or substantial portions of the Software.\n    //\n    // THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n    // IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n    // FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL\n    // THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n    // LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n    // FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n    // DEALINGS IN THE SOFTWARE.\n    //\n\n    //\n    // Periodic (tiling) 3-D simplex noise (tetrahedral lattice gradient noise)\n    // with rotating gradients and analytic derivatives.\n    //\n    // This is (yet) another variation on simplex noise. Unlike previous\n    // implementations, the grid is axis-aligned to permit rectangular tiling.\n    // The noise pattern can be made to tile seamlessly to any integer periods\n    // up to 289 units in the x, y and z directions. Specifying a longer\n    // period than 289 will result in errors in the noise field.\n    //\n    // This particular version of 3-D noise also implements animation by rotating\n    // the generating gradient at each lattice point around a pseudo-random axis.\n    // The rotating gradients give the appearance of a swirling motion, and\n    // can serve a similar purpose for animation as motion along the fourth\n    // dimension in 4-D noise.\n    //\n    // The rotating gradients in conjunction with the built-in ability to\n    // compute exact analytic derivatives allow for "flow noise" effects\n    // as presented by Ken Perlin and Fabrice Neyret.\n    //\n\n    // Use Perlin\'s rotated grid instead of the new tiling grid?\n    // Enabling this adds about 1% to the execution time and\n    // requires all periods to be multiples of 3. Other\n    // integer periods can be specified, but when not evenly\n    // divisible by 3, the actual period will be 3 times longer.\n    // Take care not to overstep the maximum allowed period (288).\n    //#define PERLINGRID\n\n    // Enable faster gradient rotations?\n    // Enabling this saves about 10% on execution time,\n    // but the function will not run faster for alpha = 0.\n    #define FASTROTATION\n\n\n    // Permutation polynomial for the hash value\n    vec4 ','_permute(vec4 x) {\n      vec4 xm = mod(x, 289.0);\n      return mod(((xm * 34.0) + 10.0) * xm, 289.0);\n    }\n\n    //\n    // 3-D tiling simplex noise with rotating gradients and first order\n    // analytical derivatives.\n    // "vec3 x" is the point (x,y,z) to evaluate\n    // "vec3 period" is the desired periods along x,y,z, up to 289.\n    // (If Perlin\'s grid is used, multiples of 3 up to 288 are allowed.)\n    // "float alpha" is the rotation (in radians) for the swirling gradients.\n    // The "float" return value is the noise value, and\n    // the "out vec3 gradient" argument returns the x,y,z partial derivatives.\n    //\n    // The function executes 15-20% faster if alpha is constant == 0.0\n    // across all fragments being executed in parallel.\n    // (This speedup will not happen if FASTROTATION is enabled. Do not specify\n    // FASTROTATION if you are not actually going to use the rotation.)\n    //\n    // Setting any period to 0.0 or a negative value will skip the periodic\n    // wrap for that dimension. Setting all periods to 0.0 makes the function\n    // execute 10-15% faster.\n    //\n    // Not using the return value for the gradient will make the compiler\n    // eliminate the code for computing it. This speeds up the function by\n    // around 10%.\n    //\n\n    float ','(vec3 x, vec3 period, float alpha, out vec3 gradient)\n    {\n      #ifndef PERLINGRID\n      // Transformation matrices for the axis-aligned simplex grid\n      const mat3 M = mat3(0.0, 1.0, 1.0,\n                          1.0, 0.0, 1.0,\n                          1.0, 1.0, 0.0);\n\n      const mat3 Mi = mat3(-0.5, 0.5, 0.5,\n                            0.5,-0.5, 0.5,\n                            0.5, 0.5,-0.5);\n      #endif\n\n      vec3 uvw;\n\n      // Transform to simplex space (tetrahedral grid)\n      #ifndef PERLINGRID\n      // Use matrix multiplication, let the compiler optimise\n      uvw = M * x;\n      #else\n      // Optimised transformation to uvw (slightly faster than\n      // the equivalent matrix multiplication on most platforms)\n      uvw = x + dot(x, vec3(1.0/3.0));\n      #endif\n\n      // Determine which simplex we\'re in, i0 is the "base corner"\n      vec3 i0 = floor(uvw);\n      vec3 f0 = fract(uvw); // coords within "skewed cube"\n\n      // To determine which simplex corners are closest, rank order the\n      // magnitudes of u,v,w, resolving ties in priority order u,v,w,\n      // and traverse the four corners from largest to smallest magnitude.\n      // o1, o2 are offsets in simplex space to the 2nd and 3rd corners.\n      vec3 g_ = step(f0.xyx, f0.yzz); // Makes comparison "less-than"\n      vec3 l_ = 1.0 - g_;             // complement is "greater-or-equal"\n      vec3 g = vec3(l_.z, g_.xy);\n      vec3 l = vec3(l_.xy, g_.z);\n      vec3 o1 = min( g, l );\n      vec3 o2 = max( g, l );\n\n      // Enumerate the remaining simplex corners\n      vec3 i1 = i0 + o1;\n      vec3 i2 = i0 + o2;\n      vec3 i3 = i0 + vec3(1.0);\n      vec3 _v0;\n      vec3 _v1;\n      vec3 _v2;\n      vec3 v3;\n\n      // Transform the corners back to texture space\n      #ifndef PERLINGRID\n        _v0 = Mi * i0;\n        _v1 = Mi * i1;\n        _v2 = Mi * i2;\n        v3 = Mi * i3;\n      #else\n        // Optimised transformation (mostly slightly faster than a matrix)\n        _v0 = i0 - dot(i0, vec3(1.0/6.0));\n        _v1 = i1 - dot(i1, vec3(1.0/6.0));\n        _v2 = i2 - dot(i2, vec3(1.0/6.0));\n        v3 = i3 - dot(i3, vec3(1.0/6.0));\n      #endif\n\n      // Compute vectors to each of the simplex corners\n      vec3 x0 = x - _v0;\n      vec3 x1 = x - _v1;\n      vec3 x2 = x - _v2;\n      vec3 x3 = x - v3;\n\n      if(any(greaterThan(period, vec3(0.0)))) {\n        // Wrap to periods and transform back to simplex space\n        vec4 vx = vec4(_v0.x, _v1.x, _v2.x, v3.x);\n        vec4 vy = vec4(_v0.y, _v1.y, _v2.y, v3.y);\n        vec4 vz = vec4(_v0.z, _v1.z, _v2.z, v3.z);\n\n        // Wrap to periods where specified\n        if (period.x > 0.0) vx = mod(vx, period.x);\n        if (period.y > 0.0) vy = mod(vy, period.y);\n        if (period.z > 0.0) vz = mod(vz, period.z);\n\n        // Transform back\n        #ifndef PERLINGRID\n          i0 = M * vec3(vx.x, vy.x, vz.x);\n          i1 = M * vec3(vx.y, vy.y, vz.y);\n          i2 = M * vec3(vx.z, vy.z, vz.z);\n          i3 = M * vec3(vx.w, vy.w, vz.w);\n        #else\n          _v0 = vec3(vx.x, vy.x, vz.x);\n          _v1 = vec3(vx.y, vy.y, vz.y);\n          _v2 = vec3(vx.z, vy.z, vz.z);\n          v3 = vec3(vx.w, vy.w, vz.w);\n          // Transform wrapped coordinates back to uvw\n          i0 = _v0 + dot(_v0, vec3(1.0/3.0));\n          i1 = _v1 + dot(_v1, vec3(1.0/3.0));\n          i2 = _v2 + dot(_v2, vec3(1.0/3.0));\n          i3 = v3 + dot(v3, vec3(1.0/3.0));\n        #endif\n\n        // Fix rounding errors\n        i0 = floor(i0 + 0.5);\n        i1 = floor(i1 + 0.5);\n        i2 = floor(i2 + 0.5);\n        i3 = floor(i3 + 0.5);\n      }\n\n      // Compute one pseudo-random hash value for each corner\n      vec4 hash = ',"_permute( ","_permute( ","_permute(\n                vec4(i0.z, i1.z, i2.z, i3.z ))\n              + vec4(i0.y, i1.y, i2.y, i3.y ))\n              + vec4(i0.x, i1.x, i2.x, i3.x ));\n\n      // Compute generating gradients from a Fibonacci spiral on the unit sphere\n      vec4 theta = hash * 3.883222077;  // 2*pi/golden ratio\n      vec4 sz    = hash * -0.006920415 + 0.996539792; // 1-(hash+0.5)*2/289\n      vec4 psi   = hash * 0.108705628 ; // 10*pi/289, chosen to avoid correlation\n\n      vec4 Ct = cos(theta);\n      vec4 St = sin(theta);\n      vec4 sz_prime = sqrt( 1.0 - sz*sz ); // s is a point on a unit fib-sphere\n\n      vec4 gx, gy, gz;\n\n      // Rotate gradients by angle alpha around a pseudo-random ortogonal axis\n      #ifdef FASTROTATION\n        // Fast algorithm, but without dynamic shortcut for alpha = 0\n        vec4 qx = St;         // q' = norm ( cross(s, n) )  on the equator\n        vec4 qy = -Ct;\n        vec4 qz = vec4(0.0);\n\n        vec4 px =  sz * qy;   // p' = cross(q, s)\n        vec4 py = -sz * qx;\n        vec4 pz = sz_prime;\n\n        psi += alpha;         // psi and alpha in the same plane\n        vec4 Sa = sin(psi);\n        vec4 Ca = cos(psi);\n\n        gx = Ca * px + Sa * qx;\n        gy = Ca * py + Sa * qy;\n        gz = Ca * pz + Sa * qz;\n      #else\n        // Slightly slower algorithm, but with g = s for alpha = 0, and a\n        // useful conditional speedup for alpha = 0 across all fragments\n        if(alpha != 0.0) {\n          vec4 Sp = sin(psi);          // q' from psi on equator\n          vec4 Cp = cos(psi);\n\n          vec4 px = Ct * sz_prime;     // px = sx\n          vec4 py = St * sz_prime;     // py = sy\n          vec4 pz = sz;\n\n          vec4 Ctp = St*Sp - Ct*Cp;    // q = (rotate( cross(s,n), dot(s,n))(q')\n          vec4 qx = mix( Ctp*St, Sp, sz);\n          vec4 qy = mix(-Ctp*Ct, Cp, sz);\n          vec4 qz = -(py*Cp + px*Sp);\n\n          vec4 Sa = vec4(sin(alpha));       // psi and alpha in different planes\n          vec4 Ca = vec4(cos(alpha));\n\n          gx = Ca * px + Sa * qx;\n          gy = Ca * py + Sa * qy;\n          gz = Ca * pz + Sa * qz;\n        } else {\n          gx = Ct * sz_prime;  // alpha = 0, use s directly as gradient\n          gy = St * sz_prime;\n          gz = sz;\n        }\n      #endif\n\n      // Reorganize for dot products below\n      vec3 g0 = vec3(gx.x, gy.x, gz.x);\n      vec3 g1 = vec3(gx.y, gy.y, gz.y);\n      vec3 g2 = vec3(gx.z, gy.z, gz.z);\n      vec3 g3 = vec3(gx.w, gy.w, gz.w);\n\n      // Radial decay with distance from each simplex corner\n      vec4 w = 0.5 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3));\n      w = max(w, 0.0);\n      vec4 w2 = w * w;\n      vec4 w3 = w2 * w;\n\n      // The value of the linear ramp from each of the corners\n      vec4 gdotx = vec4(dot(g0,x0), dot(g1,x1), dot(g2,x2), dot(g3,x3));\n\n      // Multiply by the radial decay and sum up the noise value\n      float n = dot(w3, gdotx);\n\n      // Compute the first order partial derivatives\n      vec4 dw = -6.0 * w2 * gdotx;\n      vec3 dn0 = w3.x * g0 + dw.x * x0;\n      vec3 dn1 = w3.y * g1 + dw.y * x1;\n      vec3 dn2 = w3.z * g2 + dw.z * x2;\n      vec3 dn3 = w3.w * g3 + dw.w * x3;\n      gradient = 39.5 * (dn0 + dn1 + dn2 + dn3);\n\n      // Scale the return value to fit nicely into the range [-1,1]\n      return 39.5 * n;\n    }\n  "])),e,e,e,e,e)}),eH=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,F.av)(0,0,0),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(0,F.V)([0,0,0],{name:"PSRDNoise3D Gradient"});return eF(eF({},(0,F.F)((0,F.$)(j||(j=eR(["","(",", ",", ",", ",")"])),eU,e,t,n,r),{name:"PSRDNoise3D"})),{},{gradient:r})};(0,F.j)(function(e){return(0,F.$)(R||(R=eR(["\n			float ","(vec3 p, float octaves) {\n				float t = -0.5;\n\n        float alpha = 0.0;\n        vec3 period;\n        vec3 gradient;\n					\n				for (float f = 1.0 ; f <= octaves; f++) {\n					float power = pow(2.0, f);\n          float noise = ","(vec3(power * p), period, alpha, gradient);\n					t += abs(noise / power);\n				}\n\n				return t;\n			}\n		"])),e,eU)});var eV=(0,F.j)(function(e){return(0,F.$)(I||(I=eR(["\n    vec3 ","(vec2 v, mat4 view){\n      vec3 up = vec3(view[0][1], view[1][1], view[2][1]);\n      vec3 right = vec3(view[0][0], view[1][0], view[2][0]);\n      vec3 p = right * v.x + up * v.y;\n      return p;\n    }\n  "])),e)});function eW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eW(Object(n),!0).forEach(function(t){var r,i;r=e,i=n[t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eG=(0,F.$)($||($=eb(["\n  #ifdef USE_INSTANCING\n  * instanceMatrix\n  #endif\n"]))),eq=function(e){var t=e.offset,n=e.space,r=void 0===n?"local":n;return function(e){return eK(eK({},e),{},{position:(0,U.zG)(t,function(e){return"world"===r?(0,F.V)((0,F.$)(D||(D=eb(["vec3(vec4(",", 1.0) * modelMatrix ",")"])),e,eG)):"view"===r?(0,F.V)((0,F.$)(N||(N=eb(["vec3(vec4(",", 1.0) * viewMatrix * modelMatrix ",")"])),e,eG)):e},function(t){return(0,F.A)(e.position,t)})})}},eY=function(e){var t=e.direction,n=e.time,r=e.space;return eq({space:void 0===r?"world":r,offset:(0,U.zG)(t,function(e){return(0,F.a)(e,(0,F.P)(n,2))},function(e){return(0,F.a)(e,.5)})})},eQ=function(e){var t=e.alpha;return function(e){return eK(eK({},e),{},{alpha:"function"==typeof t?t(e.alpha):t})}},eZ=function(){return function(e){var t;return eK(eK({},e),{},{position:(t=e.position,(0,F.V)((0,F.$)(A||(A=eR(["","(",".xy,\n    ","\n    * ","\n    #ifdef USE_INSTANCING\n    * instanceMatrix\n    #endif\n    )"])),eV,t,ey.I_,ey.fl)))})}},eX=function(e){var t=e.color;return function(e){var n="string"==typeof t||"number"==typeof t?new ea.Color(t):"function"==typeof t?t(e.color):t;return eK(eK({},e),{},{color:n})}},eJ=function(e){return eE({opacity:(0,ey.YJ)(e),modules:[eX({color:"white"})]})},e0=function(e){var t=e.stops,n=e.contrast,r=void 0===n?1:n,i=e.start,o=void 0===i?1:i,a=e.stop,l=void 0===a?-1:a,s=e.position,u=void 0===s?ey.up.y:s;return function(e){return eK(eK({},e),{},{color:(0,U.zG)(u,function(e){return(0,F.a)(e,r)},function(e){return(0,F.g)(o,l,e)},function(e){return ey.ph.apply(void 0,[e].concat(e_(t)))})})}},e1=function(e){var t=e.progress;return function(e){return eK(eK({},e),{},{color:(0,F.V)(e.color,{fragment:{body:(0,F.$)(L||(L=eb(["if ("," < 0.0 || "," > 1.0) discard;"])),t,t)}})})}},e2=function(e){var t=e.rotation,n=e.normal,r=void 0===n||n;return function(e){return eK(eK({},e),{},{normal:r?(0,F.a)(e.normal,(0,F.l)(t)):e.normal,position:(0,F.a)(e.position,(0,F.l)(t))})}},e3=function(e){var t=e.scale,n=void 0===t?1:t;return function(e){return eK(eK({},e),{},{position:(0,F.a)(e.position,n)})}},e4=function(e){var t=e.softness,n=e.depthTexture;return function(e){var r;return eK(eK({},e),{},{alpha:(0,F.a)(e.alpha,(r=e.position,(0,F.F)((0,U.zG)(r,function(e){return(0,F.aB)((0,ey.B)(e).z)},function(e){return(0,F.S)(e,(0,ey.Qi)(ey.$u,n))},function(e){return(0,F.D)(e,t)},function(e){return(0,F.f)(e)}),{name:"Soft Particle"})))})}},e5=function(e){var t=e.offset,n=void 0===t?1:t,r=e.amplitude,i=void 0===r?1:r,o=e.frequency,a=void 0===o?1:o;return function(e){var t=(0,U.zG)(e.position,function(e){return(0,F.a)(e,a)},function(e){return(0,F.A)(e,n)},function(e){return eH(e)},function(e){return(0,F.a)(e,i)}),r=(0,U.zG)(t,function(t){return(0,F.a)(e.normal,t)},function(t){return(0,F.A)(e.position,t)});return eK(eK({},e),{},{position:r})}},e6=function(e){var t=e.texture,n=e.uv,r=void 0===n?ey.UV:n;return function(e){var n=(0,F.p)(t)?t:(0,ey.oo)("sampler2D",t),i=(0,ey.b7)(n,r);return eK(eK({},e),{},{color:i.color,alpha:i.alpha})}},e8=function(e){var t=e.direction,n=e.time,r=e.space;return eq({offset:(0,F.a)(t,n),space:void 0===r?"world":r})},e9=function(e){return e.module};function e7(){return(e7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var te=(0,eo.createContext)(null),tt=function(e){(0,eo.useContext)(te).useItem(e)},tn=["children","autoShadow"],tr={},ti=new Proxy(eg,{get:function(e,t){if(t in e){var n=e[t];return tr[t]||(tr[t]=(0,eo.forwardRef)(function(e,t){var r=e.children,i=e.autoShadow,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tn),a=(0,eo.useRef)(),l=ej(),s=(0,eo.useMemo)(function(){return V(eC.apply(void 0,[{position:(0,F.V)(ey.up,{name:"Final Position"}),normal:(0,F.V)(ey.Bb,{name:"Final Normal "}),color:(0,F.V)((0,F.$)(p||(p=eb(["patched_Color"]))),{name:"Final Color"}),alpha:(0,F.F)((0,F.$)(h||(h=eb(["patched_Alpha"]))),{name:"Final Alpha"}),roughness:(0,F.F)((0,F.$)(m||(m=eb(["patched_Roughness"]))),{name:"Final Roughness"}),metalness:(0,F.F)((0,F.$)(g||(g=eb(["patched_Metalness"]))),{name:"Final Metalness"})}].concat(e_(l.list))))},[l.version]);(0,eo.useLayoutEffect)(function(){return to.set(a.current,s),function(){to.delete(a.current)}},[s]);var u=ek(function(){return s},[s]);return(0,eo.useImperativeHandle)(t,function(){return a.current}),eo.createElement(eo.Fragment,null,eo.createElement(n,e7({ref:a},o,u),eo.createElement(te.Provider,{value:l},r)),void 0!==i&&i&&eo.createElement(ti.meshDepthMaterial,{attach:"customDepthMaterial",depthPacking:ea.RGBADepthPacking},r))})),tr[t]}}}),to=new Map,ta=function(e){var t=(0,eo.useRef)(0),n=(0,eo.useRef)(),r=!n.current||Object.keys(e).length!==Object.keys(n.current).length||Object.keys(e).some(function(t){return!Object.is(n.current[t],e[t])});return n.current=e,r?++t.current:t},tl=new Map,ts=new Proxy({},{get:function(e,t){if(!tl.has(t)){var n;tl.set(t,(n=B[t],function(e){return tt((0,eo.useMemo)(function(){return n(e)},[ta(e)])),null}))}return tl.get(t)}})},4529:function(e,t,n){"use strict";var r=n(1833),i=n(9386),o=n(3200),a=n(1086);e.exports=function(e,t,n){if(!r(e))throw TypeError("expected an object");if("string"!=typeof t||null==n)return i.apply(null,arguments);if("string"==typeof n)return a(e,t,n),e;var l=o(e,t);return r(n)&&r(l)&&(n=i({},l,n)),a(e,t,n),e}},9386:function(e,t,n){"use strict";var r=n(1833),i=n(2561);function o(e,t){for(var n=arguments.length,r=0;++r<n;){var o=arguments[r];l(o)&&i(o,a,e)}return e}function a(e,t){if("__proto__"!==t&&"constructor"!==t&&"prototype"!==t){var n=this[t];l(e)&&l(n)?o(n,e):this[t]=e}}function l(e){return r(e)&&!Array.isArray(e)}e.exports=o},705:function(e){e.exports=(function e(t,n,r){function i(a,l){if(!n[a]){if(!t[a]){if(o)return o(a,!0);throw Error("Cannot find module '"+a+"'")}l=n[a]={exports:{}},t[a][0].call(l.exports,function(e){return i(t[a][1][e]||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i})({1:[function(e,t,n){(function(r,i,o,a,l,s,u,c,f){"use strict";var d=e("crypto");function p(e,t){var n;return void 0===(n="passthrough"!==(t=g(e,t)).algorithm?d.createHash(t.algorithm):new x).write&&(n.write=n.update,n.end=n.update),b(t,n).dispatch(e),n.update||n.end(""),n.digest?n.digest("buffer"===t.encoding?void 0:t.encoding):(e=n.read(),"buffer"!==t.encoding?e.toString(t.encoding):e)}(n=t.exports=p).sha1=function(e){return p(e)},n.keys=function(e){return p(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return p(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return p(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var h=d.getHashes?d.getHashes().slice():["sha1","md5"],m=(h.push("passthrough"),["buffer","hex","binary","base64"]);function g(e,t){var n={};if(n.algorithm=(t=t||{}).algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw Error("Object argument required.");for(var r=0;r<h.length;++r)h[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=h[r]);if(-1===h.indexOf(n.algorithm))throw Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+h.join(", "));if(-1===m.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw Error('Encoding "'+n.encoding+'"  not supported. supported values: '+m.join(", "));return n}function y(e){if("function"==typeof e)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function b(e,t,n){function r(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return this["_"+(null===(t=e.replacer?e.replacer(t):t)?"null":typeof t)](t)},_object:function(t){var i,a=Object.prototype.toString.call(t),l=/\[object (.*)\]/i.exec(a);if(l=(l=l?l[1]:"unknown:["+a+"]").toLowerCase(),0<=(a=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+a+"]");if(n.push(t),void 0!==o&&o.isBuffer&&o.isBuffer(t))return r("buffer:"),r(t);if("object"===l||"function"===l||"asyncfunction"===l)return a=Object.keys(t),e.unorderedObjects&&(a=a.sort()),!1===e.respectType||y(t)||a.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(a=a.filter(function(t){return!e.excludeKeys(t)})),r("object:"+a.length+":"),i=this,a.forEach(function(n){i.dispatch(n),r(":"),e.excludeValues||i.dispatch(t[n]),r(",")});if(!this["_"+l]){if(e.ignoreUnknown)return r("["+l+"]");throw Error('Unknown object type "'+l+'"')}this["_"+l](t)},_array:function(t,i){i=void 0!==i?i:!1!==e.unorderedArrays;var o=this;if(r("array:"+t.length+":"),!i||t.length<=1)return t.forEach(function(e){return o.dispatch(e)});var a=[],i=t.map(function(t){var r=new x,i=n.slice();return b(e,r,i).dispatch(t),a=a.concat(i.slice(n.length)),r.read().toString()});return n=n.concat(a),i.sort(),this._array(i,!1)},_date:function(e){return r("date:"+e.toJSON())},_symbol:function(e){return r("symbol:"+e.toString())},_error:function(e){return r("error:"+e.toString())},_boolean:function(e){return r("bool:"+e.toString())},_string:function(e){r("string:"+e.length+":"),r(e.toString())},_function:function(t){r("fn:"),y(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return r("number:"+e.toString())},_xml:function(e){return r("xml:"+e.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(e){return r("regex:"+e.toString())},_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return r("int8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return r("int16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return r("int32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return r("url:"+e.toString())},_map:function(t){return r("map:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_set:function(t){return r("set:"),t=Array.from(t),this._array(t,!1!==e.unorderedSets)},_file:function(e){return r("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_bigint:function(e){return r("bigint:"+e.toString())},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function x(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),b(t=g(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(e,t,n){(function(e,t,r,i,o,a,l,s,u){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array;function n(e){return 43===(e=e.charCodeAt(0))||45===e?62:47===e||95===e?63:e<48?-1:e<58?e-48+26+26:e<91?e-65:e<123?e-97+26:void 0}e.toByteArray=function(e){if(0<e.length%4)throw Error("Invalid string. Length must be a multiple of 4");var r,i,o=e.length,o="="===e.charAt(o-2)?2:"="===e.charAt(o-1)?1:0,a=new t(3*e.length/4-o),l=0<o?e.length-4:e.length,s=0;function u(e){a[s++]=e}for(r=0;r<l;r+=4)u((16711680&(i=n(e.charAt(r))<<18|n(e.charAt(r+1))<<12|n(e.charAt(r+2))<<6|n(e.charAt(r+3))))>>16),u((65280&i)>>8),u(255&i);return 2==o?u(255&(i=n(e.charAt(r))<<2|n(e.charAt(r+1))>>4)):1==o&&(u((i=n(e.charAt(r))<<10|n(e.charAt(r+1))<<4|n(e.charAt(r+2))>>2)>>8&255),u(255&i)),a},e.fromByteArray=function(e){var t,n,r,i,o=e.length%3,a="";function l(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,r=e.length-o;t<r;t+=3)a+=l((i=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+l(i>>12&63)+l(i>>6&63)+l(63&i);switch(o){case 1:a=(a+=l((n=e[e.length-1])>>2))+l(n<<4&63)+"==";break;case 2:a=(a=(a+=l((n=(e[e.length-2]<<8)+e[e.length-1])>>10))+l(n>>4&63))+l(n<<2&63)+"="}return a}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(e,t,n){(function(t,r,i,o,a,l,s,u,c){var f=e("base64-js"),d=e("ieee754");function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);var r,o,a,l,s=typeof e;if("base64"===t&&"string"==s)for(e=(l=e).trim?l.trim():l.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==s)r=k(e);else if("string"==s)r=i.byteLength(e,t);else{if("object"!=s)throw Error("First argument needs to be a number, array or string.");r=k(e.length)}if(i._useTypedArrays?o=i._augment(new Uint8Array(r)):((o=this).length=r,o._isBuffer=!0),i._useTypedArrays&&"number"==typeof e.byteLength)o._set(e);else if(O(l=e)||i.isBuffer(l)||l&&"object"==typeof l&&"number"==typeof l.length)for(a=0;a<r;a++)i.isBuffer(e)?o[a]=e.readUInt8(a):o[a]=e[a];else if("string"==s)o.write(e,0,t);else if("number"==s&&!i._useTypedArrays&&!n)for(a=0;a<r;a++)o[a]=0;return o}function p(e,t,n,r){r||(N("boolean"==typeof n,"missing or invalid endian"),N(null!=t,"missing offset"),N(t+1<e.length,"Trying to read beyond buffer length"));var i,r=e.length;if(!(r<=t))return n?(i=e[t],t+1<r&&(i|=e[t+1]<<8)):(i=e[t]<<8,t+1<r&&(i|=e[t+1])),i}function h(e,t,n,r){r||(N("boolean"==typeof n,"missing or invalid endian"),N(null!=t,"missing offset"),N(t+3<e.length,"Trying to read beyond buffer length"));var i,r=e.length;if(!(r<=t))return n?(t+2<r&&(i=e[t+2]<<16),t+1<r&&(i|=e[t+1]<<8),i|=e[t],t+3<r&&(i+=e[t+3]<<24>>>0)):(t+1<r&&(i=e[t+1]<<16),t+2<r&&(i|=e[t+2]<<8),t+3<r&&(i|=e[t+3]),i+=e[t]<<24>>>0),i}function m(e,t,n,r){if(r||(N("boolean"==typeof n,"missing or invalid endian"),N(null!=t,"missing offset"),N(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 32768&(r=p(e,t,n,!0))?-1*(65535-r+1):r}function g(e,t,n,r){if(r||(N("boolean"==typeof n,"missing or invalid endian"),N(null!=t,"missing offset"),N(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t))return 2147483648&(r=h(e,t,n,!0))?-1*(4294967295-r+1):r}function y(e,t,n,r){return r||(N("boolean"==typeof n,"missing or invalid endian"),N(t+3<e.length,"Trying to read beyond buffer length")),d.read(e,t,n,23,4)}function b(e,t,n,r){return r||(N("boolean"==typeof n,"missing or invalid endian"),N(t+7<e.length,"Trying to read beyond buffer length")),d.read(e,t,n,52,8)}function x(e,t,n,r,i){if(i||(N(null!=t,"missing value"),N("boolean"==typeof r,"missing or invalid endian"),N(null!=n,"missing offset"),N(n+1<e.length,"trying to write beyond buffer length"),A(t,65535)),!((i=e.length)<=n))for(var o=0,a=Math.min(i-n,2);o<a;o++)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function _(e,t,n,r,i){if(i||(N(null!=t,"missing value"),N("boolean"==typeof r,"missing or invalid endian"),N(null!=n,"missing offset"),N(n+3<e.length,"trying to write beyond buffer length"),A(t,4294967295)),!((i=e.length)<=n))for(var o=0,a=Math.min(i-n,4);o<a;o++)e[n+o]=t>>>8*(r?o:3-o)&255}function w(e,t,n,r,i){i||(N(null!=t,"missing value"),N("boolean"==typeof r,"missing or invalid endian"),N(null!=n,"missing offset"),N(n+1<e.length,"Trying to write beyond buffer length"),$(t,32767,-32768)),e.length<=n||x(e,0<=t?t:65535+t+1,n,r,i)}function S(e,t,n,r,i){i||(N(null!=t,"missing value"),N("boolean"==typeof r,"missing or invalid endian"),N(null!=n,"missing offset"),N(n+3<e.length,"Trying to write beyond buffer length"),$(t,2147483647,-2147483648)),e.length<=n||_(e,0<=t?t:4294967295+t+1,n,r,i)}function E(e,t,n,r,i){i||(N(null!=t,"missing value"),N("boolean"==typeof r,"missing or invalid endian"),N(null!=n,"missing offset"),N(n+3<e.length,"Trying to write beyond buffer length"),D(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||d.write(e,t,n,r,23,4)}function C(e,t,n,r,i){i||(N(null!=t,"missing value"),N("boolean"==typeof r,"missing or invalid endian"),N(null!=n,"missing offset"),N(n+7<e.length,"Trying to write beyond buffer length"),D(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||d.write(e,t,n,r,52,8)}n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(n){return!1}}(),i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=T(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=j(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw Error("Unknown encoding")}return n},i.concat=function(e,t){if(N(O(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new i(0);if(1===e.length)return e[0];if("number"!=typeof t)for(o=t=0;o<e.length;o++)t+=e[o].length;for(var n=new i(t),r=0,o=0;o<e.length;o++){var a=e[o];a.copy(n,r),r+=a.length}return n},i.prototype.write=function(e,t,n,r){isFinite(t)?isFinite(n)||(r=n,n=void 0):(p=r,r=t,t=n,n=p),t=Number(t)||0;var o,a,l,s,u,c,f,d,p=this.length-t;switch((!n||p<(n=Number(n)))&&(n=p),r=String(r||"utf8").toLowerCase()){case"hex":u=function(e,t,n,r){n=Number(n)||0;var o=e.length-n;(!r||o<(r=Number(r)))&&(r=o),N((o=t.length)%2==0,"Invalid hex string"),o/2<r&&(r=o/2);for(var a=0;a<r;a++){var l=parseInt(t.substr(2*a,2),16);N(!isNaN(l),"Invalid hex string"),e[n+a]=l}return i._charsWritten=2*a,a}(this,e,t,n);break;case"utf8":case"utf-8":c=this,f=t,d=n,u=i._charsWritten=R(T(e),c,f,d);break;case"ascii":case"binary":o=t,a=n,u=i._charsWritten=R(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(e),this,o,a);break;case"base64":c=this,f=t,d=n,u=i._charsWritten=R(j(e),c,f,d);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":l=t,s=n,u=i._charsWritten=R(function(e){for(var t,n,r=[],i=0;i<e.length;i++)t=(n=e.charCodeAt(i))>>8,r.push(n%=256),r.push(t);return r}(e),this,l,s);break;default:throw Error("Unknown encoding")}return u},i.prototype.toString=function(e,t,n){var r,i,o;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):this.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;o++)i+=M(e[o]);return i}(this,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",i="";n=Math.min(e.length,n);for(var o=t;o<n;o++)e[o]<=127?(r+=I(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return r+I(i)}(this,t,n);break;case"ascii":case"binary":r=function(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r}(this,t,n);break;case"base64":o=n,r=0===(i=t)&&o===this.length?f.fromByteArray(this):f.fromByteArray(this.slice(i,o));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}(this,t,n);break;default:throw Error("Unknown encoding")}return r},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(e,t,n,r){if(t=t||0,(r=r||0===r?r:this.length)!==(n=n||0)&&0!==e.length&&0!==this.length){N(n<=r,"sourceEnd < sourceStart"),N(0<=t&&t<e.length,"targetStart out of bounds"),N(0<=n&&n<this.length,"sourceStart out of bounds"),N(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length);var o=(r=e.length-t<r-n?e.length-t+n:r)-n;if(o<100||!i._useTypedArrays)for(var a=0;a<o;a++)e[a+t]=this[a+n];else e._set(this.subarray(n,n+o),t)}},i.prototype.slice=function(e,t){var n=this.length;if(e=z(e,n,0),t=z(t,n,n),i._useTypedArrays)return i._augment(this.subarray(e,t));for(var r=t-e,o=new i(r,void 0,!0),a=0;a<r;a++)o[a]=this[a+e];return o},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.readUInt8=function(e,t){if(t||(N(null!=e,"missing offset"),N(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},i.prototype.readUInt16LE=function(e,t){return p(this,e,!0,t)},i.prototype.readUInt16BE=function(e,t){return p(this,e,!1,t)},i.prototype.readUInt32LE=function(e,t){return h(this,e,!0,t)},i.prototype.readUInt32BE=function(e,t){return h(this,e,!1,t)},i.prototype.readInt8=function(e,t){if(t||(N(null!=e,"missing offset"),N(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){return m(this,e,!0,t)},i.prototype.readInt16BE=function(e,t){return m(this,e,!1,t)},i.prototype.readInt32LE=function(e,t){return g(this,e,!0,t)},i.prototype.readInt32BE=function(e,t){return g(this,e,!1,t)},i.prototype.readFloatLE=function(e,t){return y(this,e,!0,t)},i.prototype.readFloatBE=function(e,t){return y(this,e,!1,t)},i.prototype.readDoubleLE=function(e,t){return b(this,e,!0,t)},i.prototype.readDoubleBE=function(e,t){return b(this,e,!1,t)},i.prototype.writeUInt8=function(e,t,n){n||(N(null!=e,"missing value"),N(null!=t,"missing offset"),N(t<this.length,"trying to write beyond buffer length"),A(e,255)),t>=this.length||(this[t]=e)},i.prototype.writeUInt16LE=function(e,t,n){x(this,e,t,!0,n)},i.prototype.writeUInt16BE=function(e,t,n){x(this,e,t,!1,n)},i.prototype.writeUInt32LE=function(e,t,n){_(this,e,t,!0,n)},i.prototype.writeUInt32BE=function(e,t,n){_(this,e,t,!1,n)},i.prototype.writeInt8=function(e,t,n){n||(N(null!=e,"missing value"),N(null!=t,"missing offset"),N(t<this.length,"Trying to write beyond buffer length"),$(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},i.prototype.writeInt16LE=function(e,t,n){w(this,e,t,!0,n)},i.prototype.writeInt16BE=function(e,t,n){w(this,e,t,!1,n)},i.prototype.writeInt32LE=function(e,t,n){S(this,e,t,!0,n)},i.prototype.writeInt32BE=function(e,t,n){S(this,e,t,!1,n)},i.prototype.writeFloatLE=function(e,t,n){E(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){E(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){C(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){C(this,e,t,!1,n)},i.prototype.fill=function(e,t,n){if(t=t||0,n=n||this.length,N("number"==typeof(e="string"==typeof(e=e||0)?e.charCodeAt(0):e)&&!isNaN(e),"value is not a number"),N(t<=n,"end < start"),n!==t&&0!==this.length){N(0<=t&&t<this.length,"start out of bounds"),N(0<=n&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},i.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=M(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw Error("Buffer.toArrayBuffer not supported in this browser");if(i._useTypedArrays)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var P=i.prototype;function z(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function k(e){return(e=~~Math.ceil(+e))<0?0:e}function O(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function M(e){return e<16?"0"+e.toString(16):e.toString(16)}function T(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else for(var i=n,o=(55296<=r&&r<=57343&&n++,encodeURIComponent(e.slice(i,n+1)).substr(1).split("%")),a=0;a<o.length;a++)t.push(parseInt(o[a],16))}return t}function j(e){return f.toByteArray(e)}function R(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);i++)t[i+n]=e[i];return i}function I(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}function A(e,t){N("number"==typeof e,"cannot write a non-number as a number"),N(0<=e,"specified a negative value for writing an unsigned value"),N(e<=t,"value is larger than maximum value for type"),N(Math.floor(e)===e,"value has a fractional component")}function $(e,t,n){N("number"==typeof e,"cannot write a non-number as a number"),N(e<=t,"value larger than maximum allowed value"),N(n<=e,"value smaller than minimum allowed value"),N(Math.floor(e)===e,"value has a fractional component")}function D(e,t,n){N("number"==typeof e,"cannot write a non-number as a number"),N(e<=t,"value larger than maximum allowed value"),N(n<=e,"value smaller than minimum allowed value")}function N(e,t){if(!e)throw Error(t||"Failed assertion")}i._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=P.get,e.set=P.set,e.write=P.write,e.toString=P.toString,e.toLocaleString=P.toString,e.toJSON=P.toJSON,e.copy=P.copy,e.slice=P.slice,e.readUInt8=P.readUInt8,e.readUInt16LE=P.readUInt16LE,e.readUInt16BE=P.readUInt16BE,e.readUInt32LE=P.readUInt32LE,e.readUInt32BE=P.readUInt32BE,e.readInt8=P.readInt8,e.readInt16LE=P.readInt16LE,e.readInt16BE=P.readInt16BE,e.readInt32LE=P.readInt32LE,e.readInt32BE=P.readInt32BE,e.readFloatLE=P.readFloatLE,e.readFloatBE=P.readFloatBE,e.readDoubleLE=P.readDoubleLE,e.readDoubleBE=P.readDoubleBE,e.writeUInt8=P.writeUInt8,e.writeUInt16LE=P.writeUInt16LE,e.writeUInt16BE=P.writeUInt16BE,e.writeUInt32LE=P.writeUInt32LE,e.writeUInt32BE=P.writeUInt32BE,e.writeInt8=P.writeInt8,e.writeInt16LE=P.writeInt16LE,e.writeInt16BE=P.writeInt16BE,e.writeInt32LE=P.writeInt32LE,e.writeInt32BE=P.writeInt32BE,e.writeFloatLE=P.writeFloatLE,e.writeFloatBE=P.writeFloatBE,e.writeDoubleLE=P.writeDoubleLE,e.writeDoubleBE=P.writeDoubleBE,e.fill=P.fill,e.inspect=P.inspect,e.toArrayBuffer=P.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(e,t,n){(function(n,r,i,o,a,l,s,u,c){var i=e("buffer").Buffer,f=new i(4);f.fill(0),t.exports={hash:function(e,t,n,r){for(var o=t(function(e,t){e.length%4!=0&&(n=e.length+(4-e.length%4),e=i.concat([e,f],n));for(var n,r=[],o=t?e.readInt32BE:e.readInt32LE,a=0;a<e.length;a+=4)r.push(o.call(e,a));return r}(e=i.isBuffer(e)?e:new i(e),r),8*e.length),t=r,a=new i(n),l=t?a.writeInt32BE:a.writeInt32LE,s=0;s<o.length;s++)l.call(a,o[s],4*s,!0);return a}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(e,t,n){(function(t,r,i,o,a,l,s,u,c){var i=e("buffer").Buffer,f=e("./sha"),d=e("./sha256"),p=e("./rng"),h={sha1:f,sha256:d,md5:e("./md5")},m=new i(64);function g(e,t){var n=h[e=e||"sha1"],r=[];return n||y("algorithm:",e,"is not yet supported"),{update:function(e){return i.isBuffer(e)||(e=new i(e)),r.push(e),e.length,this},digest:function(e){var o=i.concat(r),o=t?function(e,t,n){i.isBuffer(t)||(t=new i(t)),i.isBuffer(n)||(n=new i(n)),t.length>64?t=e(t):t.length<64&&(t=i.concat([t,m],64));for(var r=new i(64),o=new i(64),a=0;a<64;a++)r[a]=54^t[a],o[a]=92^t[a];return n=e(i.concat([r,n])),e(i.concat([o,n]))}(n,t,o):n(o);return r=null,e?o.toString(e):o}}}function y(){var e=[].slice.call(arguments).join(" ");throw Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}m.fill(0),n.createHash=function(e){return g(e)},n.createHmac=g,n.randomBytes=function(e,t){if(!t||!t.call)return new i(p(e));try{t.call(this,void 0,new i(p(e)))}catch(n){t(n)}};var b,x=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],_=function(e){n[e]=function(){y("sorry,",e,"is not implemented yet")}};for(b in x)_(x[b],b)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(e,t,n){(function(n,r,i,o,a,l,s,u,c){var f=e("./helpers");function d(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var l=n,s=r,u=i,c=o,n=h(n,r,i,o,e[a+0],7,-680876936),o=h(o,n,r,i,e[a+1],12,-389564586),i=h(i,o,n,r,e[a+2],17,606105819),r=h(r,i,o,n,e[a+3],22,-1044525330);n=h(n,r,i,o,e[a+4],7,-176418897),o=h(o,n,r,i,e[a+5],12,1200080426),i=h(i,o,n,r,e[a+6],17,-1473231341),r=h(r,i,o,n,e[a+7],22,-45705983),n=h(n,r,i,o,e[a+8],7,1770035416),o=h(o,n,r,i,e[a+9],12,-1958414417),i=h(i,o,n,r,e[a+10],17,-42063),r=h(r,i,o,n,e[a+11],22,-1990404162),n=h(n,r,i,o,e[a+12],7,1804603682),o=h(o,n,r,i,e[a+13],12,-40341101),i=h(i,o,n,r,e[a+14],17,-1502002290),n=m(n,r=h(r,i,o,n,e[a+15],22,1236535329),i,o,e[a+1],5,-165796510),o=m(o,n,r,i,e[a+6],9,-1069501632),i=m(i,o,n,r,e[a+11],14,643717713),r=m(r,i,o,n,e[a+0],20,-373897302),n=m(n,r,i,o,e[a+5],5,-701558691),o=m(o,n,r,i,e[a+10],9,38016083),i=m(i,o,n,r,e[a+15],14,-660478335),r=m(r,i,o,n,e[a+4],20,-405537848),n=m(n,r,i,o,e[a+9],5,568446438),o=m(o,n,r,i,e[a+14],9,-1019803690),i=m(i,o,n,r,e[a+3],14,-187363961),r=m(r,i,o,n,e[a+8],20,1163531501),n=m(n,r,i,o,e[a+13],5,-1444681467),o=m(o,n,r,i,e[a+2],9,-51403784),i=m(i,o,n,r,e[a+7],14,1735328473),n=g(n,r=m(r,i,o,n,e[a+12],20,-1926607734),i,o,e[a+5],4,-378558),o=g(o,n,r,i,e[a+8],11,-2022574463),i=g(i,o,n,r,e[a+11],16,1839030562),r=g(r,i,o,n,e[a+14],23,-35309556),n=g(n,r,i,o,e[a+1],4,-1530992060),o=g(o,n,r,i,e[a+4],11,1272893353),i=g(i,o,n,r,e[a+7],16,-155497632),r=g(r,i,o,n,e[a+10],23,-1094730640),n=g(n,r,i,o,e[a+13],4,681279174),o=g(o,n,r,i,e[a+0],11,-358537222),i=g(i,o,n,r,e[a+3],16,-722521979),r=g(r,i,o,n,e[a+6],23,76029189),n=g(n,r,i,o,e[a+9],4,-640364487),o=g(o,n,r,i,e[a+12],11,-421815835),i=g(i,o,n,r,e[a+15],16,530742520),n=y(n,r=g(r,i,o,n,e[a+2],23,-995338651),i,o,e[a+0],6,-198630844),o=y(o,n,r,i,e[a+7],10,1126891415),i=y(i,o,n,r,e[a+14],15,-1416354905),r=y(r,i,o,n,e[a+5],21,-57434055),n=y(n,r,i,o,e[a+12],6,1700485571),o=y(o,n,r,i,e[a+3],10,-1894986606),i=y(i,o,n,r,e[a+10],15,-1051523),r=y(r,i,o,n,e[a+1],21,-2054922799),n=y(n,r,i,o,e[a+8],6,1873313359),o=y(o,n,r,i,e[a+15],10,-30611744),i=y(i,o,n,r,e[a+6],15,-1560198380),r=y(r,i,o,n,e[a+13],21,1309151649),n=y(n,r,i,o,e[a+4],6,-145523070),o=y(o,n,r,i,e[a+11],10,-1120210379),i=y(i,o,n,r,e[a+2],15,718787259),r=y(r,i,o,n,e[a+9],21,-343485551),n=b(n,l),r=b(r,s),i=b(i,u),o=b(o,c)}return[n,r,i,o]}function p(e,t,n,r,i,o){return b((t=b(b(t,e),b(r,o)))<<i|t>>>32-i,n)}function h(e,t,n,r,i,o,a){return p(t&n|~t&r,e,t,i,o,a)}function m(e,t,n,r,i,o,a){return p(t&r|n&~r,e,t,i,o,a)}function g(e,t,n,r,i,o,a){return p(t^n^r,e,t,i,o,a)}function y(e,t,n,r,i,o,a){return p(n^(t|~r),e,t,i,o,a)}function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return f.hash(e,d,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(e,t,n){(function(e,n,r,i,o,a,l,s,u){var c;t.exports=c||function(e){for(var t,n=Array(e),r=0;r<e;r++)0==(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(e,t,n){(function(n,r,i,o,a,l,s,u,c){var f=e("./helpers");function d(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,i,o=Array(80),a=1732584193,l=-271733879,s=-1732584194,u=271733878,c=-1009589776,f=0;f<e.length;f+=16){for(var d=a,m=l,g=s,y=u,b=c,x=0;x<80;x++){o[x]=x<16?e[f+x]:h(o[x-3]^o[x-8]^o[x-14]^o[x-16],1);var _=p(p(h(a,5),(_=l,r=s,i=u,(n=x)<20?_&r|~_&i:!(n<40)&&n<60?_&r|_&i|r&i:_^r^i)),p(p(c,o[x]),(n=x)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514)),c=u,u=s,s=h(l,30),l=a,a=_}a=p(a,d),l=p(l,m),s=p(s,g),u=p(u,y),c=p(c,b)}return[a,l,s,u,c]}function p(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function h(e,t){return e<<t|e>>>32-t}t.exports=function(e){return f.hash(e,d,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(e,t,n){(function(n,r,i,o,a,l,s,u,c){function f(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function d(e,t){var n,r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],o=Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var a,l,s=0;s<e.length;s+=16){for(var u=i[0],c=i[1],d=i[2],p=i[3],g=i[4],y=i[5],b=i[6],x=i[7],_=0;_<64;_++)o[_]=_<16?e[_+s]:f(f(f(h(l=o[_-2],17)^h(l,19)^m(l,10),o[_-7]),h(l=o[_-15],7)^h(l,18)^m(l,3)),o[_-16]),n=f(f(f(f(x,h(l=g,6)^h(l,11)^h(l,25)),g&y^~g&b),r[_]),o[_]),a=f(h(a=u,2)^h(a,13)^h(a,22),u&c^u&d^c&d),x=b,b=y,y=g,g=f(p,n),p=d,d=c,c=u,u=f(n,a);i[0]=f(u,i[0]),i[1]=f(c,i[1]),i[2]=f(d,i[2]),i[3]=f(p,i[3]),i[4]=f(g,i[4]),i[5]=f(y,i[5]),i[6]=f(b,i[6]),i[7]=f(x,i[7])}return i}var p=e("./helpers"),h=function(e,t){return e>>>t|e<<32-t},m=function(e,t){return e>>>t};t.exports=function(e){return p.hash(e,d,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(e,t,n){(function(e,t,r,i,o,a,l,s,u){n.read=function(e,t,n,r,i){var o,a,l=8*i-r-1,s=(1<<l)-1,u=s>>1,c=-7,f=n?i-1:0,d=n?-1:1,i=e[t+f];for(f+=d,o=i&(1<<-c)-1,i>>=-c,c+=l;0<c;o=256*o+e[t+f],f+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;0<c;a=256*a+e[t+f],f+=d,c-=8);if(0===o)o=1-u;else{if(o===s)return a?NaN:1/0*(i?-1:1);a+=Math.pow(2,r),o-=u}return(i?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,l,s=8*o-i-1,u=(1<<s)-1,c=u>>1,f=23===i?5960464477539062e-23:0,d=r?0:o-1,p=r?1:-1,o=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(l=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-a))<1&&(a--,r*=2),2<=(t+=1<=a+c?f/r:f*Math.pow(2,1-c))*r&&(a++,r/=2),u<=a+c?(l=0,a=u):1<=a+c?(l=(t*r-1)*Math.pow(2,i),a+=c):(l=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));8<=i;e[n+d]=255&l,d+=p,l/=256,i-=8);for(a=a<<i|l,s+=i;0<s;e[n+d]=255&a,d+=p,a/=256,s-=8);e[n+d-p]|=128*o}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(e,t,n){(function(e,n,r,i,o,a,l,s,u){var c,f,d;function p(){}(e=t.exports={}).nextTick=(f="undefined"!=typeof window&&window.setImmediate,d="undefined"!=typeof window&&window.postMessage&&window.addEventListener,f?function(e){return window.setImmediate(e)}:d?(c=[],window.addEventListener("message",function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<c.length&&c.shift()())},!0),function(e){c.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=p,e.addListener=p,e.once=p,e.off=p,e.removeListener=p,e.removeAllListeners=p,e.emit=p,e.binding=function(e){throw Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)},2703:function(e,t,n){"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:function(e,t,n){e.exports=n(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5944:function(e,t,n){"use strict";n.d(t,{b_:function(){return f},vX:function(){return d}});let{random:r,sin:i,cos:o,acos:a,sqrt:l,cbrt:s,PI:u}=Math,c=(e=1)=>r()*e,f=c,d=(e,t)=>e+c(t-e)},5878:function(e,t){"use strict";t.Z=function(e){return function(t){e.forEach(function(e){"function"==typeof e?e(t):null!=e&&(e.current=t)})}}},6511:function(e,t){"use strict";/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},7287:function(e,t,n){/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ e.exports=function(e){"use strict";var t,r,i,o,a,l={},s=n(7294),u=n(3840),c=Object.assign;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,p=Symbol.for("react.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function k(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}function O(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case h:return"Portal";case y:return"Profiler";case g:return"StrictMode";case w:return"Suspense";case S:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case b:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}function M(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function T(e){if(M(e)!==e)throw Error(f(188))}function j(e){var t=e.alternate;if(!t){if(null===(t=M(e)))throw Error(f(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return T(i),e;if(o===r)return T(i),t;o=o.sibling}throw Error(f(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(f(189))}}if(n.alternate!==r)throw Error(f(190))}if(3!==n.tag)throw Error(f(188));return n.stateNode.current===n?e:t}function R(e){return null!==(e=j(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var I,A=Array.isArray,$=e.getPublicInstance,D=e.getRootHostContext,N=e.getChildHostContext,L=e.prepareForCommit,B=e.resetAfterCommit,F=e.createInstance,U=e.appendInitialChild,H=e.finalizeInitialChildren,V=e.prepareUpdate,W=e.shouldSetTextContent,K=e.createTextInstance,G=e.scheduleTimeout,q=e.cancelTimeout,Y=e.noTimeout,Q=e.isPrimaryRenderer,Z=e.supportsMutation,X=e.supportsPersistence,J=e.supportsHydration,ee=e.getInstanceFromNode,et=e.preparePortalMount,en=e.getCurrentEventPriority,er=e.detachDeletedInstance,ei=e.supportsMicrotasks,eo=e.scheduleMicrotask,ea=e.supportsTestSelectors,el=e.findFiberRoot,es=e.getBoundingRect,eu=e.getTextContent,ec=e.isHiddenSubtree,ef=e.matchAccessibilityRole,ed=e.setFocusIfFocusable,ep=e.setupIntersectionObserver,eh=e.appendChild,em=e.appendChildToContainer,ev=e.commitTextUpdate,eg=e.commitMount,ey=e.commitUpdate,eb=e.insertBefore,ex=e.insertInContainerBefore,e_=e.removeChild,ew=e.removeChildFromContainer,eS=e.resetTextContent,eE=e.hideInstance,eC=e.hideTextInstance,eP=e.unhideInstance,ez=e.unhideTextInstance,ek=e.clearContainer,eO=e.cloneInstance,eM=e.createContainerChildSet,eT=e.appendChildToContainerChildSet,ej=e.finalizeContainerChildren,eR=e.replaceContainerChildren,eI=e.cloneHiddenInstance,eA=e.cloneHiddenTextInstance,e$=e.canHydrateInstance,eD=e.canHydrateTextInstance,eN=e.canHydrateSuspenseInstance,eL=e.isSuspenseInstancePending,eB=e.isSuspenseInstanceFallback,eF=e.registerSuspenseInstanceRetry,eU=e.getNextHydratableSibling,eH=e.getFirstHydratableChild,eV=e.getFirstHydratableChildWithinContainer,eW=e.getFirstHydratableChildWithinSuspenseInstance,eK=e.hydrateInstance,eG=e.hydrateTextInstance,eq=e.hydrateSuspenseInstance,eY=e.getNextHydratableInstanceAfterSuspenseInstance,eQ=e.commitHydratedContainer,eZ=e.commitHydratedSuspenseInstance,eX=e.clearSuspenseBoundary,eJ=e.clearSuspenseBoundaryFromContainer,e0=e.shouldDeleteUnhydratedTailInstances,e1=e.didNotMatchHydratedContainerTextInstance,e2=e.didNotMatchHydratedTextInstance;function e3(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var e4=!1;function e5(e,t){if(!e||e4)return"";e4=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(i){var r=i}Reflect.construct(e,[],t)}else{try{t.call()}catch(o){r=o}e.call(t.prototype)}}else{try{throw Error()}catch(a){r=a}e()}}catch(d){if(d&&r&&"string"==typeof d.stack){for(var l=d.stack.split("\n"),s=r.stack.split("\n"),u=l.length-1,c=s.length-1;1<=u&&0<=c&&l[u]!==s[c];)c--;for(;1<=u&&0<=c;u--,c--)if(l[u]!==s[c]){if(1!==u||1!==c)do if(u--,0>--c||l[u]!==s[c]){var f="\n"+l[u].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=u&&0<=c);break}}}finally{e4=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?e3(e):""}var e6=Object.prototype.hasOwnProperty,e8=[],e9=-1;function e7(e){return{current:e}}function te(e){0>e9||(e.current=e8[e9],e8[e9]=null,e9--)}function tt(e,t){e8[++e9]=e.current,e.current=t}var tn={},tr=e7(tn),ti=e7(!1),to=tn;function ta(e,t){var n=e.type.contextTypes;if(!n)return tn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function tl(e){return null!=(e=e.childContextTypes)}function ts(){te(ti),te(tr)}function tu(e,t,n){if(tr.current!==tn)throw Error(f(168));tt(tr,t),tt(ti,n)}function tc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(f(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(t);case 8:return t===g?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",i));return c({},n,r)}function tf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tn,to=tr.current,tt(tr,e),tt(ti,ti.current),!0}function td(e,t,n){var r=e.stateNode;if(!r)throw Error(f(169));n?(e=tc(e,t,to),r.__reactInternalMemoizedMergedChildContext=e,te(ti),te(tr),tt(tr,e)):te(ti),tt(ti,n)}var tp=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(th(e)/tm|0)|0},th=Math.log,tm=Math.LN2,tv=64,tg=4194304;function ty(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tb(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var l=a&~i;0!==l?r=ty(l):0!=(o&=a)&&(r=ty(o))}else 0!=(a=n&~i)?r=ty(a):0!==o&&(r=ty(o));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-tp(t)),r|=e[n],t&=~i;return r}function tx(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function t_(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tw(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-tp(t)]=n}function tS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tp(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tE=0;function tC(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var tP=u.unstable_scheduleCallback,tz=u.unstable_cancelCallback,tk=u.unstable_shouldYield,tO=u.unstable_requestPaint,tM=u.unstable_now,tT=u.unstable_ImmediatePriority,tj=u.unstable_UserBlockingPriority,tR=u.unstable_NormalPriority,tI=u.unstable_IdlePriority,tA=null,t$=null,tD="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},tN=null,tL=!1,tB=!1;function tF(){if(!tB&&null!==tN){tB=!0;var e=0,t=tE;try{var n=tN;for(tE=1;e<n.length;e++){var r=n[e];do r=r(!0);while(null!==r)}tN=null,tL=!1}catch(i){throw null!==tN&&(tN=tN.slice(e+1)),tP(tT,tF),i}finally{tE=t,tB=!1}}return null}var tU=d.ReactCurrentBatchConfig;function tH(e,t){if(tD(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!e6.call(t,i)||!tD(e[i],t[i]))return!1}return!0}function tV(e,t){if(e&&e.defaultProps)for(var n in t=c({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var tW=e7(null),tK=null,tG=null,tq=null;function tY(){tq=tG=tK=null}function tQ(e,t,n){Q?(tt(tW,t._currentValue),t._currentValue=n):(tt(tW,t._currentValue2),t._currentValue2=n)}function tZ(e){var t=tW.current;te(tW),Q?e._currentValue=t:e._currentValue2=t}function tX(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function tJ(e,t){tK=e,tq=tG=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(r0=!0),e.firstContext=null)}function t0(e){var t=Q?e._currentValue:e._currentValue2;if(tq!==e){if(e={context:e,memoizedValue:t,next:null},null===tG){if(null===tK)throw Error(f(308));tG=e,tK.dependencies={lanes:0,firstContext:e}}else tG=tG.next=e}return t}var t1=null,t2=!1;function t3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function t5(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function t6(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==iQ&&0!=(1&e.mode)&&0==(2&iY)?(null===(e=n.interleaved)?(t.next=t,null===t1?t1=[n]:t1.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function t8(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tS(e,n)}}function t9(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function t7(e,t,n,r){var i=e.updateQueue;t2=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(null!==l){i.shared.pending=null;var s=l,u=s.next;s.next=null,null===a?o=u:a.next=u,a=s;var f=e.alternate;null!==f&&(l=(f=f.updateQueue).lastBaseUpdate)!==a&&(null===l?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=s)}if(null!==o){var d=i.baseState;for(a=0,f=u=s=null,l=o;;){var p=l.lane,h=l.eventTime;if((r&p)===p){null!==f&&(f=f.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});t:{var m=e,g=l;switch(p=t,h=n,g.tag){case 1:if("function"==typeof(m=g.payload)){d=m.call(h,d,p);break t}d=m;break t;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=g.payload)?m.call(h,d,p):m))break t;d=c({},d,p);break t;case 2:t2=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(p=i.effects)?i.effects=[l]:p.push(l))}else h={eventTime:h,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===f?(u=f=h,s=d):f=f.next=h,a|=p;if(null===(l=l.next)){if(null===(l=i.shared.pending))break;l=(p=l).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}if(null===f&&(s=d),i.baseState=s,i.firstBaseUpdate=u,i.lastBaseUpdate=f,null!==(t=i.shared.interleaved)){i=t;do a|=i.lane,i=i.next;while(i!==t)}else null===o&&(i.shared.lanes=0);i3|=a,e.lanes=a,e.memoizedState=d}}function ne(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(f(191,i));i.call(r)}}}var nt=(new s.Component).refs;function nn(e,t,n,r){t=e.memoizedState,n=null==(n=n(r,t))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var nr={isMounted:function(e){return!!(e=e._reactInternals)&&M(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=of(),i=od(e),o=t5(r,i);o.payload=t,null!=n&&(o.callback=n),t6(e,o),null!==(t=op(e,i,r))&&t8(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=of(),i=od(e),o=t5(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),t6(e,o),null!==(t=op(e,i,r))&&t8(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=of(),r=od(e),i=t5(n,r);i.tag=2,null!=t&&(i.callback=t),t6(e,i),null!==(t=op(e,r,n))&&t8(t,e,r)}};function ni(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||!tH(n,r)||!tH(i,o)}function no(e,t,n){var r=!1,i=tn,o=t.contextType;return"object"==typeof o&&null!==o?o=t0(o):(i=tl(t)?to:tr.current,o=(r=null!=(r=t.contextTypes))?ta(e,i):tn),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=nr,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function na(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&nr.enqueueReplaceState(t,t.state,null)}function nl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=nt,t3(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=t0(o):(o=tl(t)?to:tr.current,i.context=ta(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(nn(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&nr.enqueueReplaceState(i,i.state,null),t7(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}var ns=[],nu=0,nc=null,nf=0,nd=[],np=0,nh=null,nm=1,nv="";function ng(e,t){ns[nu++]=nf,ns[nu++]=nc,nc=e,nf=t}function ny(e,t,n){nd[np++]=nm,nd[np++]=nv,nd[np++]=nh,nh=e;var r=nm;e=nv;var i=32-tp(r)-1;r&=~(1<<i),n+=1;var o=32-tp(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,nm=1<<32-tp(t)+i|n<<i|r,nv=o+e}else nm=1<<o|n<<i|r,nv=e}function nb(e){null!==e.return&&(ng(e,1),ny(e,1,0))}function nx(e){for(;e===nc;)nc=ns[--nu],ns[nu]=null,nf=ns[--nu],ns[nu]=null;for(;e===nh;)nh=nd[--np],nd[np]=null,nv=nd[--np],nd[np]=null,nm=nd[--np],nd[np]=null}var n_=null,nw=null,nS=!1,nE=!1,nC=null;function nP(e,t){var n=oL(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function nz(e,t){switch(e.tag){case 5:return null!==(t=e$(t,e.type,e.pendingProps))&&(e.stateNode=t,n_=e,nw=eH(t),!0);case 6:return null!==(t=eD(t,e.pendingProps))&&(e.stateNode=t,n_=e,nw=null,!0);case 13:if(null!==(t=eN(t))){var n=null!==nh?{id:nm,overflow:nv}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=oL(18,null,null,0)).stateNode=t,n.return=e,e.child=n,n_=e,nw=null,!0}return!1;default:return!1}}function nk(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function nO(e){if(nS){var t=nw;if(t){var n=t;if(!nz(e,t)){if(nk(e))throw Error(f(418));t=eU(n);var r=n_;t&&nz(e,t)?nP(r,n):(e.flags=-4097&e.flags|2,nS=!1,n_=e)}}else{if(nk(e))throw Error(f(418));e.flags=-4097&e.flags|2,nS=!1,n_=e}}}function nM(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;n_=e}function nT(e){if(!J||e!==n_)return!1;if(!nS)return nM(e),nS=!0,!1;if(3!==e.tag&&(5!==e.tag||e0(e.type)&&!W(e.type,e.memoizedProps))){var t=nw;if(t){if(nk(e)){for(e=nw;e;)e=eU(e);throw Error(f(418))}for(;t;)nP(e,t),t=eU(t)}}if(nM(e),13===e.tag){if(!J)throw Error(f(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(f(317));nw=eY(e)}else nw=n_?eU(e.stateNode):null;return!0}function nj(){J&&(nw=n_=null,nE=nS=!1)}function nR(e){null===nC?nC=[e]:nC.push(e)}function nI(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(f(309));var r=n.stateNode}if(!r)throw Error(f(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===nt&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(f(284));if(!n._owner)throw Error(f(290,e))}return e}function nA(e,t){throw Error(f(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function n$(e){return(0,e._init)(e._payload)}function nD(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=oF(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=oW(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function s(e,t,n,r){var o=n.type;return o===m?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===C&&n$(o)===t.type)?((r=i(t,n.props)).ref=nI(e,t,n),r.return=e,r):((r=oU(n.type,n.key,n.props,null,e.mode,r)).ref=nI(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=oK(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,o){return null===t||7!==t.tag?((t=oH(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=oW(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case p:return(n=oU(t.type,t.key,t.props,null,e.mode,n)).ref=nI(e,null,t),n.return=e,n;case h:return(t=oK(t,e.mode,n)).return=e,t;case C:var r=t._init;return d(e,r(t._payload),n)}if(A(t)||k(t))return(t=oH(t,e.mode,n,null)).return=e,t;nA(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?s(e,t,n,r):null;case h:return n.key===i?u(e,t,n,r):null;case C:return g(e,t,(i=n._init)(n._payload),r)}if(A(n)||k(n))return null!==i?null:c(e,t,n,r,null);nA(e,n)}return null}function y(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case p:return s(t,e=e.get(null===r.key?n:r.key)||null,r,i);case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return y(e,t,n,(0,r._init)(r._payload),i)}if(A(r)||k(r))return c(t,e=e.get(n)||null,r,i,null);nA(t,r)}return null}return function l(s,u,c,b){if("object"==typeof c&&null!==c&&c.type===m&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case p:t:{for(var x=c.key,_=u;null!==_;){if(_.key===x){if((x=c.type)===m){if(7===_.tag){n(s,_.sibling),(u=i(_,c.props.children)).return=s,s=u;break t}}else if(_.elementType===x||"object"==typeof x&&null!==x&&x.$$typeof===C&&n$(x)===_.type){n(s,_.sibling),(u=i(_,c.props)).ref=nI(s,_,c),u.return=s,s=u;break t}n(s,_);break}t(s,_),_=_.sibling}c.type===m?((u=oH(c.props.children,s.mode,b,c.key)).return=s,s=u):((b=oU(c.type,c.key,c.props,null,s.mode,b)).ref=nI(s,u,c),b.return=s,s=b)}return a(s);case h:t:{for(_=c.key;null!==u;){if(u.key===_){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(s,u.sibling),(u=i(u,c.children||[])).return=s,s=u;break t}n(s,u);break}t(s,u),u=u.sibling}(u=oK(c,s.mode,b)).return=s,s=u}return a(s);case C:return l(s,u,(_=c._init)(c._payload),b)}if(A(c))return function(i,a,l,s){for(var u=null,c=null,f=a,p=a=0,h=null;null!==f&&p<l.length;p++){f.index>p?(h=f,f=null):h=f.sibling;var m=g(i,f,l[p],s);if(null===m){null===f&&(f=h);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,p),null===c?u=m:c.sibling=m,c=m,f=h}if(p===l.length)return n(i,f),nS&&ng(i,p),u;if(null===f){for(;p<l.length;p++)null!==(f=d(i,l[p],s))&&(a=o(f,a,p),null===c?u=f:c.sibling=f,c=f);return nS&&ng(i,p),u}for(f=r(i,f);p<l.length;p++)null!==(h=y(f,i,p,l[p],s))&&(e&&null!==h.alternate&&f.delete(null===h.key?p:h.key),a=o(h,a,p),null===c?u=h:c.sibling=h,c=h);return e&&f.forEach(function(e){return t(i,e)}),nS&&ng(i,p),u}(s,u,c,b);if(k(c))return function(i,a,l,s){var u=k(l);if("function"!=typeof u)throw Error(f(150));if(null==(l=u.call(l)))throw Error(f(151));for(var c=u=null,p=a,h=a=0,m=null,b=l.next();null!==p&&!b.done;h++,b=l.next()){p.index>h?(m=p,p=null):m=p.sibling;var x=g(i,p,b.value,s);if(null===x){null===p&&(p=m);break}e&&p&&null===x.alternate&&t(i,p),a=o(x,a,h),null===c?u=x:c.sibling=x,c=x,p=m}if(b.done)return n(i,p),nS&&ng(i,h),u;if(null===p){for(;!b.done;h++,b=l.next())null!==(b=d(i,b.value,s))&&(a=o(b,a,h),null===c?u=b:c.sibling=b,c=b);return nS&&ng(i,h),u}for(p=r(i,p);!b.done;h++,b=l.next())null!==(b=y(p,i,h,b.value,s))&&(e&&null!==b.alternate&&p.delete(null===b.key?h:b.key),a=o(b,a,h),null===c?u=b:c.sibling=b,c=b);return e&&p.forEach(function(e){return t(i,e)}),nS&&ng(i,h),u}(s,u,c,b);nA(s,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(s,u.sibling),(u=i(u,c)).return=s,s=u):(n(s,u),(u=oW(c,s.mode,b)).return=s,s=u),a(s)):n(s,u)}}var nN=nD(!0),nL=nD(!1),nB={},nF=e7(nB),nU=e7(nB),nH=e7(nB);function nV(e){if(e===nB)throw Error(f(174));return e}function nW(e,t){tt(nH,t),tt(nU,e),tt(nF,nB),e=D(t),te(nF),tt(nF,e)}function nK(){te(nF),te(nU),te(nH)}function nG(e){var t=nV(nH.current),n=nV(nF.current);t=N(n,e.type,t),n!==t&&(tt(nU,e),tt(nF,t))}function nq(e){nU.current===e&&(te(nF),te(nU))}var nY=e7(0);function nQ(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||eL(n)||eB(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nZ=[];function nX(){for(var e=0;e<nZ.length;e++){var t=nZ[e];Q?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}nZ.length=0}var nJ=d.ReactCurrentDispatcher,n0=d.ReactCurrentBatchConfig,n1=0,n2=null,n3=null,n4=null,n5=!1,n6=!1,n8=0,n9=0;function n7(){throw Error(f(321))}function re(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tD(e[n],t[n]))return!1;return!0}function rt(e,t,n,r,i,o){if(n1=o,n2=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nJ.current=null===e||null===e.memoizedState?rD:rN,e=n(r,i),n6){o=0;do{if(n6=!1,n8=0,25<=o)throw Error(f(301));o+=1,n4=n3=null,t.updateQueue=null,nJ.current=rL,e=n(r,i)}while(n6)}if(nJ.current=r$,t=null!==n3&&null!==n3.next,n1=0,n4=n3=n2=null,n5=!1,t)throw Error(f(300));return e}function rn(){var e=0!==n8;return n8=0,e}function rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===n4?n2.memoizedState=n4=e:n4=n4.next=e,n4}function ri(){if(null===n3){var e=n2.alternate;e=null!==e?e.memoizedState:null}else e=n3.next;var t=null===n4?n2.memoizedState:n4.next;if(null!==t)n4=t,n3=e;else{if(null===e)throw Error(f(310));e={memoizedState:(n3=e).memoizedState,baseState:n3.baseState,baseQueue:n3.baseQueue,queue:n3.queue,next:null},null===n4?n2.memoizedState=n4=e:n4=n4.next=e}return n4}function ro(e,t){return"function"==typeof t?t(e):t}function ra(e){var t=ri(),n=t.queue;if(null===n)throw Error(f(311));n.lastRenderedReducer=e;var r=n3,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,s=null,u=o;do{var c=u.lane;if((n1&c)===c)null!==s&&(s=s.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===s?(l=s=d,a=r):s=s.next=d,n2.lanes|=c,i3|=c}u=u.next}while(null!==u&&u!==o);null===s?a=r:s.next=l,tD(r,t.memoizedState)||(r0=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do o=i.lane,n2.lanes|=o,i3|=o,i=i.next;while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rl(e){var t=ri(),n=t.queue;if(null===n)throw Error(f(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);tD(o,t.memoizedState)||(r0=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function rs(){}function ru(e,t){var n=n2,r=ri(),i=t(),o=!tD(r.memoizedState,i);if(o&&(r.memoizedState=i,r0=!0),r=r.queue,rx(rd.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==n4&&1&n4.memoizedState.tag){if(n.flags|=2048,rm(9,rf.bind(null,n,r,i,t),void 0,null),null===iQ)throw Error(f(349));0!=(30&n1)||rc(n,t,i)}return i}function rc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=n2.updateQueue)?(t={lastEffect:null,stores:null},n2.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function rf(e,t,n,r){t.value=n,t.getSnapshot=r,rp(t)&&op(e,1,-1)}function rd(e,t,n){return n(function(){rp(t)&&op(e,1,-1)})}function rp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tD(e,n)}catch(r){return!0}}function rh(e){var t=rr();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ro,lastRenderedState:e},t.queue=e,e=e.dispatch=rT.bind(null,n2,e),[t.memoizedState,e]}function rm(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=n2.updateQueue)?(t={lastEffect:null,stores:null},n2.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function rv(){return ri().memoizedState}function rg(e,t,n,r){var i=rr();n2.flags|=e,i.memoizedState=rm(1|t,n,void 0,void 0===r?null:r)}function ry(e,t,n,r){var i=ri();r=void 0===r?null:r;var o=void 0;if(null!==n3){var a=n3.memoizedState;if(o=a.destroy,null!==r&&re(r,a.deps)){i.memoizedState=rm(t,n,o,r);return}}n2.flags|=e,i.memoizedState=rm(1|t,n,o,r)}function rb(e,t){return rg(8390656,8,e,t)}function rx(e,t){return ry(2048,8,e,t)}function r_(e,t){return ry(4,2,e,t)}function rw(e,t){return ry(4,4,e,t)}function rS(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function rE(e,t,n){return n=null!=n?n.concat([e]):null,ry(4,4,rS.bind(null,t,e),n)}function rC(){}function rP(e,t){var n=ri();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&re(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function rz(e,t){var n=ri();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&re(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rk(e,t){var n=tE;tE=0!==n&&4>n?n:4,e(!0);var r=n0.transition;n0.transition={};try{e(!1),t()}finally{tE=n,n0.transition=r}}function rO(){return ri().memoizedState}function rM(e,t,n){var r=od(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rj(e)?rR(t,n):(rI(e,t,n),null!==(e=op(e,r,n=of()))&&rA(e,t,r))}function rT(e,t,n){var r=od(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rj(e))rR(t,i);else{rI(e,t,i);var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,tD(l,a))return}catch(s){}finally{}null!==(e=op(e,r,n=of()))&&rA(e,t,r)}}function rj(e){var t=e.alternate;return e===n2||null!==t&&t===n2}function rR(e,t){n6=n5=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rI(e,t,n){null!==iQ&&0!=(1&e.mode)&&0==(2&iY)?(null===(e=t.interleaved)?(n.next=n,null===t1?t1=[t]:t1.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function rA(e,t,n){if(0!=(4194240&n)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tS(e,n)}}var r$={readContext:t0,useCallback:n7,useContext:n7,useEffect:n7,useImperativeHandle:n7,useInsertionEffect:n7,useLayoutEffect:n7,useMemo:n7,useReducer:n7,useRef:n7,useState:n7,useDebugValue:n7,useDeferredValue:n7,useTransition:n7,useMutableSource:n7,useSyncExternalStore:n7,useId:n7,unstable_isNewReconciler:!1},rD={readContext:t0,useCallback:function(e,t){return rr().memoizedState=[e,void 0===t?null:t],e},useContext:t0,useEffect:rb,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,rg(4194308,4,rS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rg(4194308,4,e,t)},useInsertionEffect:function(e,t){return rg(4,2,e,t)},useMemo:function(e,t){var n=rr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rr();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=rM.bind(null,n2,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},rr().memoizedState=e},useState:rh,useDebugValue:rC,useDeferredValue:function(e){var t=rh(e),n=t[0],r=t[1];return rb(function(){var t=n0.transition;n0.transition={};try{r(e)}finally{n0.transition=t}},[e]),n},useTransition:function(){var e=rh(!1),t=e[0];return e=rk.bind(null,e[1]),rr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=n2,i=rr();if(nS){if(void 0===n)throw Error(f(407));n=n()}else{if(n=t(),null===iQ)throw Error(f(349));0!=(30&n1)||rc(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,rb(rd.bind(null,r,o,e),[e]),r.flags|=2048,rm(9,rf.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=rr(),t=iQ.identifierPrefix;if(nS){var n=nv,r=nm;t=":"+t+"R"+(n=(r&~(1<<32-tp(r)-1)).toString(32)+n),0<(n=n8++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=n9++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},rN={readContext:t0,useCallback:rP,useContext:t0,useEffect:rx,useImperativeHandle:rE,useInsertionEffect:r_,useLayoutEffect:rw,useMemo:rz,useReducer:ra,useRef:rv,useState:function(){return ra(ro)},useDebugValue:rC,useDeferredValue:function(e){var t=ra(ro),n=t[0],r=t[1];return rx(function(){var t=n0.transition;n0.transition={};try{r(e)}finally{n0.transition=t}},[e]),n},useTransition:function(){return[ra(ro)[0],ri().memoizedState]},useMutableSource:rs,useSyncExternalStore:ru,useId:rO,unstable_isNewReconciler:!1},rL={readContext:t0,useCallback:rP,useContext:t0,useEffect:rx,useImperativeHandle:rE,useInsertionEffect:r_,useLayoutEffect:rw,useMemo:rz,useReducer:rl,useRef:rv,useState:function(){return rl(ro)},useDebugValue:rC,useDeferredValue:function(e){var t=rl(ro),n=t[0],r=t[1];return rx(function(){var t=n0.transition;n0.transition={};try{r(e)}finally{n0.transition=t}},[e]),n},useTransition:function(){return[rl(ro)[0],ri().memoizedState]},useMutableSource:rs,useSyncExternalStore:ru,useId:rO,unstable_isNewReconciler:!1};function rB(e,t){try{var n="",r=t;do n+=function(e){switch(e.tag){case 5:return e3(e.type);case 16:return e3("Lazy");case 13:return e3("Suspense");case 19:return e3("SuspenseList");case 0:case 2:case 15:return e=e5(e.type,!1);case 11:return e=e5(e.type.render,!1);case 1:return e=e5(e.type,!0);default:return""}}(r),r=r.return;while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function rF(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rU="function"==typeof WeakMap?WeakMap:Map;function rH(e,t,n){(n=t5(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ot||(ot=!0,on=r),rF(e,t)},n}function rV(e,t,n){(n=t5(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){rF(e,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){rF(e,t),"function"!=typeof r&&(null===or?or=new Set([this]):or.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function rW(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rU;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=oI.bind(null,e,t,n),t.then(e,e))}function rK(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function rG(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=t5(-1,1)).tag=2,t6(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function rq(e){e.flags|=4}function rY(e,t){if(null!==e&&e.child===t.child)return!0;if(0!=(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!=(12854&e.flags)||0!=(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(Z)t=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)U(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},r=function(){},i=function(e,t,n,r,i){(e=e.memoizedProps)!==r&&(n=V(t.stateNode,n,e,r,i,nV(nF.current)),(t.updateQueue=n)&&rq(t))},o=function(e,t,n,r){n!==r&&rq(t)};else if(X){t=function(e,n,r,i){for(var o=n.child;null!==o;){if(5===o.tag){var a=o.stateNode;r&&i&&(a=eI(a,o.type,o.memoizedProps,o)),U(e,a)}else if(6===o.tag)a=o.stateNode,r&&i&&(a=eA(a,o.memoizedProps,o)),U(e,a);else if(4!==o.tag){if(22===o.tag&&null!==o.memoizedState)null!==(a=o.child)&&(a.return=o),t(e,o,!0,!0);else if(null!==o.child){o.child.return=o,o=o.child;continue}}if(o===n)break;for(;null===o.sibling;){if(null===o.return||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};var rQ=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=eI(o,i.type,i.memoizedProps,i)),eT(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=eA(o,i.memoizedProps,i)),eT(e,o);else if(4!==i.tag){if(22===i.tag&&null!==i.memoizedState)null!==(o=i.child)&&(o.return=i),rQ(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};r=function(e,t){var n=t.stateNode;if(!rY(e,t)){var r=eM(e=n.containerInfo);rQ(r,t,!1,!1),n.pendingChildren=r,rq(t),ej(e,r)}},i=function(e,n,r,i,o){var a=e.stateNode,l=e.memoizedProps;if((e=rY(e,n))&&l===i)n.stateNode=a;else{var s=n.stateNode,u=nV(nF.current),c=null;l!==i&&(c=V(s,r,l,i,o,u)),e&&null===c?n.stateNode=a:(H(a=eO(a,c,r,l,i,n,e,s),r,i,o,u)&&rq(n),n.stateNode=a,e?rq(n):t(a,n,!1,!1))}},o=function(e,t,n,r){n!==r?(e=nV(nH.current),n=nV(nF.current),t.stateNode=K(r,e,n,t),rq(t)):t.stateNode=e.stateNode}}else r=function(){},i=function(){},o=function(){};function rZ(e,t){if(!nS)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rX(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}var rJ=d.ReactCurrentOwner,r0=!1;function r1(e,t,n,r){t.child=null===e?nL(t,null,n,r):nN(t,e.child,n,r)}function r2(e,t,n,r,i){n=n.render;var o=t.ref;return(tJ(t,i),r=rt(e,t,n,r,o,i),n=rn(),null===e||r0)?(nS&&n&&nb(t),t.flags|=1,r1(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,id(e,t,i))}function r3(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||oB(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=oU(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,r4(e,t,o,r,i))}if(o=e.child,0==(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:tH)(a,r)&&e.ref===t.ref)return id(e,t,i)}return t.flags|=1,(e=oF(o,r)).ref=t.ref,e.return=t,t.child=e}function r4(e,t,n,r,i){if(null!==e&&tH(e.memoizedProps,r)&&e.ref===t.ref){if(r0=!1,0==(e.lanes&i))return t.lanes=e.lanes,id(e,t,i);0!=(131072&e.flags)&&(r0=!0)}return r8(e,t,n,r,i)}function r5(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},tt(i0,iJ),iJ|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,tt(i0,iJ),iJ|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==o?o.baseLanes:n,tt(i0,iJ),iJ|=r}}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,tt(i0,iJ),iJ|=r;return r1(e,t,i,n),t.child}function r6(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function r8(e,t,n,r,i){var o=tl(n)?to:tr.current;return(o=ta(t,o),tJ(t,i),n=rt(e,t,n,r,o,i),r=rn(),null===e||r0)?(nS&&r&&nb(t),t.flags|=1,r1(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,id(e,t,i))}function r9(e,t,n,r,i){if(tl(n)){var o=!0;tf(t)}else o=!1;if(tJ(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),no(t,n,r),nl(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,u=n.contextType;u="object"==typeof u&&null!==u?t0(u):ta(t,u=tl(n)?to:tr.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==r||s!==u)&&na(t,a,r,u),t2=!1;var d=t.memoizedState;a.state=d,t7(t,r,a,i),s=t.memoizedState,l!==r||d!==s||ti.current||t2?("function"==typeof c&&(nn(t,n,c,r),s=t.memoizedState),(l=t2||ni(t,n,l,r,d,s,u))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=u,r=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,t4(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:tV(t.type,l),a.props=u,f=t.pendingProps,d=a.context,s="object"==typeof(s=n.contextType)&&null!==s?t0(s):ta(t,s=tl(n)?to:tr.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==f||d!==s)&&na(t,a,r,s),t2=!1,d=t.memoizedState,a.state=d,t7(t,r,a,i);var h=t.memoizedState;l!==f||d!==h||ti.current||t2?("function"==typeof p&&(nn(t,n,p,r),h=t.memoizedState),(u=t2||ni(t,n,u,r,d,h,s)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,s),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,s)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=s,r=u):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return r7(e,t,n,r,o,i)}function r7(e,t,n,r,i,o){r6(e,t);var a=0!=(128&t.flags);if(!r&&!a)return i&&td(t,n,!1),id(e,t,o);r=t.stateNode,rJ.current=t;var l=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=nN(t,e.child,null,o),t.child=nN(t,null,l,o)):r1(e,t,l,o),t.memoizedState=r.state,i&&td(t,n,!0),t.child}function ie(e){var t=e.stateNode;t.pendingContext?tu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tu(e,t.context,!1),nW(e,t.containerInfo)}function it(e,t,n,r,i){return nj(),nR(i),t.flags|=256,r1(e,t,n,r),t.child}var ir={dehydrated:null,treeContext:null,retryLane:0};function ii(e){return{baseLanes:e,cachePool:null}}function io(e,t,n){var r,i,o,a,l,s,u,c,d,p,h,m,g,y,b=t.pendingProps,x=nY.current,_=!1,w=0!=(128&t.flags);if((y=w)||(y=(null===e||null!==e.memoizedState)&&0!=(2&x)),y?(_=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(x|=1),tt(nY,1&x),null===e)return(nO(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:eB(e)?t.lanes=8:t.lanes=1073741824,null):(x=b.children,e=b.fallback,_?(b=t.mode,_=t.child,x={mode:"hidden",children:x},0==(1&b)&&null!==_?(_.childLanes=0,_.pendingProps=x):_=oV(x,b,0,null),e=oH(e,b,n,null),_.return=t,e.return=t,_.sibling=e,t.child=_,t.child.memoizedState=ii(n),t.memoizedState=ir,e):ia(t,x));if(null!==(x=e.memoizedState)&&null!==(y=x.dehydrated)){if(w)return 256&t.flags?(t.flags&=-257,il(e,t,n,Error(f(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(_=b.fallback,x=t.mode,b=oV({mode:"visible",children:b.children},x,0,null),_=oH(_,x,n,null),_.flags|=2,b.return=t,_.return=t,b.sibling=_,t.child=b,0!=(1&t.mode)&&nN(t,e.child,null,n),t.child.memoizedState=ii(n),t.memoizedState=ir,_);if(0==(1&t.mode))t=il(e,t,n,null);else if(eB(y))t=il(e,t,n,Error(f(419)));else if(b=0!=(n&e.childLanes),r0||b){if(null!==(b=iQ)){switch(n&-n){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}0!==(b=0!=(_&(b.suspendedLanes|n))?0:_)&&b!==x.retryLane&&(x.retryLane=b,op(e,b,-1))}oP(),t=il(e,t,n,Error(f(421)))}else eL(y)?(t.flags|=128,t.child=e.child,eF(y,t=o$.bind(null,e)),t=null):(n=x.treeContext,J&&(nw=eW(y),n_=t,nS=!0,nC=null,nE=!1,null!==n&&(nd[np++]=nm,nd[np++]=nv,nd[np++]=nh,nm=n.id,nv=n.overflow,nh=t)),t=ia(t,t.pendingProps.children),t.flags|=4096);return t}return _?(r=e,i=t,o=b.children,a=b.fallback,l=n,s=i.mode,u=(r=r.child).sibling,c={mode:"hidden",children:o},0==(1&s)&&i.child!==r?((o=i.child).childLanes=0,o.pendingProps=c,i.deletions=null):(o=oF(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==u?a=oF(u,a):(a=oH(a,s,l,null),a.flags|=2),a.return=i,o.return=i,o.sibling=a,i.child=o,b=a,_=t.child,x=e.child.memoizedState,_.memoizedState=null===x?ii(n):{baseLanes:x.baseLanes|n,cachePool:null},_.childLanes=e.childLanes&~n,t.memoizedState=ir,b):(d=e,p=t,h=b.children,m=n,d=(g=d.child).sibling,h=oF(g,{mode:"visible",children:h}),0==(1&p.mode)&&(h.lanes=m),h.return=p,h.sibling=null,null!==d&&(null===(m=p.deletions)?(p.deletions=[d],p.flags|=16):m.push(d)),n=p.child=h,t.memoizedState=null,n)}function ia(e,t){return(t=oV({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function il(e,t,n,r){return null!==r&&nR(r),nN(t,e.child,null,n),e=ia(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function is(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),tX(e.return,t,n)}function iu(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ic(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(r1(e,t,r.children,n),0!=(2&(r=nY.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))t:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&is(e,n,t);else if(19===e.tag)is(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;null===e.sibling;){if(null===e.return||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tt(nY,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===nQ(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),iu(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===nQ(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}iu(t,!0,n,null,o);break;case"together":iu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function id(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),i3|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(f(153));if(null!==t.child){for(n=oF(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=oF(e,e.pendingProps)).return=t;n.sibling=null}return t.child}var ip=!1,ih=!1,im="function"==typeof WeakSet?WeakSet:Set,iv=null;function ig(e,t){var n=e.ref;if(null!==n){if("function"==typeof n)try{n(null)}catch(r){oR(e,t,r)}else n.current=null}}function iy(e,t,n){try{n()}catch(r){oR(e,t,r)}}var ib=!1;function ix(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&iy(t,n,o)}i=i.next}while(i!==r)}}function i_(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iw(e){var t=e.ref;if(null!==t){var n=e.stateNode;e=5===e.tag?$(n):n,"function"==typeof t?t(e):t.current=e}}function iS(e,t,n){if(t$&&"function"==typeof t$.onCommitFiberUnmount)try{t$.onCommitFiberUnmount(tA,t)}catch(r){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e=e.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!=(2&o)?iy(t,n,a):0!=(4&o)&&iy(t,n,a)),i=i.next}while(i!==e)}break;case 1:if(ig(t,n),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(l){oR(t,n,l)}break;case 5:ig(t,n);break;case 4:Z?ik(e,t,n):X&&X&&(n=eM(t=t.stateNode.containerInfo),eR(t,n))}}function iE(e,t,n){for(var r=t;;)if(iS(e,r,n),null===r.child||Z&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function iC(e){return 5===e.tag||3===e.tag||4===e.tag}function iP(e){t:for(;;){for(;null===e.sibling;){if(null===e.return||iC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue t;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function iz(e){if(Z){t:{for(var t=e.return;null!==t;){if(iC(t))break t;t=t.return}throw Error(f(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(eS(t),n.flags&=-33),n=iP(e),function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?eb(r,t,n):eh(r,t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t);break;case 3:case 4:t=n.stateNode.containerInfo,n=iP(e),function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?ex(r,t,n):em(r,t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t);break;default:throw Error(f(161))}}}function ik(e,t,n){for(var r,i,o=t,a=!1;;){if(!a){a=o.return;t:for(;;){if(null===a)throw Error(f(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break t;case 3:case 4:r=r.containerInfo,i=!0;break t}a=a.return}a=!0}if(5===o.tag||6===o.tag)iE(e,o,n),i?ew(r,o.stateNode):e_(r,o.stateNode);else if(18===o.tag)i?eJ(r,o.stateNode):eX(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(iS(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function iO(e,t){if(Z){switch(t.tag){case 0:case 11:case 14:case 15:ix(3,t,t.return),i_(3,t),ix(5,t,t.return);return;case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&ey(n,o,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(f(162));n=t.memoizedProps,ev(t.stateNode,null!==e?e.memoizedProps:n,n);return;case 3:J&&null!==e&&e.memoizedState.isDehydrated&&eQ(t.stateNode.containerInfo);return;case 13:case 19:iM(t);return}throw Error(f(163))}switch(t.tag){case 0:case 11:case 14:case 15:ix(3,t,t.return),i_(3,t),ix(5,t,t.return);return;case 12:case 22:case 23:return;case 13:case 19:iM(t);return;case 3:J&&null!==e&&e.memoizedState.isDehydrated&&eQ(t.stateNode.containerInfo)}t:if(X){switch(t.tag){case 1:case 5:case 6:break t;case 3:case 4:eR((t=t.stateNode).containerInfo,t.pendingChildren);break t}throw Error(f(163))}}function iM(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new im),t.forEach(function(t){var r=oD.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function iT(e){for(;null!==iv;){var t=iv;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ih||i_(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!ih){if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:tV(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}}var o=t.updateQueue;null!==o&&ne(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=$(t.child.stateNode);break;case 1:n=t.child.stateNode}ne(t,a,n)}break;case 5:var l=t.stateNode;null===n&&4&t.flags&&eg(l,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(J&&null===t.memoizedState){var s=t.alternate;if(null!==s){var u=s.memoizedState;if(null!==u){var c=u.dehydrated;null!==c&&eZ(c)}}}break;default:throw Error(f(163))}ih||512&t.flags&&iw(t)}catch(d){oR(t,t.return,d)}}if(t===e){iv=null;break}if(null!==(n=t.sibling)){n.return=t.return,iv=n;break}iv=t.return}}function ij(e){for(;null!==iv;){var t=iv;if(t===e){iv=null;break}var n=t.sibling;if(null!==n){n.return=t.return,iv=n;break}iv=t.return}}function iR(e){for(;null!==iv;){var t=iv;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{i_(4,t)}catch(r){oR(t,n,r)}break;case 1:var i=t.stateNode;if("function"==typeof i.componentDidMount){var o=t.return;try{i.componentDidMount()}catch(a){oR(t,o,a)}}var l=t.return;try{iw(t)}catch(s){oR(t,l,s)}break;case 5:var u=t.return;try{iw(t)}catch(c){oR(t,u,c)}}}catch(f){oR(t,t.return,f)}if(t===e){iv=null;break}var d=t.sibling;if(null!==d){d.return=t.return,iv=d;break}iv=t.return}}var iI=0,iA=1,i$=2,iD=3,iN=4;if("function"==typeof Symbol&&Symbol.for){var iL=Symbol.for;iI=iL("selector.component"),iA=iL("selector.has_pseudo_class"),i$=iL("selector.role"),iD=iL("selector.test_id"),iN=iL("selector.text")}function iB(e){var t=ee(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(f(364));return t}if(null===(e=el(e)))throw Error(f(362));return e.stateNode.current}function iF(e,t){switch(t.$$typeof){case iI:if(e.type===t.value)return!0;break;case iA:t:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],o=t[i];if(5!==r.tag||!ec(r)){for(;null!=o&&iF(r,o);)o=t[++i];if(i===t.length){t=!0;break t}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case i$:if(5===e.tag&&ef(e.stateNode,t.value))return!0;break;case iN:if((5===e.tag||6===e.tag)&&null!==(e=eu(e))&&0<=e.indexOf(t.value))return!0;break;case iD:if(5===e.tag&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(f(365))}return!1}function iU(e){switch(e.$$typeof){case iI:return"<"+(O(e.value)||"Unknown")+">";case iA:return":has("+(iU(e)||"")+")";case i$:return'[role="'+e.value+'"]';case iN:return'"'+e.value+'"';case iD:return'[data-testname="'+e.value+'"]';default:throw Error(f(365))}}function iH(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],o=e[r++],a=t[o];if(5!==i.tag||!ec(i)){for(;null!=a&&iF(i,a);)a=t[++o];if(o===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,o),i=i.sibling}}return n}function iV(e,t){if(!ea)throw Error(f(363));e=iH(e=iB(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)ec(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var iW=Math.ceil,iK=d.ReactCurrentDispatcher,iG=d.ReactCurrentOwner,iq=d.ReactCurrentBatchConfig,iY=0,iQ=null,iZ=null,iX=0,iJ=0,i0=e7(0),i1=0,i2=null,i3=0,i4=0,i5=0,i6=null,i8=null,i9=0,i7=1/0;function oe(){i7=tM()+500}var ot=!1,on=null,or=null,oi=!1,oo=null,oa=0,ol=0,os=null,ou=-1,oc=0;function of(){return 0!=(6&iY)?tM():-1!==ou?ou:ou=tM()}function od(e){return 0==(1&e.mode)?1:0!=(2&iY)&&0!==iX?iX&-iX:null!==tU.transition?(0===oc&&(e=tv,0==(4194240&(tv<<=1))&&(tv=64),oc=e),oc):0!==(e=tE)?e:en()}function op(e,t,n){if(50<ol)throw ol=0,os=null,Error(f(185));var r=oh(e,t);return null===r?null:(tw(r,t,n),(0==(2&iY)||r!==iQ)&&(r===iQ&&(0==(2&iY)&&(i4|=t),4===i1&&ob(r,iX)),om(r,n),1===t&&0===iY&&0==(1&e.mode)&&(oe(),tL&&tF())),r)}function oh(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function om(e,t){var n,r,i,o=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-tp(o),l=1<<a,s=i[a];-1===s?(0==(l&n)||0!=(l&r))&&(i[a]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(l,t)):s<=t&&(e.expiredLanes|=l),o&=~l}}(e,t);var a=tb(e,e===iQ?iX:0);if(0===a)null!==o&&tz(o),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=o&&tz(o),1===t){0===e.tag&&(tL=!0),n=ox.bind(null,e),null===tN?tN=[n]:tN.push(n),ei?eo(function(){0===iY&&tF()}):tP(tT,tF),o=null}else{switch(tC(a)){case 1:o=tT;break;case 4:o=tj;break;case 16:default:o=tR;break;case 536870912:o=tI}r=o,i=ov.bind(null,e),o=tP(r,i)}e.callbackPriority=t,e.callbackNode=o}}function ov(e,t){if(ou=-1,oc=0,0!=(6&iY))throw Error(f(327));var n=e.callbackNode;if(oT()&&e.callbackNode!==n)return null;var r=tb(e,e===iQ?iX:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=oz(e,r);else{t=r;var i=iY;iY|=2;var o=oC();for((iQ!==e||iX!==t)&&(oe(),oS(e,t));;)try{!function(){for(;null!==iZ&&!tk();)ok(iZ)}();break}catch(a){oE(e,a)}tY(),iK.current=o,iY=i,null!==iZ?t=0:(iQ=null,iX=0,t=i1)}if(0!==t){if(2===t&&0!==(i=tx(e))&&(r=i,t=og(e,i)),1===t)throw n=i2,oS(e,0),ob(e,r),om(e,tM()),n;if(6===t)ob(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!tD(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=oz(e,r))&&0!==(o=tx(e))&&(r=o,t=og(e,o)),1===t))throw n=i2,oS(e,0),ob(e,r),om(e,tM()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(f(345));case 2:case 5:oM(e,i8);break;case 3:if(ob(e,r),(130023424&r)===r&&10<(t=i9+500-tM())){if(0!==tb(e,0))break;if(((i=e.suspendedLanes)&r)!==r){of(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=G(oM.bind(null,e,i8),t);break}oM(e,i8);break;case 4:if(ob(e,r),(4194240&r)===r)break;for(i=-1,t=e.eventTimes;0<r;){var l=31-tp(r);o=1<<l,(l=t[l])>i&&(i=l),r&=~o}if(r=i,10<(r=(120>(r=tM()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iW(r/1960))-r)){e.timeoutHandle=G(oM.bind(null,e,i8),r);break}oM(e,i8);break;default:throw Error(f(329))}}}return om(e,tM()),e.callbackNode===n?ov.bind(null,e):null}function og(e,t){var n=i6;return e.current.memoizedState.isDehydrated&&(oS(e,t).flags|=256),2!==(e=oz(e,t))&&(t=i8,i8=n,null!==t&&oy(t)),e}function oy(e){null===i8?i8=e:i8.push.apply(i8,e)}function ob(e,t){for(t&=~i5,t&=~i4,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tp(t),r=1<<n;e[n]=-1,t&=~r}}function ox(e){if(0!=(6&iY))throw Error(f(327));oT();var t=tb(e,0);if(0==(1&t))return om(e,tM()),null;var n=oz(e,t);if(0!==e.tag&&2===n){var r=tx(e);0!==r&&(t=r,n=og(e,r))}if(1===n)throw n=i2,oS(e,0),ob(e,t),om(e,tM()),n;if(6===n)throw Error(f(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oM(e,i8),om(e,tM()),null}function o_(e){null!==oo&&0===oo.tag&&0==(6&iY)&&oT();var t=iY;iY|=1;var n=iq.transition,r=tE;try{if(iq.transition=null,tE=1,e)return e()}finally{tE=r,iq.transition=n,0==(6&(iY=t))&&tF()}}function ow(){iJ=i0.current,te(i0)}function oS(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==Y&&(e.timeoutHandle=Y,q(n)),null!==iZ)for(n=iZ.return;null!==n;){var r=n;switch(nx(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&ts();break;case 3:nK(),te(ti),te(tr),nX();break;case 5:nq(r);break;case 4:nK();break;case 13:case 19:te(nY);break;case 10:tZ(r.type._context);break;case 22:case 23:ow()}n=n.return}if(iQ=e,iZ=e=oF(e.current,null),iX=iJ=t,i1=0,i2=null,i5=i4=i3=0,i8=i6=null,null!==t1){for(t=0;t<t1.length;t++)if(null!==(r=(n=t1[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}t1=null}return e}function oE(e,t){for(;;){var n=iZ;try{if(tY(),nJ.current=r$,n5){for(var r=n2.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}n5=!1}if(n1=0,n4=n3=n2=null,n6=!1,n8=0,iG.current=null,null===n||null===n.return){i1=1,i2=t,iZ=null;break}t:{var o=e,a=n.return,l=n,s=t;if(t=iX,l.flags|=32768,null!==s&&"object"==typeof s&&"function"==typeof s.then){var u=s,c=l,d=c.tag;if(0==(1&c.mode)&&(0===d||11===d||15===d)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=rK(a);if(null!==h){h.flags&=-257,rG(h,a,l,o,t),1&h.mode&&rW(o,u,t),t=h,s=u;var m=t.updateQueue;if(null===m){var g=new Set;g.add(s),t.updateQueue=g}else m.add(s);break t}if(0==(1&t)){rW(o,u,t),oP();break t}s=Error(f(426))}else if(nS&&1&l.mode){var y=rK(a);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),rG(y,a,l,o,t),nR(s);break t}}o=s,4!==i1&&(i1=2),null===i6?i6=[o]:i6.push(o),s=rB(s,l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var b=rH(l,s,t);t9(l,b);break t;case 1:o=s;var x=l.type,_=l.stateNode;if(0==(128&l.flags)&&("function"==typeof x.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===or||!or.has(_)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=rV(l,o,t);t9(l,w);break t}}l=l.return}while(null!==l)}oO(n)}catch(S){t=S,iZ===n&&null!==n&&(iZ=n=n.return);continue}break}}function oC(){var e=iK.current;return iK.current=r$,null===e?r$:e}function oP(){(0===i1||3===i1||2===i1)&&(i1=4),null===iQ||0==(268435455&i3)&&0==(268435455&i4)||ob(iQ,iX)}function oz(e,t){var n=iY;iY|=2;var r=oC();for(iQ===e&&iX===t||oS(e,t);;)try{!function(){for(;null!==iZ;)ok(iZ)}();break}catch(i){oE(e,i)}if(tY(),iY=n,iK.current=r,null!==iZ)throw Error(f(261));return iQ=null,iX=0,i1}function ok(e){var t=a(e.alternate,e,iJ);e.memoizedProps=e.pendingProps,null===t?oO(e):iZ=t,iG.current=null}function oO(e){var n=e;do{var a=n.alternate;if(e=n.return,0==(32768&n.flags)){if(null!==(a=function(e,n,a){var l=n.pendingProps;switch(nx(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rX(n),null;case 1:case 17:return tl(n.type)&&ts(),rX(n),null;case 3:return l=n.stateNode,nK(),te(ti),te(tr),nX(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(null===e||null===e.child)&&(nT(n)?rq(n):null===e||e.memoizedState.isDehydrated&&0==(256&n.flags)||(n.flags|=1024,null!==nC&&(oy(nC),nC=null))),r(e,n),rX(n),null;case 5:nq(n),a=nV(nH.current);var s=n.type;if(null!==e&&null!=n.stateNode)i(e,n,s,l,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(null===n.stateNode)throw Error(f(166));return rX(n),null}if(e=nV(nF.current),nT(n)){if(!J)throw Error(f(175));e=eK(n.stateNode,n.type,n.memoizedProps,a,e,n,!nE),n.updateQueue=e,null!==e&&rq(n)}else{var u=F(s,l,a,e,n);t(u,n,!1,!1),n.stateNode=u,H(u,s,l,a,e)&&rq(n)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return rX(n),null;case 6:if(e&&null!=n.stateNode)o(e,n,e.memoizedProps,l);else{if("string"!=typeof l&&null===n.stateNode)throw Error(f(166));if(e=nV(nH.current),a=nV(nF.current),nT(n)){if(!J)throw Error(f(176));if(e=n.stateNode,l=n.memoizedProps,(a=eG(e,l,n,!nE))&&null!==(s=n_))switch(u=0!=(1&s.mode),s.tag){case 3:e1(s.stateNode.containerInfo,e,l,u);break;case 5:e2(s.type,s.memoizedProps,s.stateNode,e,l,u)}a&&rq(n)}else n.stateNode=K(l,e,a,n)}return rX(n),null;case 13:if(te(nY),l=n.memoizedState,nS&&null!==nw&&0!=(1&n.mode)&&0==(128&n.flags)){for(e=nw;e;)e=eU(e);return nj(),n.flags|=98560,n}if(null!==l&&null!==l.dehydrated){if(l=nT(n),null===e){if(!l)throw Error(f(318));if(!J)throw Error(f(344));if(!(e=null!==(e=n.memoizedState)?e.dehydrated:null))throw Error(f(317));eq(e,n)}else nj(),0==(128&n.flags)&&(n.memoizedState=null),n.flags|=4;return rX(n),null}if(null!==nC&&(oy(nC),nC=null),0!=(128&n.flags))return n.lanes=a,n;return l=null!==l,a=!1,null===e?nT(n):a=null!==e.memoizedState,l&&!a&&(n.child.flags|=8192,0!=(1&n.mode)&&(null===e||0!=(1&nY.current)?0===i1&&(i1=3):oP())),null!==n.updateQueue&&(n.flags|=4),rX(n),null;case 4:return nK(),r(e,n),null===e&&et(n.stateNode.containerInfo),rX(n),null;case 10:return tZ(n.type._context),rX(n),null;case 19:if(te(nY),null===(s=n.memoizedState))return rX(n),null;if(l=0!=(128&n.flags),null===(u=s.rendering)){if(l)rZ(s,!1);else{if(0!==i1||null!==e&&0!=(128&e.flags))for(e=n.child;null!==e;){if(null!==(u=nQ(e))){for(n.flags|=128,rZ(s,!1),null!==(e=u.updateQueue)&&(n.updateQueue=e,n.flags|=4),n.subtreeFlags=0,e=a,l=n.child;null!==l;)a=l,s=e,a.flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,s=u.dependencies,a.dependencies=null===s?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return tt(nY,1&nY.current|2),n.child}e=e.sibling}null!==s.tail&&tM()>i7&&(n.flags|=128,l=!0,rZ(s,!1),n.lanes=4194304)}}else{if(!l){if(null!==(e=nQ(u))){if(n.flags|=128,l=!0,null!==(e=e.updateQueue)&&(n.updateQueue=e,n.flags|=4),rZ(s,!0),null===s.tail&&"hidden"===s.tailMode&&!u.alternate&&!nS)return rX(n),null}else 2*tM()-s.renderingStartTime>i7&&1073741824!==a&&(n.flags|=128,l=!0,rZ(s,!1),n.lanes=4194304)}s.isBackwards?(u.sibling=n.child,n.child=u):(null!==(e=s.last)?e.sibling=u:n.child=u,s.last=u)}if(null!==s.tail)return n=s.tail,s.rendering=n,s.tail=n.sibling,s.renderingStartTime=tM(),n.sibling=null,e=nY.current,tt(nY,l?1&e|2:1&e),n;return rX(n),null;case 22:case 23:return ow(),l=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==l&&(n.flags|=8192),l&&0!=(1&n.mode)?0!=(1073741824&iJ)&&(rX(n),Z&&6&n.subtreeFlags&&(n.flags|=8192)):rX(n),null;case 24:case 25:return null}throw Error(f(156,n.tag))}(a,n,iJ))){iZ=a;return}}else{if(null!==(a=function(e,t){switch(nx(t),t.tag){case 1:return tl(t.type)&&ts(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return nK(),te(ti),te(tr),nX(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return nq(t),null;case 13:if(te(nY),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(f(340));nj()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return te(nY),null;case 4:return nK(),null;case 10:return tZ(t.type._context),null;case 22:case 23:return ow(),null;default:return null}}(a,n))){a.flags&=32767,iZ=a;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{i1=6,iZ=null;return}}if(null!==(n=n.sibling)){iZ=n;return}iZ=n=e}while(null!==n);0===i1&&(i1=5)}function oM(e,t){var n=tE,r=iq.transition;try{iq.transition=null,tE=1,function(e,t,n){do oT();while(null!==oo);if(0!=(6&iY))throw Error(f(327));var r=e.finishedWork,i=e.finishedLanes;if(null!==r){if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(f(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-tp(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,o),e===iQ&&(iZ=iQ=null,iX=0),0==(2064&r.subtreeFlags)&&0==(2064&r.flags)||oi||(oi=!0,a=tR,l=function(){return oT(),null},tP(a,l)),o=0!=(15990&r.flags),0!=(15990&r.subtreeFlags)||o){o=iq.transition,iq.transition=null;var a,l,s,u,c=tE;tE=1;var d=iY;iY|=4,iG.current=null,function(e,t){for(L(e.containerInfo),iv=t;null!==iv;)if(t=(e=iv).child,0!=(1028&e.subtreeFlags)&&null!==t)t.return=e,iv=t;else for(;null!==iv;){e=iv;try{var n=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,o=e.stateNode,a=o.getSnapshotBeforeUpdate(e.elementType===e.type?r:tV(e.type,r),i);o.__reactInternalSnapshotBeforeUpdate=a}break;case 3:Z&&ek(e.stateNode.containerInfo);break;default:throw Error(f(163))}}catch(l){oR(e,e.return,l)}if(null!==(t=e.sibling)){t.return=e.return,iv=t;break}iv=e.return}n=ib,ib=!1}(e,r),function(e,t){for(iv=t;null!==iv;){var n=(t=iv).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e;Z?ik(o,i,t):iE(o,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(l){oR(i,t,l)}}if(n=t.child,0!=(12854&t.subtreeFlags)&&null!==n)n.return=t,iv=n;else for(;null!==iv;){t=iv;try{var s=t.flags;if(32&s&&Z&&eS(t.stateNode),512&s){var u=t.alternate;if(null!==u){var c=u.ref;null!==c&&("function"==typeof c?c(null):c.current=null)}}if(8192&s)switch(t.tag){case 13:if(null!==t.memoizedState){var f=t.alternate;(null===f||null===f.memoizedState)&&(i9=tM())}break;case 22:var d=null!==t.memoizedState,p=t.alternate,h=null!==p&&null!==p.memoizedState;if(n=t,Z){t:if(r=n,i=d,o=null,Z)for(var m=r;;){if(5===m.tag){if(null===o){o=m;var g=m.stateNode;i?eE(g):eP(m.stateNode,m.memoizedProps)}}else if(6===m.tag){if(null===o){var y=m.stateNode;i?eC(y):ez(y,m.memoizedProps)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===r)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===r)break;for(;null===m.sibling;){if(null===m.return||m.return===r)break t;o===m&&(o=null),m=m.return}o===m&&(o=null),m.sibling.return=m.return,m=m.sibling}}if(d&&!h&&0!=(1&n.mode)){iv=n;for(var b=n.child;null!==b;){for(n=iv=b;null!==iv;){var x=(r=iv).child;switch(r.tag){case 0:case 11:case 14:case 15:ix(4,r,r.return);break;case 1:ig(r,r.return);var _=r.stateNode;if("function"==typeof _.componentWillUnmount){var w=r.return;try{_.props=r.memoizedProps,_.state=r.memoizedState,_.componentWillUnmount()}catch(S){oR(r,w,S)}}break;case 5:ig(r,r.return);break;case 22:if(null!==r.memoizedState){ij(n);continue}}null!==x?(x.return=r,iv=x):ij(n)}b=b.sibling}}}switch(4102&s){case 2:iz(t),t.flags&=-3;break;case 6:iz(t),t.flags&=-3,iO(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,iO(t.alternate,t);break;case 4:iO(t.alternate,t)}}catch(E){oR(t,t.return,E)}if(null!==(n=t.sibling)){n.return=t.return,iv=n;break}iv=t.return}}}(e,r,i),B(e.containerInfo),e.current=r,s=r,u=e,iv=s,function e(t,n,r){for(var i=0!=(1&t.mode);null!==iv;){var o=iv,a=o.child;if(22===o.tag&&i){var l=null!==o.memoizedState||ip;if(!l){var s=o.alternate,u=null!==s&&null!==s.memoizedState||ih;s=ip;var c=ih;if(ip=l,(ih=u)&&!c)for(iv=o;null!==iv;)u=(l=iv).child,22===l.tag&&null!==l.memoizedState?iR(o):null!==u?(u.return=l,iv=u):iR(o);for(;null!==a;)iv=a,e(a,n,r),a=a.sibling;iv=o,ip=s,ih=c}iT(t,n,r)}else 0!=(8772&o.subtreeFlags)&&null!==a?(a.return=o,iv=a):iT(t,n,r)}}(s,u,i),tO(),iY=d,tE=c,iq.transition=o}else e.current=r;if(oi&&(oi=!1,oo=e,oa=i),0===(o=e.pendingLanes)&&(or=null),function(e){if(t$&&"function"==typeof t$.onCommitFiberRoot)try{t$.onCommitFiberRoot(tA,e,void 0,128==(128&e.current.flags))}catch(t){}}(r.stateNode,n),om(e,tM()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(ot)throw ot=!1,e=on,on=null,e;0!=(1&oa)&&0!==e.tag&&oT(),0!=(1&(o=e.pendingLanes))?e===os?ol++:(ol=0,os=e):ol=0,tF()}}(e,t,n)}finally{iq.transition=r,tE=n}return null}function oT(){if(null!==oo){var e=tC(oa),t=iq.transition,n=tE;try{if(iq.transition=null,tE=16>e?16:e,null===oo)var r=!1;else{if(e=oo,oo=null,oa=0,0!=(6&iY))throw Error(f(331));var i=iY;for(iY|=4,iv=e.current;null!==iv;){var o=iv,a=o.child;if(0!=(16&iv.flags)){var l=o.deletions;if(null!==l){for(var s=0;s<l.length;s++){var u=l[s];for(iv=u;null!==iv;){var c=iv;switch(c.tag){case 0:case 11:case 15:ix(8,c,o)}var d=c.child;if(null!==d)d.return=c,iv=d;else for(;null!==iv;){var p=(c=iv).sibling,h=c.return;if(!function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&er(n),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(c),c===u){iv=null;break}if(null!==p){p.return=h,iv=p;break}iv=h}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}iv=o}}if(0!=(2064&o.subtreeFlags)&&null!==a)a.return=o,iv=a;else n:for(;null!==iv;){if(o=iv,0!=(2048&o.flags))switch(o.tag){case 0:case 11:case 15:ix(9,o,o.return)}var b=o.sibling;if(null!==b){b.return=o.return,iv=b;break n}iv=o.return}}var x=e.current;for(iv=x;null!==iv;){var _=(a=iv).child;if(0!=(2064&a.subtreeFlags)&&null!==_)_.return=a,iv=_;else n:for(a=x;null!==iv;){if(l=iv,0!=(2048&l.flags))try{switch(l.tag){case 0:case 11:case 15:i_(9,l)}}catch(w){oR(l,l.return,w)}if(l===a){iv=null;break n}var S=l.sibling;if(null!==S){S.return=l.return,iv=S;break n}iv=l.return}}if(iY=i,tF(),t$&&"function"==typeof t$.onPostCommitFiberRoot)try{t$.onPostCommitFiberRoot(tA,e)}catch(E){}r=!0}return r}finally{tE=n,iq.transition=t}}return!1}function oj(e,t,n){t=rB(n,t),t=rH(e,t,1),t6(e,t),t=of(),null!==(e=oh(e,1))&&(tw(e,1,t),om(e,t))}function oR(e,t,n){if(3===e.tag)oj(e,e,n);else for(;null!==t;){if(3===t.tag){oj(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===or||!or.has(r))){e=rB(n,e),e=rV(t,e,1),t6(t,e),e=of(),null!==(t=oh(t,1))&&(tw(t,1,e),om(t,e));break}}t=t.return}}function oI(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=of(),e.pingedLanes|=e.suspendedLanes&n,iQ===e&&(iX&n)===n&&(4===i1||3===i1&&(130023424&iX)===iX&&500>tM()-i9?oS(e,0):i5|=n),om(e,t)}function oA(e,t){0===t&&(0==(1&e.mode)?t=1:(t=tg,0==(130023424&(tg<<=1))&&(tg=4194304)));var n=of();null!==(e=oh(e,t))&&(tw(e,t,n),om(e,n))}function o$(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),oA(e,n)}function oD(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(f(314))}null!==r&&r.delete(t),oA(e,n)}function oN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oL(e,t,n,r){return new oN(e,t,n,r)}function oB(e){return!(!(e=e.prototype)||!e.isReactComponent)}function oF(e,t){var n=e.alternate;return null===n?((n=oL(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function oU(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)oB(e)&&(a=1);else if("string"==typeof e)a=5;else t:switch(e){case m:return oH(n.children,i,o,t);case g:a=8,i|=8;break;case y:return(e=oL(12,n,t,2|i)).elementType=y,e.lanes=o,e;case w:return(e=oL(13,n,t,i)).elementType=w,e.lanes=o,e;case S:return(e=oL(19,n,t,i)).elementType=S,e.lanes=o,e;case P:return oV(n,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:a=10;break t;case x:a=9;break t;case _:a=11;break t;case E:a=14;break t;case C:a=16,r=null;break t}throw Error(f(130,null==e?e:typeof e,""))}return(t=oL(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function oH(e,t,n,r){return(e=oL(7,e,r,t)).lanes=n,e}function oV(e,t,n,r){return(e=oL(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={},e}function oW(e,t,n){return(e=oL(6,e,null,t)).lanes=n,e}function oK(e,t,n){return(t=oL(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oG(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Y,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=t_(0),this.expirationTimes=t_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=t_(0),this.identifierPrefix=r,this.onRecoverableError=i,J&&(this.mutableSourceEagerHydrationData=null)}function oq(e,t,n,r,i,o,a,l,s){return e=new oG(e,t,n,l,s),1===t?(t=1,!0===o&&(t|=8)):t=0,o=oL(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},t3(o),e}function oY(e){if(!e)return tn;e=e._reactInternals;t:{if(M(e)!==e||1!==e.tag)throw Error(f(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(tl(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(null!==t);throw Error(f(171))}if(1===e.tag){var n=e.type;if(tl(n))return tc(e,n,t)}return t}function oQ(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(f(188));throw Error(f(268,e=Object.keys(e).join(",")))}return null===(e=R(t))?null:e.stateNode}function oZ(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function oX(e,t){oZ(e,t),(e=e.alternate)&&oZ(e,t)}function oJ(e){return null===(e=R(e))?null:e.stateNode}function o0(){return null}return a=function(e,t,n){if(null!==e){if(e.memoizedProps!==t.pendingProps||ti.current)r0=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return r0=!1,function(e,t,n){switch(t.tag){case 3:ie(t),nj();break;case 5:nG(t);break;case 1:tl(t.type)&&tf(t);break;case 4:nW(t,t.stateNode.containerInfo);break;case 10:tQ(t,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r){if(null!==r.dehydrated)return tt(nY,1&nY.current),t.flags|=128,null;if(0!=(n&t.child.childLanes))return io(e,t,n);return tt(nY,1&nY.current),null!==(e=id(e,t,n))?e.sibling:null}tt(nY,1&nY.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return ic(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(nY,nY.current),!r)return null;break;case 22:case 23:return t.lanes=0,r5(e,t,n)}return id(e,t,n)}(e,t,n);r0=0!=(131072&e.flags)}}else r0=!1,nS&&0!=(1048576&t.flags)&&ny(t,nf,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=ta(t,tr.current);tJ(t,n),i=rt(null,t,r,e,i,n);var o=rn();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tl(r)?(o=!0,tf(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,t3(t),i.updater=nr,t.stateNode=i,i._reactInternals=t,nl(t,r,e,n),t=r7(null,t,r,!0,o,n)):(t.tag=0,nS&&o&&nb(t),r1(null,t,i,n),t=t.child),t;case 16:r=t.elementType;t:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return oB(e)?1:0;if(null!=e){if((e=e.$$typeof)===_)return 11;if(e===E)return 14}return 2}(r),e=tV(r,e),i){case 0:t=r8(null,t,r,e,n);break t;case 1:t=r9(null,t,r,e,n);break t;case 11:t=r2(null,t,r,e,n);break t;case 14:t=r3(null,t,r,tV(r.type,e),n);break t}throw Error(f(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tV(r,i),r8(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tV(r,i),r9(e,t,r,i,n);case 3:t:{if(ie(t),null===e)throw Error(f(387));r=t.pendingProps,i=(o=t.memoizedState).element,t4(e,t),t7(t,r,null,n);var a=t.memoizedState;if(r=a.element,J&&o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=it(e,t,r,n,i=Error(f(423)));break t}if(r!==i){t=it(e,t,r,n,i=Error(f(424)));break t}for(J&&(nw=eV(t.stateNode.containerInfo),n_=t,nS=!0,nC=null,nE=!1),n=nL(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(nj(),r===i){t=id(e,t,n);break t}r1(e,t,r,n)}t=t.child}return t;case 5:return nG(t),null===e&&nO(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,W(r,i)?a=null:null!==o&&W(r,o)&&(t.flags|=32),r6(e,t),r1(e,t,a,n),t.child;case 6:return null===e&&nO(t),null;case 13:return io(e,t,n);case 4:return nW(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=nN(t,null,r,n):r1(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tV(r,i),r2(e,t,r,i,n);case 7:return r1(e,t,t.pendingProps,n),t.child;case 8:case 12:return r1(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,tQ(t,r,a),null!==o){if(tD(o.value,a)){if(o.children===i.children&&!ti.current){t=id(e,t,n);break t}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var s=l.firstContext;null!==s;){if(s.context===r){if(1===o.tag){(s=t5(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?s.next=s:(s.next=c.next,c.next=s),u.pending=s}}o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),tX(o.return,n,t),l.lanes|=n;break}s=s.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(f(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),tX(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}}r1(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,tJ(t,n),i=t0(i),r=r(i),t.flags|=1,r1(e,t,r,n),t.child;case 14:return i=tV(r=t.type,t.pendingProps),i=tV(r.type,i),r3(e,t,r,i,n);case 15:return r4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:tV(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,tl(r)?(e=!0,tf(t)):e=!1,tJ(t,n),no(t,r,i),nl(t,r,i,n),r7(null,t,r,!0,e,n);case 19:return ic(e,t,n);case 22:return r5(e,t,n)}throw Error(f(156,t.tag))},l.attemptContinuousHydration=function(e){13===e.tag&&(op(e,134217728,of()),oX(e,134217728))},l.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=of(),n=od(e);op(e,n,t),oX(e,n)}},l.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ty(t.pendingLanes);0!==n&&(tS(t,1|n),om(t,tM()),0==(6&iY)&&(oe(),tF()))}break;case 13:var r=of();o_(function(){return op(e,1,r)}),oX(e,1)}},l.batchedUpdates=function(e,t){var n=iY;iY|=1;try{return e(t)}finally{0===(iY=n)&&(oe(),tL&&tF())}},l.createComponentSelector=function(e){return{$$typeof:iI,value:e}},l.createContainer=function(e,t,n,r,i,o,a){return oq(e,t,!1,null,n,r,i,o,a)},l.createHasPseudoClassSelector=function(e){return{$$typeof:iA,value:e}},l.createHydrationContainer=function(e,t,n,r,i,o,a,l,s){return(e=oq(n,r,!0,e,i,o,a,l,s)).context=oY(null),n=e.current,(o=t5(r=of(),i=od(n))).callback=null!=t?t:null,t6(n,o),e.current.lanes=i,tw(e,i,r),om(e,r),e},l.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:h,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},l.createRoleSelector=function(e){return{$$typeof:i$,value:e}},l.createTestNameSelector=function(e){return{$$typeof:iD,value:e}},l.createTextSelector=function(e){return{$$typeof:iN,value:e}},l.deferredUpdates=function(e){var t=tE,n=iq.transition;try{return iq.transition=null,tE=16,e()}finally{tE=t,iq.transition=n}},l.discreteUpdates=function(e,t,n,r,i){var o=tE,a=iq.transition;try{return iq.transition=null,tE=1,e(t,n,r,i)}finally{tE=o,iq.transition=a,0===iY&&oe()}},l.findAllNodes=iV,l.findBoundingRects=function(e,t){if(!ea)throw Error(f(363));t=iV(e,t),e=[];for(var n=0;n<t.length;n++)e.push(es(t[n]));for(t=e.length-1;0<t;t--){n=e[t];for(var r=n.x,i=r+n.width,o=n.y,a=o+n.height,l=t-1;0<=l;l--)if(t!==l){var s=e[l],u=s.x,c=u+s.width,d=s.y,p=d+s.height;if(r>=u&&o>=d&&i<=c&&a<=p){e.splice(t,1);break}if(r!==u||n.width!==s.width||p<o||d>a){if(!(o!==d||n.height!==s.height||c<r||u>i)){u>r&&(s.width+=u-r,s.x=r),c<i&&(s.width=i-u),e.splice(t,1);break}}else{d>o&&(s.height+=d-o,s.y=o),p<a&&(s.height=a-d),e.splice(t,1);break}}}return e},l.findHostInstance=oQ,l.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=j(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){if(4!==t.tag){var n=e(t);if(null!==n)return n}t=t.sibling}return null}(e):null)?null:e.stateNode},l.findHostInstanceWithWarning=function(e){return oQ(e)},l.flushControlled=function(e){var t=iY;iY|=1;var n=iq.transition,r=tE;try{iq.transition=null,tE=1,e()}finally{tE=r,iq.transition=n,0===(iY=t)&&(oe(),tF())}},l.flushPassiveEffects=oT,l.flushSync=o_,l.focusWithin=function(e,t){if(!ea)throw Error(f(363));for(t=Array.from(t=iH(e=iB(e),t)),e=0;e<t.length;){var n=t[e++];if(!ec(n)){if(5===n.tag&&ed(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},l.getCurrentUpdatePriority=function(){return tE},l.getFindAllNodesFailureDescription=function(e,t){if(!ea)throw Error(f(363));var n=0,r=[];e=[iB(e),0];for(var i=0;i<e.length;){var o=e[i++],a=e[i++],l=t[a];if((5!==o.tag||!ec(o))&&(iF(o,l)&&(r.push(iU(l)),++a>n&&(n=a)),a<t.length))for(o=o.child;null!==o;)e.push(o,a),o=o.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(iU(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},l.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?$(e.child.stateNode):e.child.stateNode:null},l.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:d.ReactCurrentDispatcher,findHostInstanceByFiber:oJ,findFiberByHostInstance:e.findFiberByHostInstance||o0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{tA=t.inject(e),t$=t}catch(n){}e=!!t.checkDCE}}return e},l.isAlreadyRendering=function(){return!1},l.observeVisibleRects=function(e,t,n,r){if(!ea)throw Error(f(363));var i=ep(e=iV(e,t),n,r).disconnect;return{disconnect:function(){i()}}},l.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},l.runWithPriority=function(e,t){var n=tE;try{return tE=e,t()}finally{tE=n}},l.shouldError=function(){return null},l.shouldSuspend=function(){return!1},l.updateContainer=function(e,t,n,r){var i=t.current,o=of(),a=od(i);return n=oY(n),null===t.context?t.context=n:t.pendingContext=n,(t=t5(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),t6(i,t),null!==(e=op(i,a,o))&&t8(e,i,a),a},l}},2576:function(e,t,n){"use strict";e.exports=n(6511)},6525:function(e,t,n){"use strict";e.exports=n(7287)},53:function(e,t){"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ function n(e,t){var n=e.length;e.push(t);t:for(;0<n;){var r=n-1>>>1,i=e[r];if(0<o(i,t))e[r]=t,e[n]=i,n=r;else break t}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;t:for(var r=0,i=e.length,a=i>>>1;r<a;){var l=2*(r+1)-1,s=e[l],u=l+1,c=e[u];if(0>o(s,n))u<i&&0>o(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[l]=n,r=l);else if(u<i&&0>o(c,n))e[r]=c,e[u]=n,r=u;else break t}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a,l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],f=[],d=1,p=null,h=3,m=!1,g=!1,y=!1,b="function"==typeof setTimeout?setTimeout:null,x="function"==typeof clearTimeout?clearTimeout:null,_="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(f);null!==t;){if(null===t.callback)i(f);else if(t.startTime<=e)i(f),t.sortIndex=t.expirationTime,n(c,t);else break;t=r(f)}}function S(e){if(y=!1,w(e),!g){if(null!==r(c))g=!0,I(E);else{var t=r(f);null!==t&&A(S,t.startTime-e)}}}function E(e,n){g=!1,y&&(y=!1,x(z),z=-1),m=!0;var o=h;try{for(w(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!M());){var a=p.callback;if("function"==typeof a){p.callback=null,h=p.priorityLevel;var l=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?p.callback=l:p===r(c)&&i(c),w(n)}else i(c);p=r(c)}if(null!==p)var s=!0;else{var u=r(f);null!==u&&A(S,u.startTime-n),s=!1}return s}finally{p=null,h=o,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C=!1,P=null,z=-1,k=5,O=-1;function M(){return!(t.unstable_now()-O<k)}function T(){if(null!==P){var e=t.unstable_now();O=e;var n=!0;try{n=P(!0,e)}finally{n?a():(C=!1,P=null)}}else C=!1}if("function"==typeof _)a=function(){_(T)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel,R=j.port2;j.port1.onmessage=T,a=function(){R.postMessage(null)}}else a=function(){b(T,0)};function I(e){P=e,C||(C=!0,a())}function A(e,n){z=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,I(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=o+l,e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:l,sortIndex:-1},o>a?(e.sortIndex=o,n(f,e),null===r(c)&&e===r(f)&&(y?(x(z),z=-1):y=!0,A(S,o-a))):(e.sortIndex=l,n(c,e),g||m||(g=!0,I(E))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},3840:function(e,t,n){"use strict";e.exports=n(53)},1086:function(e,t,n){"use strict";/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */ var r=n(7853),i=n(6919),o=n(5299),a=n(4642);function l(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}e.exports=function(e,t,n){if(!a(e)||(Array.isArray(t)&&(t=[].concat.apply([],t).join(".")),"string"!=typeof t))return e;for(var s=r(t,{sep:".",brackets:!0}).filter(l),u=s.length,c=-1,f=e;++c<u;){var d=s[c];if(c!==u-1){a(f[d])||(f[d]={}),f=f[d];continue}o(f[d])&&o(n)?f[d]=i({},f[d],n):f[d]=n}return e}},4642:function(e){"use strict";/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */ e.exports=function(e){return null!=e&&("object"==typeof e||"function"==typeof e)}},7737:function(e,t,n){"use strict";n.d(t,{$:function(){return Z},A:function(){return ey},B:function(){return eu},C:function(){return $},D:function(){return e_},E:function(){return B},F:function(){return el},G:function(){return O},H:function(){return A},I:function(){return es},J:function(){return J},L:function(){return eP},M:function(){return ez},P:function(){return ew},S:function(){return eb},U:function(){return U},V:function(){return ef},_:function(){return z},a:function(){return ex},aB:function(){return ei},ah:function(){return eC},av:function(){return er},b:function(){return ec},c:function(){return eh},d:function(){return R},e:function(){return eS},f:function(){return eE},g:function(){return ek},h:function(){return em},i:function(){return G},j:function(){return k},k:function(){return Q},l:function(){return ep},n:function(){return ed},o:function(){return en},p:function(){return H},q:function(){return X},r:function(){return M},s:function(){return T},t:function(){return ee},u:function(){return K},v:function(){return W},w:function(){return D},x:function(){return q},y:function(){return L},z:function(){return N}});var r,i,o,a,l,s,u,c,f,d,p,h,m,g,y,b,x,_,w,S,E,C,P=n(9477);function z(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var k=function(e){var t="uninitialized_snippet_".concat(Math.floor(1e6*Math.random()));return{_:"Snippet",name:t,render:e,expression:e(t)}},O=function(e,t){e.name=t,e.expression=e.render(t)};function M(e){return e&&"Snippet"===e._}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){T(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var I=function(e){return!!e},A=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.flat(1/0).filter(I).join("\n")},$=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(I).join("_").replace(/_{2,}/g,"_")},D=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(I).join(" ")+";"},N=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return D(t.join(" = "))},L=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return["{",A(t).split("\n").map(function(e){return"  "+e}).join("\n"),"}"]},B=function(e){return e.replace(/[^a-zA-Z0-9]/g,"_")},F=function(e){return V(e,"vec2")?{get x(){return U("float",Z(r||(r=z(["",".x"])),e))},get y(){return U("float",Z(i||(i=z(["",".y"])),e))}}:V(e,"vec3")?{get x(){return U("float",Z(o||(o=z(["",".x"])),e))},get y(){return U("float",Z(a||(a=z(["",".y"])),e))},get z(){return U("float",Z(l||(l=z(["",".z"])),e))}}:V(e,"vec4")?{get x(){return U("float",Z(s||(s=z(["",".x"])),e))},get y(){return U("float",Z(u||(u=z(["",".y"])),e))},get z(){return U("float",Z(c||(c=z(["",".z"])),e))},get w(){return U("float",Z(f||(f=z(["",".w"])),e))}}:{}},U=function(e,t,n){return G({_:"Unit",_unitConfig:R({name:"Anonymous",type:e,value:t,varying:!1,variableName:$("var",Math.floor(1e6*Math.random()))},n),_unitState:{lastUpdateAt:void 0}},F)};function H(e){return e&&"Unit"===e._}function V(e,t){return H(e)&&e._unitConfig.type===t}var W=function(e,t){return[void 0,t].includes(e._unitConfig.only)},K=function(e){var t;return null!==(t=e._unitConfig.uniformName)&&void 0!==t?t:"u_".concat(e._unitConfig.variableName)},G=function(e,t){var n=t(e);return Object.defineProperties(e,Object.getOwnPropertyDescriptors(n))},q=function e(t,n){if(void 0===t)return"";if(Array.isArray(t))return t.map(function(t){return e(t)}).join(", ");if(H(t))return t._unitConfig.uniform?K(t):t._unitConfig.variableName;if(X(t))return t.render();if(M(t))return t.name;if("string"==typeof t)return t;if("boolean"==typeof t)return t?"true":"false";if("number"==typeof t){var r=t.toString();return"int"===n?r:r.match(/[.e]/)?r:"".concat(r,".0")}if(t instanceof P.Color)return"vec3(".concat(Y(t.r),", ").concat(Y(t.g),", ").concat(Y(t.b),")");if(t instanceof P.Vector2)return"vec2(".concat(Y(t.x),", ").concat(Y(t.y),")");if(t instanceof P.Vector3)return"vec3(".concat(Y(t.x),", ").concat(Y(t.y),", ").concat(Y(t.z),")");if(t instanceof P.Vector4)return"vec4(".concat(Y(t.x),", ").concat(Y(t.y),", ").concat(Y(t.z),", ").concat(Y(t.w),")");if(t instanceof P.Matrix3)return"mat3(".concat(t.toArray().map(function(e){return Y(e)}).join(", "),")");if(t instanceof P.Matrix4)return"mat4(".concat(t.toArray().map(function(e){return Y(e)}).join(", "),")");throw Error("Could not render value to GLSL: ".concat(JSON.stringify(t)))},Y=q,Q=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){var t;return(t=n.map(function(e){return q(e)}),e.map(function(e,n){return[e,t[n]]})).flat().join("")};return{_:"Expression",values:n,render:i,toString:i}},Z=Q;function X(e){return e&&"Expression"===e._}var J=function(e){if(H(e))return e._unitConfig.type;if("number"==typeof e)return"float";if(e instanceof P.Vector4)return"vec4";if(e instanceof P.Vector3)return"vec3";if(e instanceof P.Vector2)return"vec2";if(e instanceof P.Matrix3)return"mat3";if(e instanceof P.Matrix4)return"mat4";if(e instanceof P.Color)return"vec3";throw Error("Could not render GLSL type for: ".concat(e))},ee=J;function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function en(e,t){if(e){if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return et(e,t)}}var er=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Z(h||(h=z(["vec3(",")"])),t)},ei=function(e,t){return U(ee(e),e,R(R({},t),{},{varying:!0}))},eo=function(e){return function(t,n){return U(e,t,n)}},ea=function(e,t){return function(n,r){var i;return U(e,t.apply(void 0,function(e){if(Array.isArray(e))return et(e)}(i=Array.isArray(n)?n:[n])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||en(i)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r)}},el=ea("float",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Z(d||(d=z(["float(",")"])),t)}),es=eo("int"),eu=eo("bool"),ec=ea("vec2",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Z(p||(p=z(["vec2(",")"])),t)}),ef=ea("vec3",er),ed=ea("vec4",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Z(m||(m=z(["vec4(",")"])),t)});ea("mat2",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Z(g||(g=z(["mat2(",")"])),t)});var ep=ea("mat3",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Z(y||(y=z(["mat3(",")"])),t)}),eh=ea("mat4",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Z(b||(b=z(["mat4(",")"])),t)}),em=function(e){return eu(!0,e)},ev=function(e,t){return function(n,r){return U(ee(n),Z(x||(x=z([""," "," ",""])),n,t,r),{name:"".concat(e," (").concat(ee(n),")")})}},eg=function(e,t){return function(n){return U(ee(n),Z(_||(_=z(["","(",")"])),t,n),{name:"".concat(e," (").concat(ee(n),")")})}},ey=ev("Add","+"),eb=ev("Subtract","-"),ex=ev("Multiply","*"),e_=ev("Divide","/");eg("Sin","sin"),eg("Cos","cos"),eg("Tan","tan"),eg("Asin","asin"),eg("Acos","acos");var ew=function(e,t){return U(ee(e),Z(w||(w=z(["pow(",", ",")"])),e,t),{name:"Pow (".concat(ee(e),")")})};eg("Exp","exp"),eg("Exp2","exp2"),eg("Log","log"),eg("Log2","log2"),eg("Sqrt","sqrt"),eg("InverseSqrt","inversesqrt"),eg("Trunc","trunc"),eg("Round","round"),eg("Fract","fract"),eg("Floor","floor"),eg("Ceil","ceil");var eS=eg("Abs","abs");eg("Sign","sign"),eg("Radians","radians"),eg("Degrees","degrees");var eE=function(e){return U(ee(e),Z(S||(S=z(["clamp(",", ",", ",")"])),e,0,1),{name:"Clamp"})},eC=function(e){return el(eb(1,e),{name:"OneMinus"})},eP=function(e,t,n){return U(ee(e),Z(E||(E=z(["mix(",", ",", ",")"])),e,t,n),{name:"Mix"})},ez=eP,ek=function(e,t,n){return el(Z(C||(C=z(["smoothstep(",", ",", ",")"])),e,t,n),{name:"Smoothstep"})}},3041:function(e,t,n){"use strict";n.d(t,{$u:function(){return ee},B:function(){return L},Bb:function(){return K},I_:function(){return F},M8:function(){return ey},Qi:function(){return ei},UV:function(){return H},YJ:function(){return et},ah:function(){return q},b7:function(){return er},fl:function(){return U},nY:function(){return Q},oo:function(){return Y},ph:function(){return en},up:function(){return W}});var r,i,o,a,l,s,u,c,f,d,p,h,m,g,y,b,x,_,w,S,E,C,P,z,k,O,M,T,j,R,I,A=n(7737),$=n(3735),D=n(9477),N=function(e){return(0,A.$)(r||(r=(0,A._)(["\n  vec3(\n    "," *\n    "," *\n    #ifdef USE_INSTANCING\n    instanceMatrix *\n    #endif\n    vec4(",", 1.0)\n  )\n"])),F,U,e)},L=function(e){return(0,A.V)(N(e))},B=(0,A.b)((0,A.$)(o||(o=(0,A._)(["gl_FragCoord.xy"]))),{name:"Fragment Coordinate",only:"fragment"});(0,A.I)((0,A.$)(a||(a=(0,A._)(["gl_InstanceID"]))),{name:"Instance ID",varying:"flat"}),(0,A.I)((0,A.$)(l||(l=(0,A._)(["gl_VertexID"]))),{name:"Vertex ID",only:"vertex"}),(0,A.V)((0,A.$)(s||(s=(0,A._)(["cameraPosition"]))),{name:"Camera Position"});var F=(0,A.c)((0,A.$)(u||(u=(0,A._)(["viewMatrix"]))),{name:"View Matrix"}),U=(0,A.c)((0,A.$)(c||(c=(0,A._)(["modelMatrix"]))),{name:"Model Matrix"});(0,A.c)((0,A.$)(f||(f=(0,A._)(["modelViewMatrix"]))),{name:"ModelView Matrix"}),(0,A.c)((0,A.$)(d||(d=(0,A._)(["normalMatrix"]))),{name:"Normal Matrix"}),(0,A.c)((0,A.$)(p||(p=(0,A._)(["projectionMatrix"]))),{name:"Projection Matrix"}),(0,A.B)((0,A.$)(h||(h=(0,A._)(["\n  #ifdef USE_INSTANCING\n    true\n  #else\n    false\n  #endif\n"])))),(0,A.c)((0,A.$)(m||(m=(0,A._)(["instanceMatrix"]))),{name:"Instance Matrix",only:"vertex"});var H=(0,A.b)((0,A.$)(g||(g=(0,A._)(["uv"]))),{name:"UV",varying:!0}),V=function(e,t){return(0,A.i)((0,A.V)(e,{name:t,varying:!0}),function(e){return{get world(){return(0,A.V)((0,A.$)(i||(i=(0,A._)(["\n  vec3(\n    "," *\n    #ifdef USE_INSTANCING\n    instanceMatrix *\n    #endif\n    vec4(",", 1.0)\n  )\n"])),U,e),{varying:!0,name:"".concat(t," (World Space)")})},get view(){return(0,A.V)(N(e),{varying:!0,name:"".concat(t," (View Space)")})}}})},W=V((0,A.$)(y||(y=(0,A._)(["position"]))),"Vertex Position"),K=V((0,A.$)(b||(b=(0,A._)(["normal"]))),"Vertex Normal"),G=(0,A.V)((0,A.$)(x||(x=(0,A._)(["vec3(-","[0][2], -","[1][2], -","[2][2])"])),F,F,F),{varying:!0,name:"View Direction"});(0,A.B)((0,A.$)(_||(_=(0,A._)(["gl_FrontFacing"]))),{only:"fragment"});var q=function(e,t){return(0,A.U)(e,(0,A.$)(w||(w=(0,A._)(["",""])),t),{name:"Attribute: ".concat(t),varying:!0,vertex:{header:(0,A.$)(S||(S=(0,A._)(["attribute "," ",";"])),e,t)}})},Y=function(e,t,n){var r={value:t},i=(0,A.U)(e,void 0,(0,A.d)((0,A.d)({name:"Uniform (".concat(e,")")},n),{},{uniform:r}));return(0,A.i)(i,function(){return{set value(v){r.value=v},get value(){return r.value}}})},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Y("float",e,{name:"Time Uniform",update:function(e){t.value+=e}});return t}(),Z=Y("vec2",new D.Vector2(0,0),{name:"Current Render Resolution",update:function(e,t,n,r){Z.value.x=r.domElement.width,Z.value.y=r.domElement.height}}),X=Y("float",0,{name:"Camera Near Plane",update:function(e,t){t instanceof D.PerspectiveCamera&&(X.value=t.near)}}),J=Y("float",0,{name:"Camera Far Plane",update:function(e,t){t instanceof D.PerspectiveCamera&&(J.value=t.far)}}),ee=(0,A.b)((0,A.$)(E||(E=(0,A._)([""," / ",""])),B,Z),{name:"Screen UV"}),et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.normal,n=void 0===t?K.world:t,r=e.bias,i=void 0===r?0:r,o=e.intensity,a=void 0===o?1:o,l=e.power,s=void 0===l?2:l,u=e.factor,c=void 0===u?1:u;return(0,A.F)((0,$.zG)(n,function(e){return(0,A.U)((0,A.t)(e),(0,A.$)(C||(C=(0,A._)(["normalize(",")"])),e),{name:"Normalize"})},function(e){return(0,A.F)((0,A.$)(P||(P=(0,A._)(["dot(",", ",")"])),G,e),{name:"Dot Product"})},function(e){return(0,A.A)(c,e)},function(e){return(0,A.e)(e)},function(e){return(0,A.P)(e,s)},function(e){return(0,A.a)(e,a)},function(e){return(0,A.A)(e,i)},function(e){return(0,A.f)(e)}),{name:"Fresnel"})},en=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=n[0][0],o=1;o<n.length;o++){var a=n[o],l=n[o-1];i=(0,A.L)(i,a[0],(0,A.g)(l[1],a[1],e))}return i};(0,A.j)(function(e){return(0,A.k)(z||(z=(0,A._)(["\n		mat4 ","(vec3 axis, float angle) {\n			axis = normalize(axis);\n			float s = sin(angle);\n			float c = cos(angle);\n			float oc = 1.0 - c;\n			return mat4(\n				oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n				oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n				oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n				0.0,                                0.0,                                0.0,                                1.0\n			);\n		}\n	"])),e)}),(0,A.j)(function(e){return(0,A.k)(k||(k=(0,A._)(["\n		mat3 ","(float angle) {\n			float s = sin(angle);\n			float c = cos(angle);\n			return mat3(\n				1.0, 0.0, 0.0,\n				0.0, c, s,\n				0.0, -s, c\n			);\n		}\n	"])),e)}),(0,A.j)(function(e){return(0,A.k)(O||(O=(0,A._)(["\n		mat3 ","(float angle) {\n			float s = sin(angle);\n			float c = cos(angle);\n		\n			return mat3(\n				c, 0.0, -s,\n				0.0, 1.0, 0.0,\n				s, 0.0, c\n			);\n		}\n	"])),e)}),(0,A.j)(function(e){return(0,A.k)(M||(M=(0,A._)(["\n		mat3 ","(float angle) {\n			float s = sin(angle);\n			float c = cos(angle);\n		\n			return mat3(\n				c, s, 0.0,\n				-s, c, 0.0,\n				0.0, 0.0, 1.0\n			);\n		}\n	"])),e)});var er=function(e,t){var n=(0,A.n)((0,A.$)(T||(T=(0,A._)(["texture2D(",", ",")"])),e,t),{name:"Texture2D"});return(0,A.d)((0,A.d)({},n),{},{color:(0,A.V)((0,A.$)(j||(j=(0,A._)(["",".rgb"])),n),{name:"Texture2D Color"}),alpha:(0,A.F)((0,A.$)(R||(R=(0,A._)(["",".a"])),n),{name:"Texture2D Alpha"})})},ei=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:X,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:J;return(0,A.F)((0,$.zG)(e,function(e){return(0,A.F)(er(t,e).x,{name:"Read Depth from Depth Texture (Raw)"})},function(e){return(0,A.$)(I||(I=(0,A._)(["perspectiveDepthToViewZ(",", ",", ",")"])),e,n,r)}),{name:"Read Depth from Depth Texture (Eye Space)"})},eo=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(!i.has(t)){i.add(t);for(var o=0,a=el(t,n);o<a.length;o++)e(a[o],n,r,i);r(t)}},ea=function(e,t,n){var r=[];return eo(e,t,function(e){(void 0===n||n(e))&&r.push(e)}),r},el=function(e,t){return((0,A.p)(e)?es(e,t):(0,A.q)(e)?e.values:(0,A.r)(e)?e.expression.values:[]).flat(1/0).filter(eu)},es=function(e,t){var n,r,i,o,a,l,s,u,c=e._unitConfig,f=[];return c.varying&&"any"!==t&&"vertex"!==t||f.push(c.value),("any"===t||"vertex"===t)&&f.push(null===(n=c.vertex)||void 0===n?void 0:null===(r=n.header)||void 0===r?void 0:r.values,null===(i=c.vertex)||void 0===i?void 0:null===(o=i.body)||void 0===o?void 0:o.values),("any"===t||"fragment"===t)&&f.push(null===(a=c.fragment)||void 0===a?void 0:null===(l=a.header)||void 0===l?void 0:l.values,null===(s=c.fragment)||void 0===s?void 0:null===(u=s.body)||void 0===u?void 0:u.values),f.filter(eu)},eu=function(e){return!!e},ec=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){return++e}},ef=function(e){return"/*** UNIT: ".concat(e._unitConfig.name," ***/")},ed=function(e){return"\n"},ep=function(e,t,n){!n.seen.has(e)&&(n.seen.add(e),(0,A.p)(e)?em(e,t,n):(0,A.r)(e)&&eh(e,t,n))},eh=function(e,t,n){n.header.push(e.expression)},em=function(e,t,n){if(!(0,A.v)(e,t))throw Error("vertex"===t?'Encountered a unit "'.concat(e._unitConfig.name,'" that is only allowed in the fragment shader, but was encountered when compiling the vertex shader. Please check your unit connections.'):'Encountered a unit "'.concat(e._unitConfig.name,"\" that is only allowed in the vertex shader, but was encountered when compiling the fragment shader. Consider wrapping the value, or the derived value you're interested in, in a Unit that has a varying."));var r,i,o,a,l,s=[];e._unitConfig.varying&&s.push((0,A.w)("flat"===e._unitConfig.varying?"flat":void 0,"varying",e._unitConfig.type,"v_".concat(e._unitConfig.variableName))),e._unitConfig.uniform&&s.push((0,A.w)("uniform",e._unitConfig.type,(0,A.u)(e))),null!==(r=e._unitConfig[t])&&void 0!==r&&r.header&&s.push(null===(l=e._unitConfig[t])||void 0===l?void 0:l.header),s.length&&(i=n.header).push.apply(i,[ef(e)].concat(s,[ed()]));var u=e._unitConfig.varying&&"fragment"===t?"v_".concat(e._unitConfig.variableName):e._unitConfig.uniform?(0,A.u)(e):(0,A.x)(e._unitConfig.value,e._unitConfig.type);n.body.push(ef(e)),e._unitConfig.uniform||n.body.push((0,A.w)(e._unitConfig.type,e._unitConfig.variableName,"=",u)),null!==(o=e._unitConfig[t])&&void 0!==o&&o.body&&n.body.push((0,A.y)(!e._unitConfig.uniform&&(0,A.w)(e._unitConfig.type,"value","=",e._unitConfig.variableName),null===(a=e._unitConfig[t])||void 0===a?void 0:a.body,!e._unitConfig.uniform&&(0,A.z)(e._unitConfig.variableName,"value"))),!e._unitConfig.uniform&&e._unitConfig.varying&&"vertex"===t&&n.body.push((0,A.z)("v_".concat(e._unitConfig.variableName),e._unitConfig.variableName)),n.body.push(ed())},ev=function(e,t){if((0,A.p)(e)){e._unitConfig.variableName=(0,A.C)((0,A.E)(e._unitConfig.name),t());return}if((0,A.r)(e)){(0,A.G)(e,"snippet_".concat(t()));return}},eg=function(e,t,n){return eo(e,t,function(e){return ep(e,t,n)}),(0,A.H)("/*** PROGRAM: ".concat(t.toUpperCase()," ***/\n"),"precision highp float;\n",n.header,"void main()",(0,A.y)(n.body))},ey=function(e){var t=ec();eo(e,"any",function(e){return ev(e,t)});var n=eb(),r=eg(e,"fragment",n),i=eb();n.seen.forEach(function(e){(0,A.p)(e)&&e._unitConfig.varying&&eo(e,"vertex",function(e){return ep(e,"vertex",i)})});var o=eg(e,"vertex",i),a=ea(e,"any",function(e){return(0,A.p)(e)&&!!e._unitConfig.uniform}).reduce(function(e,t){return(0,A.d)((0,A.d)({},e),{},(0,A.s)({},(0,A.u)(t),t._unitConfig.uniform))},{}),l=ea(e,"any",function(e){return(0,A.p)(e)&&!!e._unitConfig.update}),s=ea(e,"any",A.p);return[{vertexShader:o,fragmentShader:r,uniforms:a},{update:function(e,t,n,r){var i,o=performance.now(),a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,A.o)(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(l);try{for(a.s();!(i=a.n()).done;){var s=i.value,u=s._unitState;(void 0===u.lastUpdateAt||u.lastUpdateAt<o)&&(s._unitConfig.update(e,t,n,r),u.lastUpdateAt=o)}}catch(c){a.e(c)}finally{a.f()}},dispose:function(){return s.forEach(function(e){var t,n;return null===(t=(n=e._unitConfig).dispose)||void 0===t?void 0:t.call(n)})}}]},eb=function(){return{header:[],body:[],nextid:ec(),seen:new Set}}},7853:function(e,t,n){"use strict";/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */ var r=n(8071);function i(e,t,n,r){var o=e.indexOf(t,n);return"\\"===e.charAt(o-1)?i(e,t,o+1):o}e.exports=function(e,t,n){if("string"!=typeof e)throw TypeError("expected a string");"function"==typeof t&&(n=t,t=null),"string"==typeof t&&(t={sep:t});var o,a,l=r({sep:"."},t),s=l.quotes||['"',"'","`"];!0===l.brackets?o={"<":">","(":")","[":"]","{":"}"}:l.brackets&&(o=l.brackets);var u=[],c=[],f=[""],d=l.sep,p=e.length,h=-1;function m(){if(o&&c.length)return o[c[c.length-1]]}for(;++h<p;){var g,y,b=e[h],x=e[h+1],_={val:b,idx:h,arr:f,str:e};if(u.push(_),"\\"===b){_.val=!0===(g=h,"function"==typeof l.keepEscaping?l.keepEscaping(e,g):!0===l.keepEscaping||"\\"===e[g+1])?b+x:x,_.escaped=!0,"function"==typeof n&&n(_),f[f.length-1]+=_.val,h++;continue}if(o&&o[b]){c.push(b);var w=m(),S=h+1;if(-1!==e.indexOf(w,S+1))for(;c.length&&S<p;){var E=e[++S];if("\\"===E){E++;continue}if(-1!==s.indexOf(E)){S=i(e,E,S+1);continue}if(w=m(),c.length&&-1===e.indexOf(w,S+1))break;if(o[E]){c.push(E);continue}w===E&&c.pop()}if(-1===(a=S)){f[f.length-1]+=b;continue}b=e.slice(h,a+1),_.val=b,_.idx=h=a}if(-1!==s.indexOf(b)){if(-1===(a=i(e,b,h+1))){f[f.length-1]+=b;continue}b=!0===(y=b,!0===l.keepDoubleQuotes&&'"'===y||!0===l.keepSingleQuotes&&"'"===y||l.keepQuotes)?e.slice(h,a+1):e.slice(h+1,a),_.val=b,_.idx=h=a}if("function"==typeof n&&(n(_,u),b=_.val,h=_.idx),_.val===d&&!1!==_.split){f.push("");continue}f[f.length-1]+=_.val}return f}},8071:function(e,t,n){"use strict";var r=n(1833),i=n(1052);function o(e){return e&&"object"==typeof e||r(e)}e.exports=Object.assign||function(e){if(null==e)throw TypeError("Cannot convert undefined or null to object");o(e)||(e={});for(var t=1;t<arguments.length;t++){var n,r=arguments[t];(n=r)&&"string"==typeof n&&(r=function(e){var t={};for(var n in e)t[n]=e[n];return t}(r)),o(r)&&(function(e,t){for(var n in t){var r;r=n,Object.prototype.hasOwnProperty.call(t,r)&&(e[n]=t[n])}}(e,r),i(e,r))}return e}},7804:function(e,t,n){"use strict";n.d(t,{Z:function(){return z}});var r,i,o=n(705),a=n.n(o),l=n(9477),s=n(9932),u=n.n(s),c=n(1818),f=n.n(c),d=n(1386),p=n.n(d);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w={position:"csm_Position",positionRaw:"csm_PositionRaw",pointSize:"csm_PointSize",fragColor:"csm_FragColor",diffuseColor:"csm_DiffuseColor",normal:"csm_Normal",roughness:"csm_Roughness",metalness:"csm_Metalness",emissive:"csm_Emissive",ao:"csm_AO"},S=(h(r={},"".concat(w.normal),{"#include <beginnormal_vertex>":"\n    vec3 objectNormal = ".concat(w.normal,";\n    #ifdef USE_TANGENT\n	    vec3 objectTangent = vec3( tangent.xyz );\n    #endif\n    ")}),h(r,"".concat(w.position),{"#include <begin_vertex>":"\n    vec3 transformed = ".concat(w.position,";\n  ")}),h(r,"".concat(w.positionRaw),{"#include <begin_vertex>":"\n    vec4 csm_positionUnprojected = ".concat(w.positionRaw,";\n    mat4x4 csm_unprojectMatrix = projectionMatrix * modelViewMatrix;\n    #ifdef USE_INSTANCING\n      csm_unprojectMatrix = csm_unprojectMatrix * instanceMatrix;\n    #endif\n    csm_positionUnprojected = inverse(csm_unprojectMatrix) * csm_positionUnprojected;\n    vec3 transformed = csm_positionUnprojected.xyz;\n  ")}),h(r,"".concat(w.pointSize),{"gl_PointSize = size;":"\n    gl_PointSize = ".concat(w.pointSize,";\n    ")}),h(r,"".concat(w.diffuseColor),{"#include <color_fragment>":"\n    #include <color_fragment>\n    diffuseColor = ".concat(w.diffuseColor,";\n  ")}),h(r,"".concat(w.fragColor),{"#include <dithering_fragment>":"\n    #include <dithering_fragment>\n    gl_FragColor  = ".concat(w.fragColor,";\n  ")}),h(r,"".concat(w.emissive),{"vec3 totalEmissiveRadiance = emissive;":"\n    vec3 totalEmissiveRadiance = ".concat(w.emissive,";\n    ")}),h(r,"".concat(w.roughness),{"#include <roughnessmap_fragment>":"\n    #include <roughnessmap_fragment>\n    roughnessFactor = ".concat(w.roughness,";\n    ")}),h(r,"".concat(w.metalness),{"#include <metalnessmap_fragment>":"\n    #include <metalnessmap_fragment>\n    metalnessFactor = ".concat(w.metalness,";\n    ")}),h(r,"".concat(w.ao),{"#include <aomap_fragment>":"\n    #include <aomap_fragment>\n    reflectedLight.indirectDiffuse *= 1. - ".concat(w.ao,";\n    ")}),r),E=(h(i={},"".concat(w.position),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":"\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( ".concat(w.position,", 1.0 );\n  ")}),h(i,"".concat(w.positionRaw),{"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );":"\n    gl_Position = ".concat(w.position,";\n  ")}),h(i,"".concat(w.diffuseColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":"\n    gl_FragColor = ".concat(w.diffuseColor,";\n  ")}),h(i,"".concat(w.fragColor),{"gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );":"\n    gl_FragColor = ".concat(w.fragColor,";\n  ")}),i),C=["baseMaterial","fragmentShader","vertexShader","uniforms","patchMap","cacheKey"];function P(e,t){Object.assign(e,t),Object.entries(Object.getOwnPropertyDescriptors(Object.getPrototypeOf(t))).filter(function(e){return"function"==typeof e[1].get&&"__proto__"!==e[0]}).forEach(function(t){Object.defineProperty(e,t[0],t[1])})}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=_(o);if(t){var r=_(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return b(e)}(this,e)});function o(e){var t,n,r=e.baseMaterial,a=e.fragmentShader,s=e.vertexShader,u=e.uniforms,c=e.patchMap,f=e.cacheKey,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,C);if(!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),!function(e){try{new e}catch(t){if(t.message.indexOf("is not a constructor")>=0)return!1}return!0}(r)?Object.assign(n=r,d):n=new r(d),"RawShaderMaterial"===n.type)throw Error("CustomShaderMaterial does not support RawShaderMaterial");(t=i.call(this)).uniforms=u||{},t.__csm={patchMap:c||{},fragmentShader:a||"",vertexShader:s||"",cacheKey:f,baseMaterial:r,instanceID:l.MathUtils.generateUUID(),type:n.type},P(b(t),n);var p=t.__csm,h=p.fragmentShader,m=p.vertexShader;p.instanceID;var g=t.uniforms;return t.generateMaterial(h,m,g),t}return n=[{key:"update",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.uniforms=t.uniforms||this.uniforms,P(this.__csm,t);var n=this.__csm,r=n.fragmentShader,i=n.vertexShader,o=n.instanceID,l=this.uniforms,s=Object.values(l).reduce(function(e,t){return e+JSON.stringify(t.value)},"");this.uuid=(null==t?void 0:null===(e=t.cacheKey)||void 0===e?void 0:e.call(t))||a()([r,i,s,o]),this.generateMaterial(r,i,l)}},{key:"clone",value:function(){var e={baseMaterial:this.__csm.baseMaterial,fragmentShader:this.__csm.fragmentShader,vertexShader:this.__csm.vertexShader,uniforms:this.uniforms,patchMap:this.__csm.patchMap,cacheKey:this.__csm.cacheKey},t=new this.constructor(e);return Object.assign(this,t),t}},{key:"generateMaterial",value:function(e,t,n){var r=this,i=this.parseShader(e),o=this.parseShader(t);this.uniforms=n||{},this.customProgramCacheKey=function(){return r.uuid},this.onBeforeCompile=function(e){if(i){var t=r.patchShader(i,e.fragmentShader);e.fragmentShader=r.getMaterialDefine()+t}if(o){var n=r.patchShader(o,e.vertexShader);e.vertexShader="#define IS_VERTEX;\n"+n,e.vertexShader=r.getMaterialDefine()+e.vertexShader}e.uniforms=g(g({},e.uniforms),r.uniforms),r.uniforms=e.uniforms},this.needsUpdate=!0}},{key:"getMaterialDefine",value:function(){return"#define IS_".concat(this.__csm.type.toUpperCase(),";\n")}},{key:"getPatchMapForMaterial",value:function(){return"ShaderMaterial"===this.__csm.type?E:S}},{key:"patchShader",value:function(e,t){var n=t,r=g(g({},this.getPatchMapForMaterial()),this.__csm.patchMap);return Object.keys(r).forEach(function(t){Object.keys(r[t]).forEach(function(i){var o,a,l;o=e.main,RegExp("\\b".concat(t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"\\b")).test(o)&&(a=n,l=r[t][i],n=a.split(i).join(l))})}),n=n.replace("void main() {","\n          ".concat(e.header,"\n          void main() {\n            ").concat("\n\n#ifdef IS_VERTEX\n    vec3 csm_Position = position;\n    vec4 csm_PositionRaw = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n    vec3 csm_Normal = normal;\n#else\n    #if defined IS_SHADERMATERIAL || defined IS_MESHDEPTHMATERIAL || defined IS_MESHNORMALMATERIAL\n        vec4 csm_DiffuseColor = vec4(1., 0., 1., 1.);\n        vec4 csm_FragColor = vec4(1., 0., 1., 1.);\n    #else\n        #if defined IS_MESHSTANDARDMATERIAL || defined IS_MESHPHYSICALMATERIAL\n            vec3 csm_Emissive = emissive;\n            float csm_Roughness = roughness;\n            float csm_Metalness = metalness;\n            float csm_AO = 0.;\n        #endif\n        \n        #ifdef USE_MAP\n            vec4 _csm_sampledDiffuseColor = texture2D(map, vUv);\n\n            #ifdef DECODE_VIDEO_TEXTURE\n            // inline sRGB decode (TODO: Remove this code when https://crbug.com/1256340 is solved)\n            _csm_sampledDiffuseColor = vec4(mix(pow(_csm_sampledDiffuseColor.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), _csm_sampledDiffuseColor.rgb * 0.0773993808, vec3(lessThanEqual(_csm_sampledDiffuseColor.rgb, vec3(0.04045)))), _csm_sampledDiffuseColor.w);\n            #endif\n\n            vec4 csm_DiffuseColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;\n            vec4 csm_FragColor = vec4(diffuse, opacity) * _csm_sampledDiffuseColor;\n        #else\n            vec4 csm_DiffuseColor = vec4(diffuse, opacity);\n            vec4 csm_FragColor = vec4(diffuse, opacity);\n        #endif\n    #endif\n#endif\n","\n            ").concat(e.main,"\n          ")),n=e.defines+n}},{key:"parseShader",value:function(e){if(e){var t=e.replace(/\/\*\*(.*?)\*\/|\/\/(.*?)\n/gm,""),n=u()(t),r=p()(n),i=r.map(function(e){return e.name}).indexOf("main");return{defines:"",header:f()(n.slice(0,i>=0?r[i].outer[0]:void 0)),main:i>=0?this.getShaderFromIndex(n,r[i].body):""}}}},{key:"getShaderFromIndex",value:function(e,t){return f()(e.slice(t[0],t[1]))}}],y(o.prototype,n),r&&y(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(l.Material)},7628:function(e,t,n){"use strict";n.d(t,{T:function(){return a},w:function(){return o}});var r=n(1180),i=n(9477);class o{constructor(){(0,r.Z)(this,"enabled",!0),(0,r.Z)(this,"needsSwap",!0),(0,r.Z)(this,"clear",!1),(0,r.Z)(this,"renderToScreen",!1)}setSize(e,t){}render(e,t,n,r,i){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}class a{constructor(e){(0,r.Z)(this,"camera",new i.OrthographicCamera(-1,1,1,-1,0,1)),(0,r.Z)(this,"geometry",new i.PlaneGeometry(2,2)),(0,r.Z)(this,"mesh",void 0),this.mesh=new i.Mesh(this.geometry,e)}get material(){return this.mesh.material}set material(e){this.mesh.material=e}dispose(){this.mesh.geometry.dispose()}render(e){e.render(this.mesh,this.camera)}}},3955:function(e,t,n){"use strict";n.d(t,{m:function(){return l}});var r=n(9477),i=n(7628),o=n(4360);let a={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new r.Color(0)},defaultOpacity:{value:0}},vertexShader:"varying vec2 vUv;\nvoid main() {\n	vUv = uv;\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nuniform vec3 defaultColor;\nuniform float defaultOpacity;\nuniform float luminosityThreshold;\nuniform float smoothWidth;\nvarying vec2 vUv;\nvoid main() {\n	vec4 texel = texture2D( tDiffuse, vUv );\n	vec3 luma = vec3( 0.299, 0.587, 0.114 );\n	float v = dot( texel.xyz, luma );\n	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\n	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\n	gl_FragColor = mix( outputColor, texel, alpha );\n}"};var l=function(e,t,n,l){this.strength=void 0!==t?t:1,this.radius=n,this.threshold=l,this.resolution=void 0!==e?new r.Vector2(e.x,e.y):new r.Vector2(256,256),this.clearColor=new r.Color(0,0,0);var s={minFilter:r.LinearFilter,magFilter:r.LinearFilter,format:r.RGBAFormat};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;var u=Math.round(this.resolution.x/2),c=Math.round(this.resolution.y/2);this.renderTargetBright=new r.WebGLRenderTarget(u,c,s),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let f=0;f<this.nMips;f++){var d=new r.WebGLRenderTarget(u,c,s);d.texture.name="UnrealBloomPass.h"+f,d.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(d);var p=new r.WebGLRenderTarget(u,c,s);p.texture.name="UnrealBloomPass.v"+f,p.texture.generateMipmaps=!1,this.renderTargetsVertical.push(p),u=Math.round(u/2),c=Math.round(c/2)}void 0===a&&console.error("THREE.UnrealBloomPass relies on LuminosityHighPassShader"),this.highPassUniforms=r.UniformsUtils.clone(a.uniforms),this.highPassUniforms.luminosityThreshold.value=l,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new r.ShaderMaterial({uniforms:this.highPassUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,defines:{}}),this.separableBlurMaterials=[];var h=[3,5,7,9,11],u=Math.round(this.resolution.x/2),c=Math.round(this.resolution.y/2);for(let m=0;m<this.nMips;m++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(h[m])),this.separableBlurMaterials[m].uniforms.texSize.value=new r.Vector2(u,c),u=Math.round(u/2),c=Math.round(c/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0,this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new r.Vector3(1,1,1),new r.Vector3(1,1,1),new r.Vector3(1,1,1),new r.Vector3(1,1,1),new r.Vector3(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,void 0===o.C&&console.error("THREE.UnrealBloomPass relies on CopyShader");var g=o.C;this.copyUniforms=r.UniformsUtils.clone(g.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new r.ShaderMaterial({uniforms:this.copyUniforms,vertexShader:g.vertexShader,fragmentShader:g.fragmentShader,blending:r.AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new r.Color,this.oldClearAlpha=1,this.basic=new r.MeshBasicMaterial,this.fsQuad=new i.T(null)};l.prototype=Object.assign(Object.create(i.w.prototype),{constructor:l,dispose:function(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose()},setSize:function(e,t){var n=Math.round(e/2),i=Math.round(t/2);this.renderTargetBright.setSize(n,i);for(let o=0;o<this.nMips;o++)this.renderTargetsHorizontal[o].setSize(n,i),this.renderTargetsVertical[o].setSize(n,i),this.separableBlurMaterials[o].uniforms.texSize.value=new r.Vector2(n,i),n=Math.round(n/2),i=Math.round(i/2)},render:function(e,t,n,r,i){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();var o=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),i&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);var a=this.renderTargetBright;for(let s=0;s<this.nMips;s++)this.fsQuad.material=this.separableBlurMaterials[s],this.separableBlurMaterials[s].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[s].uniforms.direction.value=l.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[s]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[s].uniforms.colorTexture.value=this.renderTargetsHorizontal[s].texture,this.separableBlurMaterials[s].uniforms.direction.value=l.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[s]),e.clear(),this.fsQuad.render(e),a=this.renderTargetsVertical[s];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,i&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(n),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=o},getSeperableBlurMaterial:function(e){return new r.ShaderMaterial({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new r.Vector2(.5,.5)},direction:{value:new r.Vector2(.5,.5)}},vertexShader:"varying vec2 vUv;\nvoid main() {\n	vUv = uv;\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"#include <common>varying vec2 vUv;\nuniform sampler2D colorTexture;\nuniform vec2 texSize;uniform vec2 direction;\nfloat gaussianPdf(in float x, in float sigma) {	return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;}void main() {\n	vec2 invSize = 1.0 / texSize;	float fSigma = float(SIGMA);	float weightSum = gaussianPdf(0.0, fSigma);	vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;	for( int i = 1; i < KERNEL_RADIUS; i ++ ) {		float x = float(i);		float w = gaussianPdf(x, fSigma);		vec2 uvOffset = direction * invSize * x;		vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;		vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;		diffuseSum += (sample1 + sample2) * w;		weightSum += 2.0 * w;	}	gl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n}"})},getCompositeMaterial:function(e){return new r.ShaderMaterial({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\nvoid main() {\n	vUv = uv;\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"varying vec2 vUv;uniform sampler2D blurTexture1;uniform sampler2D blurTexture2;uniform sampler2D blurTexture3;uniform sampler2D blurTexture4;uniform sampler2D blurTexture5;uniform sampler2D dirtTexture;uniform float bloomStrength;uniform float bloomRadius;uniform float bloomFactors[NUM_MIPS];uniform vec3 bloomTintColors[NUM_MIPS];float lerpBloomFactor(const in float factor) { 	float mirrorFactor = 1.2 - factor;	return mix(factor, mirrorFactor, bloomRadius);}void main() {	gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) + 									 lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) + 									 lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) + 									 lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) + 									 lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );}"})}}),l.BlurDirectionX=new r.Vector2(1,0),l.BlurDirectionY=new r.Vector2(0,1)},4360:function(e,t,n){"use strict";n.d(t,{C:function(){return r}});let r={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"varying vec2 vUv;\nvoid main() {\n	vUv = uv;\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform float opacity;\nuniform sampler2D tDiffuse;\nvarying vec2 vUv;\nvoid main() {\n	vec4 texel = texture2D( tDiffuse, vUv );\n	gl_FragColor = opacity * texel;\n}"}},1467:function(e,t,n){"use strict";n.d(t,{Q5:function(){return K},BT:function(){return J},EF:function(){return q},Bc:function(){return G}});var r,i=n(7294),o=n(8803),a=n(9477),l=function(e){var t=(0,i.useRef)();return t.current||(t.current=e()),t.current},s=n(7737),u=n(3041);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=1,h=function(e){var t="a_particle_".concat(p++),n=(0,s.J)(e),r="float"===n?1:"vec2"===n?2:"vec3"===n?3:4;return(0,s.i)((0,u.ah)(n,t),function(){return{write:function(n,i){var o="function"==typeof i?i(e):i,l=m(n,t,r);"number"==typeof o?l.setX(n.cursor,o):o instanceof a.Vector2?l.setXY(n.cursor,o.x,o.y):o instanceof a.Vector3?l.setXYZ(n.cursor,o.x,o.y,o.z):o instanceof a.Color?l.setXYZ(n.cursor,o.r,o.g,o.b):o instanceof a.Vector4&&l.setXYZW(n.cursor,o.x,o.y,o.z,o.w)}}})},m=function(e,t,n){if(!e.geometry.attributes[t]){var r;e.geometry.setAttribute(t,(r=e.capacity+e.safetyCapacity,new a.InstancedBufferAttribute(new Float32Array(r*n),n)))}return e.geometry.attributes[t]},g=function(){var e=h(new a.Vector2),t=y(e);return d(d({},t),{},{write:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.write(n,function(e){return e.set(t.time.value+i,t.time.value+i+r)})}})},y=function(e){var t=(0,s.b)(e),n=t.x,r=t.y,i=u.nY,o=(0,s.S)(i,n),a=(0,s.S)(r,n);return{time:i,startTime:n,endTime:r,age:o,maxAge:a,progress:(0,s.D)(o,a)}};function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=new a.Vector3,C=new a.Quaternion,P=new a.Vector3(1,1,1),z=new a.Matrix4,k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=S(o);if(t){var r=S(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return _(e)}(this,e)});function o(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r/10;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),c(_(n=i.call(this,e,t,r+l)),"cursor",0),c(_(n),"lastCursor",0),n.capacity=r,n.safetyCapacity=l,n.count=0,n.onBeforeRender=function(){var e=n.cursor-n.lastCursor;if(e>0){var t,r=n.lastCursor+e-(n.capacity+n.safetyCapacity);r>0?console.error("Tried to emit ".concat(e," particles, which were ").concat(r," too many. Please increase the capacity (currently ").concat(n.capacity,") and/or safety capacity (currently ").concat(n.safetyCapacity,') of this particle system, or emit fewer particles. (name: "').concat(n.name,'")')):(n.count=Math.max(n.count,n.cursor),[n.instanceMatrix].concat(function(e){if(Array.isArray(e))return b(e)}(t=Object.values(n.geometry.attributes))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach(function(t){t.needsUpdate=!0,t instanceof a.InstancedBufferAttribute&&(t.updateRange.offset=n.lastCursor*t.itemSize,t.updateRange.count=e*t.itemSize)})),n.cursor>=n.capacity&&(n.cursor=0)}n.lastCursor=n.cursor},n}return n=[{key:"emit",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=0;n<e;n++)E.set(0,0,0),C.set(0,0,0,1),P.set(1,1,1),null==t||t({mesh:this,index:this.cursor,position:E,rotation:C,scale:P}),this.setMatrixAt(this.cursor,z.compose(E,C,P)),this.cursor++}}],x(o.prototype,n),r&&x(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(a.InstancedMesh);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){var e,t;function n(e){var t,r,i;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),t=this,i=[],(r="listeners")in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,e&&this.add(e)}return e=[{key:"add",value:function(e){return this.listeners.push(e),this}},{key:"remove",value:function(e){var t=this.listeners.indexOf(e,0);return t>-1&&this.listeners.splice(t,1),this}},{key:"clear",value:function(){return this.listeners.length=0,this}},{key:"emit",value:function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(this.listeners);try{for(n.s();!(t=n.n()).done;)(0,t.value)(e)}catch(r){n.e(r)}finally{n.f()}return this}}],M(n.prototype,e),t&&M(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}();function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function I(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){var n=e.indexOf(t,0);n>=0&&(e[n]=e[e.length-1],e.pop())}r=Symbol.iterator;var L=function(){function e(t){I(this,e),D(this,"entities",[]),D(this,"onEntityAdded",new T),D(this,"onEntityRemoved",new T),this.query=t}return $(e,[{key:r,value:function(){return this.entities[Symbol.iterator]()}},{key:"indexEntity",value:function(e){var t=this.query.every(function(t){return t in e}),n=e.__miniplex.archetypes.includes(this);if(t&&!n){e.__miniplex.archetypes.push(this),this.entities.push(e),this.onEntityAdded.emit(e);return}if(!t&&n){this.removeEntity(e);return}}},{key:"removeEntity",value:function(e){N(this.entities,e),N(e.__miniplex.archetypes,this),this.onEntityRemoved.emit(e)}}]),e}(),B=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(I(this,e),D(this,"entities",[]),D(this,"nextId",0),D(this,"archetypes",new Map),D(this,"addComponent",function(e,n,r){var i;if((null===(i=e.__miniplex)||void 0===i?void 0:i.world)!==t)throw Error("Tried to add components to an entity that is not managed by this world.");if(n in e)throw Error('Component "'.concat(String(n),'" is already present in entity. Aborting!'));e[n]=r,t.indexEntity(e)}),D(this,"removeComponent",function(e){for(var n,r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if((null===(n=e.__miniplex)||void 0===n?void 0:n.world)!==t)throw Error("Tried to remove ".concat(i," from an entity that is not managed by this world."));for(var a=0;a<i.length;a++){var l=i[a];if(!(l in e))throw Error('Tried to remove component "'.concat(String(l)," from an entity that doesn't have it."));delete e[l]}t.indexEntity(e)}),D(this,"queuedCommands",(r=[],{add:function(e){r.push(e)},flush:function(){r.forEach(function(e){return e()}),r.length=0},clear:function(){r.length=0}})),D(this,"queue",{createEntity:function(e){t.queuedCommands.add(function(){return t.createEntity(e)})},destroyEntity:function(e){t.queuedCommands.add(function(){return t.destroyEntity(e)})},extendEntity:function(e,n){t.queuedCommands.add(function(){return t.extendEntity(e,n)})},addComponent:function(e,n,r){t.queuedCommands.add(function(){return t.addComponent(e,n,r)})},removeComponent:function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.queuedCommands.add(function(){return t.removeComponent.apply(t,[e].concat(r))})},flush:function(){t.queuedCommands.flush()}}),n.entities){var r,i,o=R(n.entities);try{for(o.s();!(i=o.n()).done;){var a=i.value;this.createEntity(a)}}catch(l){o.e(l)}finally{o.f()}}}return $(e,[{key:"archetype",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(function(e){return"string"==typeof e&&""!==e}).sort(),i=JSON.stringify(r);if(this.archetypes.has(i))return this.archetypes.get(i);var o=new L(r);this.archetypes.set(i,o);var a,l=R(this.entities);try{for(l.s();!(a=l.n()).done;){var s=a.value;o.indexEntity(s)}}catch(u){l.e(u)}finally{l.f()}return o}},{key:"indexEntity",value:function(e){if(e.__miniplex.world===this){var t,n=R(this.archetypes.values());try{for(n.s();!(t=n.n()).done;)t.value.indexEntity(e)}catch(r){n.e(r)}finally{n.f()}}}},{key:"createEntity",value:function(e){var t=Object.assign(e,{__miniplex:{id:this.nextId++,world:this,archetypes:[]}});return this.entities.push(t),this.indexEntity(t),t}},{key:"destroyEntity",value:function(e){var t;if((null===(t=e.__miniplex)||void 0===t?void 0:t.world)===this){N(this.entities,e);for(var n=e.__miniplex.archetypes.length-1;n>=0;n--)e.__miniplex.archetypes[n].removeEntity(e);delete e.__miniplex}}},{key:"extendEntity",value:function(e,t){var n;if((null===(n=e.__miniplex)||void 0===n?void 0:n.world)!==this)throw Error("Tried to add components to an entity that is not managed by this world.");for(var r in t){if(r in e)throw Error('Component "'.concat(r,'" is already present in entity. Aborting!'));e[r]=t[r]}this.indexEntity(e)}},{key:"clear",value:function(){this.entities.length=0;var e,t=R(this.archetypes.values());try{for(t.s();!(e=t.n()).done;)e.value.entities.length=0}catch(n){t.e(n)}finally{t.f()}this.queuedCommands.clear()}}]),e}(),F=(0,i.createContext)(null);function U(){return(U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var V=["particles","limit","rate","setup","context"],W=new a.Matrix4,K=(0,i.forwardRef)(function(e,t){var n=e.particles,r=e.limit,l=void 0===r?1/0:r,s=e.rate,u=void 0===s?10:s,c=e.setup,f=e.context,d=H(e,V),p=(0,i.useRef)(null),h=(0,i.useContext)(void 0===f?F:f),m=(0,i.useRef)(0),g=(0,i.useRef)(l),y=(0,i.useRef)(new a.Matrix4);if(u===1/0&&l===1/0)throw Error("Emitter: rate and limit cannot both be Infinity. Please set one of them to a finite value.");var b=(0,i.useCallback)(function(e){W.copy(p.current.matrixWorld),W.premultiply(y.current),W.decompose(e.position,e.rotation,e.scale),null==c||c(e)},[c]);!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(0,i.useRef)(null);(0,o.A)(function(){var n=e();r.current!==n&&(r.current=n,t(n))},n)}(function(){var e=(null==n?void 0:n.current)||h.particles;return null==e?void 0:e.material},function(){g.current=l}),(0,i.useLayoutEffect)(function(){m.current=u===1/0?1/0:0,g.current=l},[u,l]);var x=(0,i.useCallback)(function(e){if(!(g.current<=0)){var t=(null==n?void 0:n.current)||h.particles;if(t){if(u!==1/0){var r="function"==typeof u?u():u;m.current+=e*r}if(m.current>=1){var i=Math.min(Math.trunc(m.current),g.current);t.updateMatrixWorld(),y.current.copy(t.matrixWorld).invert(),t.emit(i,b),m.current-=i,g.current-=i}}}},[n,null==h?void 0:h.particles,b,u,l]);return(0,o.A)(function(e,t){u&&x(a.MathUtils.clamp(t,0,.1))}),(0,i.useImperativeHandle)(t,function(){return p.current}),i.createElement("object3D",U({},d,{ref:p}))}),G=function(){return l(function(){return g()})},q=function(e){return l(function(){return h(e())})};function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Q=["children","capacity","safetyCapacity","geometry","material","updatePriority","context"],Z=new a.Matrix4,X=new a.Matrix4,J=(0,i.forwardRef)(function(e,t){var n=e.children,r=e.capacity,a=e.safetyCapacity,s=e.geometry,u=e.material,c=e.updatePriority,f=e.context,d=H(e,Q),p=l(function(){return new k(s,u,r,a)}),h=l(function(){return new B});return(0,o.A)(function(){if(0!==h.entities.length){p.updateMatrixWorld(),X.copy(p.matrixWorld).invert();var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}(h.entities);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n){var r=n.id,i=n.sceneObject;p.setMatrixAt(r,Z.copy(i.matrixWorld).premultiply(X))}}}catch(o){t.e(o)}finally{t.f()}p.instanceMatrix.needsUpdate=!0}},c),(0,i.useLayoutEffect)(function(){return function(){return p.dispose()}},[p]),(0,i.useImperativeHandle)(t,function(){return p}),i.createElement("primitive",U({object:p},d),i.createElement((void 0===f?F:f).Provider,{value:{particles:p,ecs:h}},n))});new a.Matrix4().makeScale(0,0,0)},4671:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7294);let i="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),o=i?r.useEffect:r.useLayoutEffect;function a(e){let t="function"==typeof e?function(e){let t;let n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(i!==t){let o=t;t=r?i:Object.assign({},t,i),n.forEach(e=>e(t,o))}},i=()=>t,o=(e,r=i,o=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let a=r(t);function l(){let n=r(t);if(!o(a,n)){let i=a;e(a=n,i)}}return n.add(l),()=>n.delete(l)},a=(e,t,r)=>t||r?o(e,t,r):(n.add(e),()=>n.delete(e)),l=()=>n.clear(),s={setState:r,getState:i,subscribe:a,destroy:l};return t=e(r,i,s),s}(e):e,n=(e=t.getState,n=Object.is)=>{let i;let[,a]=(0,r.useReducer)(e=>e+1,0),l=t.getState(),s=(0,r.useRef)(l),u=(0,r.useRef)(e),c=(0,r.useRef)(n),f=(0,r.useRef)(!1),d=(0,r.useRef)();void 0===d.current&&(d.current=e(l));let p=!1;(s.current!==l||u.current!==e||c.current!==n||f.current)&&(i=e(l),p=!n(d.current,i)),o(()=>{p&&(d.current=i),s.current=l,u.current=e,c.current=n,f.current=!1});let h=(0,r.useRef)(l);o(()=>{let e=()=>{try{let e=t.getState(),n=u.current(e);c.current(d.current,n)||(s.current=e,d.current=n,a())}catch(r){f.current=!0,a()}},n=t.subscribe(e);return t.getState()!==h.current&&e(),n},[]);let m=p?i:d.current;return(0,r.useDebugValue)(m),m};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let e=[n,t];return{next(){let t=e.length<=0;return{value:e.shift(),done:t}}}},n}},1180:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){var i;return i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===r(i)?i:String(i))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return i}})},7462:function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:function(){return r}})},4924:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},140:function(e,t,n){"use strict";n.d(t,{qf:function(){return i}});var r=n(9477);function i(e,t=!1){let n=null!==e[0].index,i=new Set(Object.keys(e[0].attributes)),a=new Set(Object.keys(e[0].morphAttributes)),l={},s={},u=e[0].morphTargetsRelative,c=new r.BufferGeometry,f=0;for(let d=0;d<e.length;++d){let p=e[d],h=0;if(n!==(null!==p.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let m in p.attributes){if(!i.has(m))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+'. All geometries must have compatible attributes; make sure "'+m+'" attribute exists among all geometries, or in none of them.'),null;void 0===l[m]&&(l[m]=[]),l[m].push(p.attributes[m]),h++}if(h!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". Make sure all geometries have the same number of attributes."),null;if(u!==p.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let g in p.morphAttributes){if(!a.has(g))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===s[g]&&(s[g]=[]),s[g].push(p.morphAttributes[g])}if(t){let y;if(n)y=p.index.count;else{if(void 0===p.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". The geometry must have either an index or a position attribute"),null;y=p.attributes.position.count}c.addGroup(f,y,d),f+=y}}if(n){let b=0,x=[];for(let _=0;_<e.length;++_){let w=e[_].index;for(let S=0;S<w.count;++S)x.push(w.getX(S)+b);b+=e[_].attributes.position.count}c.setIndex(x)}for(let E in l){let C=o(l[E]);if(!C)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+E+" attribute."),null;c.setAttribute(E,C)}for(let P in s){let z=s[P][0].length;if(0===z)break;c.morphAttributes=c.morphAttributes||{},c.morphAttributes[P]=[];for(let k=0;k<z;++k){let O=[];for(let M=0;M<s[P].length;++M)O.push(s[P][M][k]);let T=o(O);if(!T)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+P+" morphAttribute."),null;c.morphAttributes[P].push(T)}}return c}function o(e){let t,n,i;let o=0;for(let a=0;a<e.length;++a){let l=e[a];if(l.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=l.array.constructor),t!==l.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=l.itemSize),n!==l.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===i&&(i=l.normalized),i!==l.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;o+=l.array.length}let s=new t(o),u=0;for(let c=0;c<e.length;++c)s.set(e[c].array,u),u+=e[c].array.length;return new r.BufferAttribute(s,n,i)}}}]);